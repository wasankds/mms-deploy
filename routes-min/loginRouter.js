const _0x395313=_0x35cd;(function(_0x2782ac,_0x2ef370){const _0x5b0a1e=_0x35cd,_0x4b3c54=_0x2782ac();while(!![]){try{const _0x2f8fd9=parseInt(_0x5b0a1e(0xe8))/0x1*(-parseInt(_0x5b0a1e(0x191))/0x2)+-parseInt(_0x5b0a1e(0x104))/0x3+parseInt(_0x5b0a1e(0x15b))/0x4*(-parseInt(_0x5b0a1e(0xed))/0x5)+parseInt(_0x5b0a1e(0x180))/0x6+-parseInt(_0x5b0a1e(0x1aa))/0x7*(-parseInt(_0x5b0a1e(0xf8))/0x8)+parseInt(_0x5b0a1e(0xd4))/0x9*(parseInt(_0x5b0a1e(0xac))/0xa)+-parseInt(_0x5b0a1e(0x167))/0xb*(-parseInt(_0x5b0a1e(0x1a9))/0xc);if(_0x2f8fd9===_0x2ef370)break;else _0x4b3c54['push'](_0x4b3c54['shift']());}catch(_0x3c561d){_0x4b3c54['push'](_0x4b3c54['shift']());}}}(_0x444d,0x79462));const _0x1fdc6f=(function(){const _0x413453={'TDDKv':function(_0x3c8269,_0x1fa11c){return _0x3c8269!==_0x1fa11c;},'OrjqN':'JtwWn','VbkBS':function(_0x4dfdef,_0x286e9f){return _0x4dfdef===_0x286e9f;},'tfLtf':'jPKSb','rQsNr':function(_0x275c30,_0x59e9c9){return _0x275c30===_0x59e9c9;},'zPGHq':'pMCgU'};let _0x4e5de3=!![];return function(_0x2895cd,_0x48e62f){const _0x34c65d=_0x35cd,_0x38f64c={'UyDoe':function(_0x388f0a,_0x358785){const _0x2f1817=_0x35cd;return _0x413453[_0x2f1817(0x16b)](_0x388f0a,_0x358785);},'oiKWx':_0x413453[_0x34c65d(0x162)],'xNwey':function(_0x1602c5,_0x728e37){return _0x413453['VbkBS'](_0x1602c5,_0x728e37);},'cjkJy':_0x413453[_0x34c65d(0xe1)]};if(_0x413453[_0x34c65d(0xb6)](_0x413453[_0x34c65d(0x14a)],_0x413453['zPGHq'])){const _0x14c15d=_0x4e5de3?function(){const _0x23a67e=_0x34c65d;if(_0x38f64c[_0x23a67e(0x13f)](_0x38f64c[_0x23a67e(0x1b2)],_0x38f64c[_0x23a67e(0x1b2)])){const _0x4a3c65=_0xda5f1d[_0x23a67e(0xb2)]['prototype'][_0x23a67e(0x11f)](_0x2f8505),_0x52d4ab=_0x1122e8[_0x4b3fe5],_0xe62785=_0x56c372[_0x52d4ab]||_0x4a3c65;_0x4a3c65[_0x23a67e(0x107)]=_0x2c620f[_0x23a67e(0x11f)](_0x589dff),_0x4a3c65[_0x23a67e(0x16f)]=_0xe62785[_0x23a67e(0x16f)]['bind'](_0xe62785),_0x5bce5b[_0x52d4ab]=_0x4a3c65;}else{if(_0x48e62f){if(_0x38f64c[_0x23a67e(0xea)](_0x38f64c[_0x23a67e(0x173)],_0x38f64c['cjkJy'])){const _0x290531=_0x48e62f[_0x23a67e(0x114)](_0x2895cd,arguments);return _0x48e62f=null,_0x290531;}else return _0x47bb82;}}}:function(){};return _0x4e5de3=![],_0x14c15d;}else _0x65acbf[_0x34c65d(0x161)][_0x34c65d(0xf4)](_0x57da2d=>{const _0x5d6cba=_0x34c65d;if(_0x57da2d)throw _0x57da2d;_0x1ce4c9[_0x5d6cba(0xfe)](_0x1217a6);});};}());(function(){const _0x1e1700=_0x35cd,_0x4dbb8a={'cVcAh':'while\x20(true)\x20{}','EHrjM':_0x1e1700(0x163),'uwTrg':function(_0x8f72cd,_0x19eda5){return _0x8f72cd!==_0x19eda5;},'jeTqx':'RFLuN','AGSwX':_0x1e1700(0x16e),'pJwUe':_0x1e1700(0x14d),'diuYi':_0x1e1700(0x19c),'VoBqW':function(_0xb31d64,_0x212040){return _0xb31d64(_0x212040);},'UGLrs':'init','gRiOi':function(_0x462e8b,_0x3c5181){return _0x462e8b+_0x3c5181;},'OMOYM':_0x1e1700(0x13e),'gUaiW':function(_0xc29c3,_0x22467d){return _0xc29c3+_0x22467d;},'hjHrA':_0x1e1700(0x192),'epbwg':function(_0x572cf2,_0xf6ffaa){return _0x572cf2!==_0xf6ffaa;},'fUeCC':_0x1e1700(0xfc),'MflOt':function(_0x1c3be3,_0x45e81b){return _0x1c3be3(_0x45e81b);},'sIVfE':function(_0x39e4cc,_0x169023){return _0x39e4cc===_0x169023;},'nieSK':_0x1e1700(0x144),'ujRSX':_0x1e1700(0xcc),'NAOaM':function(_0x46c42a){return _0x46c42a();},'sEvhN':function(_0xf62a70,_0x6073d,_0x513e62){return _0xf62a70(_0x6073d,_0x513e62);}};_0x4dbb8a[_0x1e1700(0x189)](_0x1fdc6f,this,function(){const _0x5b6030=_0x1e1700,_0x4bd854={'AnRpH':_0x4dbb8a[_0x5b6030(0xc0)],'fuMOU':_0x4dbb8a[_0x5b6030(0x133)]};if(_0x4dbb8a[_0x5b6030(0xc9)](_0x4dbb8a['jeTqx'],_0x4dbb8a[_0x5b6030(0xd2)])){const _0xe9aa5f=new RegExp(_0x4dbb8a[_0x5b6030(0x15d)]),_0x1861eb=new RegExp(_0x4dbb8a[_0x5b6030(0xbe)],'i'),_0x2130fa=_0x4dbb8a[_0x5b6030(0x198)](_0x3660f6,_0x4dbb8a['UGLrs']);if(!_0xe9aa5f[_0x5b6030(0xf1)](_0x4dbb8a[_0x5b6030(0xcf)](_0x2130fa,_0x4dbb8a[_0x5b6030(0x149)]))||!_0x1861eb[_0x5b6030(0xf1)](_0x4dbb8a['gUaiW'](_0x2130fa,_0x4dbb8a[_0x5b6030(0x18c)])))_0x4dbb8a['epbwg'](_0x4dbb8a['fUeCC'],_0x4dbb8a[_0x5b6030(0x1a5)])?(_0x1c9aef[_0x5b6030(0x116)](_0x252a92[_0x5b6030(0x11c)]),_0x1dc4ff[_0x5b6030(0x1a2)](0x194)[_0x5b6030(0xeb)](_0x2c8914)):_0x4dbb8a[_0x5b6030(0x169)](_0x2130fa,'0');else{if(_0x4dbb8a[_0x5b6030(0x117)](_0x4dbb8a[_0x5b6030(0x196)],_0x4dbb8a['ujRSX']))return function(_0x1547f6){}['constructor'](_0x4bd854['AnRpH'])[_0x5b6030(0x114)](_0x4bd854[_0x5b6030(0xc6)]);else _0x4dbb8a[_0x5b6030(0x199)](_0x3660f6);}}else{const _0x909cf=_0x1fad70?function(){const _0x278007=_0x5b6030;if(_0x16d3f4){const _0x2e16c5=_0xfe47f9[_0x278007(0x114)](_0x549595,arguments);return _0x454e38=null,_0x2e16c5;}}:function(){};return _0xaaeae9=![],_0x909cf;}})();}());const _0x1706a4=(function(){const _0x33c478=_0x35cd,_0x3efa15={'yIVot':function(_0x33b95e,_0x3e9a86){return _0x33b95e(_0x3e9a86);},'khhHG':function(_0x14f59f,_0x435c3f){return _0x14f59f===_0x435c3f;},'YaoXM':_0x33c478(0x171),'mBFNj':_0x33c478(0x13c),'NYPMP':function(_0x39135d,_0x2a94b4){return _0x39135d===_0x2a94b4;},'MopvW':'JGXHd','kdmCZ':function(_0x49dfd5,_0x26e2f6){return _0x49dfd5!==_0x26e2f6;},'AqSqU':'GXYFC'};let _0x275ca4=!![];return function(_0x48516c,_0x27136c){const _0x2d3ec3=_0x33c478;if(_0x3efa15[_0x2d3ec3(0xf0)](_0x3efa15[_0x2d3ec3(0xff)],_0x3efa15[_0x2d3ec3(0xff)])){const _0x274a35=_0x32c8a1[_0x2d3ec3(0x114)](_0x236541,arguments);return _0x3d3aca=null,_0x274a35;}else{const _0x4628db=_0x275ca4?function(){const _0x351d2d=_0x2d3ec3,_0x448df9={'fOwmf':function(_0x2713e3,_0x4cd094){return _0x3efa15['yIVot'](_0x2713e3,_0x4cd094);}};if(_0x3efa15['khhHG'](_0x3efa15[_0x351d2d(0xef)],_0x3efa15[_0x351d2d(0x18e)]))_0x11ca65[_0x351d2d(0xae)]();else{if(_0x27136c){if(_0x3efa15[_0x351d2d(0xc2)](_0x3efa15[_0x351d2d(0x186)],_0x3efa15[_0x351d2d(0x186)])){const _0x45fe76=_0x27136c[_0x351d2d(0x114)](_0x48516c,arguments);return _0x27136c=null,_0x45fe76;}else{if(_0x473c4b)return _0x12b419;else _0x448df9[_0x351d2d(0x17c)](_0x26d209,0x0);}}}}:function(){};return _0x275ca4=![],_0x4628db;}};}()),_0x3fa30e=_0x1706a4(this,function(){const _0x55ce1f=_0x35cd,_0x5f4945={'YsQQw':_0x55ce1f(0x14d),'eBRQf':_0x55ce1f(0x19c),'VVnOC':function(_0xb6020c,_0x4b1ade){return _0xb6020c(_0x4b1ade);},'TmKRU':_0x55ce1f(0x10b),'hRkLL':function(_0x32415a,_0xa05c46){return _0x32415a+_0xa05c46;},'QhGNi':_0x55ce1f(0x13e),'tqAlO':function(_0x34012e,_0x4cbafa){return _0x34012e+_0x4cbafa;},'Hczaf':_0x55ce1f(0x192),'IOoZp':function(_0x26bb5f){return _0x26bb5f();},'NxCOe':function(_0x2b3e36,_0x4380d8){return _0x2b3e36+_0x4380d8;},'LBqhZ':_0x55ce1f(0x12d),'ssyMu':'{}.constructor(\x22return\x20this\x22)(\x20)','FdyeU':function(_0x24a576){return _0x24a576();},'zeSCE':_0x55ce1f(0x116),'RZKrW':'warn','mxzAT':_0x55ce1f(0x19a),'QYyfm':_0x55ce1f(0x10f),'zZDGo':'exception','DxxrN':_0x55ce1f(0x132),'sHUnR':_0x55ce1f(0x18d),'DPYQl':function(_0x543a9e,_0x491b89){return _0x543a9e<_0x491b89;},'mdtVm':function(_0x3bd825,_0x3ccf1b){return _0x3bd825===_0x3ccf1b;},'JeKKs':'fowpb','ONQNg':_0x55ce1f(0x197),'bxIYf':function(_0xec5f7e,_0x4ff3fb){return _0xec5f7e(_0x4ff3fb);},'xAaOu':function(_0x4f7b69,_0x451d07){return _0x4f7b69+_0x451d07;},'OjVBX':function(_0x4ae27b,_0x22f127){return _0x4ae27b+_0x22f127;},'fZZng':'LbdLi','gNLEt':_0x55ce1f(0x17a),'heeWi':function(_0x57c75f,_0x24e489){return _0x57c75f<_0x24e489;},'lmokO':function(_0x56be81,_0x589876){return _0x56be81!==_0x589876;},'TuIqM':_0x55ce1f(0x147)};let _0x48bc09;try{if(_0x5f4945[_0x55ce1f(0xaa)](_0x5f4945[_0x55ce1f(0xe0)],_0x5f4945[_0x55ce1f(0x190)])){const _0x134c7d=new _0x576c3a(_0x5f4945['YsQQw']),_0x4d7a24=new _0x42f28c(_0x5f4945[_0x55ce1f(0x128)],'i'),_0x50ff31=_0x5f4945[_0x55ce1f(0xe6)](_0x5f4e9d,_0x5f4945[_0x55ce1f(0x1a6)]);!_0x134c7d[_0x55ce1f(0xf1)](_0x5f4945[_0x55ce1f(0xca)](_0x50ff31,_0x5f4945[_0x55ce1f(0x184)]))||!_0x4d7a24[_0x55ce1f(0xf1)](_0x5f4945[_0x55ce1f(0xfd)](_0x50ff31,_0x5f4945[_0x55ce1f(0x159)]))?_0x5f4945[_0x55ce1f(0xe6)](_0x50ff31,'0'):_0x5f4945['IOoZp'](_0x1ca7bc);}else{const _0x373fed=_0x5f4945[_0x55ce1f(0xd6)](Function,_0x5f4945[_0x55ce1f(0x120)](_0x5f4945[_0x55ce1f(0xd8)](_0x5f4945[_0x55ce1f(0xd9)],_0x5f4945[_0x55ce1f(0x11a)]),');'));_0x48bc09=_0x5f4945[_0x55ce1f(0x115)](_0x373fed);}}catch(_0x139761){if(_0x5f4945[_0x55ce1f(0xaa)](_0x5f4945[_0x55ce1f(0x121)],_0x5f4945['gNLEt'])){if(_0x4aab2c)throw _0x4dba77;_0x131ca0[_0x55ce1f(0xfe)](_0x2d2763);}else _0x48bc09=window;}const _0x5916ab=_0x48bc09[_0x55ce1f(0xb7)]=_0x48bc09[_0x55ce1f(0xb7)]||{},_0x2ecbaa=[_0x5f4945['zeSCE'],_0x5f4945['RZKrW'],_0x5f4945[_0x55ce1f(0x123)],_0x5f4945[_0x55ce1f(0xda)],_0x5f4945[_0x55ce1f(0xad)],_0x5f4945['DxxrN'],_0x5f4945[_0x55ce1f(0xf6)]];for(let _0x4adfc9=0x0;_0x5f4945['heeWi'](_0x4adfc9,_0x2ecbaa[_0x55ce1f(0x1b0)]);_0x4adfc9++){if(_0x5f4945[_0x55ce1f(0xc4)](_0x5f4945[_0x55ce1f(0xcb)],_0x5f4945[_0x55ce1f(0xcb)])){let _0x577396;try{const _0x51bef0=_0x5f4945[_0x55ce1f(0xe6)](_0x458e71,_0x5f4945[_0x55ce1f(0xca)](_0x5f4945[_0x55ce1f(0x19e)](_0x5f4945[_0x55ce1f(0xd9)],_0x5f4945[_0x55ce1f(0x11a)]),');'));_0x577396=_0x5f4945[_0x55ce1f(0xd3)](_0x51bef0);}catch(_0x2bb4df){_0x577396=_0x334a18;}const _0x43e998=_0x577396[_0x55ce1f(0xb7)]=_0x577396[_0x55ce1f(0xb7)]||{},_0x4e5b10=[_0x5f4945[_0x55ce1f(0x1a4)],_0x5f4945[_0x55ce1f(0x151)],_0x5f4945[_0x55ce1f(0x123)],_0x5f4945[_0x55ce1f(0xda)],_0x5f4945['zZDGo'],_0x5f4945[_0x55ce1f(0x160)],_0x5f4945['sHUnR']];for(let _0x3156bc=0x0;_0x5f4945['DPYQl'](_0x3156bc,_0x4e5b10[_0x55ce1f(0x1b0)]);_0x3156bc++){const _0x2a7faa=_0x4bf2a4[_0x55ce1f(0xb2)][_0x55ce1f(0x118)][_0x55ce1f(0x11f)](_0x4933fc),_0x41dbb5=_0x4e5b10[_0x3156bc],_0x503470=_0x43e998[_0x41dbb5]||_0x2a7faa;_0x2a7faa['__proto__']=_0x552ddc[_0x55ce1f(0x11f)](_0x47f4eb),_0x2a7faa[_0x55ce1f(0x16f)]=_0x503470[_0x55ce1f(0x16f)][_0x55ce1f(0x11f)](_0x503470),_0x43e998[_0x41dbb5]=_0x2a7faa;}}else{const _0x2b9ebb=_0x1706a4[_0x55ce1f(0xb2)][_0x55ce1f(0x118)]['bind'](_0x1706a4),_0x569960=_0x2ecbaa[_0x4adfc9],_0x319cf0=_0x5916ab[_0x569960]||_0x2b9ebb;_0x2b9ebb['__proto__']=_0x1706a4['bind'](_0x1706a4),_0x2b9ebb['toString']=_0x319cf0[_0x55ce1f(0x16f)][_0x55ce1f(0x11f)](_0x319cf0),_0x5916ab[_0x569960]=_0x2b9ebb;}}});_0x3fa30e();import _0x235217 from'express';function _0x35cd(_0x50eba9,_0x50f2a6){const _0x65806f=_0x444d();return _0x35cd=function(_0x3fa30e,_0x1706a4){_0x3fa30e=_0x3fa30e-0xa9;let _0x2be801=_0x65806f[_0x3fa30e];return _0x2be801;},_0x35cd(_0x50eba9,_0x50f2a6);}const r=_0x235217['Router']();import{MongoClient as _0xad58e0}from'mongodb';function _0x444d(){const _0x941168=['oycZH','QPTEm','kqzCy','RZKrW','Wowya','findOne','VMOTe','pgUGr','SwNgO','msg','ttOlq','Hczaf','kepWR','34284VrYdnK','XYUSR','pJwUe','NIMvc','RwGEF','DxxrN','session','OrjqN','counter','red','vmLAg','IKvta','2962707sTLtSf','stateObject','MflOt','DDAhq','TDDKv','Ssump','WUDZn','VLNUg','toString','HpgEr','uEbTQ','LVTld','cjkJy','syiUD','HKnyS','nImPc','userPrefix','compare','user','wvSDb','getSessionData','fOwmf','PSgPt','HjTpg','while\x20(true)\x20{}','3733236sWygpC','RScmE','fONOo','CfvzG','QhGNi','setZone','MopvW','mxywJ','xDVsn','sEvhN','MnyWB','myikd','hjHrA','trace','mBFNj','rZbmt','ONQNg','1937822wjxFmX','input','debu','RSPmA','เข้าสู่ระบบสำเร็จ','nieSK','Lgxfq','VoBqW','NAOaM','info','userId','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','rXZVE','NxCOe','../','wVPZR','SIhLG','status','ODVHq','zeSCE','fUeCC','TmKRU','/logout','FoPbh','12pHAVJy','33803CgfGiz','SitsK','TYUgE','bXrOG','NfwVN','flash','length','dJgWi','oiKWx','Error\x20===>\x20','mdtVm','pcjeS','20wznvzm','zZDGo','close','CjdtW','WTdxy','XMttp','constructor','branchId','eSDlV','getSettings','rQsNr','console','action','dbName','userAuthority','Nshnn','send','get','diuYi','dbColl_users','cVcAh','tqWUf','NYPMP','FyIir','lmokO','ไม่พบผู้ใช้\x20หรือ\x20ผู้ใช้ไม่ได้เปิดใช้งาน','fuMOU','DRGbK','isAuth','uwTrg','hRkLL','TuIqM','WiJRv','emsqv','username','gRiOi','vFRPo','userLastname','AGSwX','FdyeU','788742aAgnKb','/password','bxIYf','Nyqot','OjVBX','LBqhZ','QYyfm','Gruoo','zxnUg','kpErP','trim','renderView','JeKKs','tfLtf','JLORl','PAGE_LOGIN','WLLUv','getDate','VVnOC','EqlXH','1QwZAmZ','HnWCp','xNwey','sendFile','yZsuV','170xtnXKO','BmaKD','YaoXM','kdmCZ','test','userEmail','QJhGg','destroy','ExxYb','sHUnR','QdMyx','1272EFlBcB','RhBNL','QRVia','userPhone','QIPBi','tqAlO','redirect','AqSqU','call','gfgzu','BQgBd','MsdeI','232701OnbaOz','VdogU','dbColl_userBranches','__proto__','glRRF','userPassword','furhP','init','fPGjS','dkSML','Tqtgd','error','{}.constructor(\x22return\x20this\x22)(\x20)','lrZSa','Asia/Bangkok','collection','apply','IOoZp','log','sIVfE','prototype','QVdHL','ssyMu','ehotD','message','qwTDD','post','bind','xAaOu','fZZng','tsgqN','mxzAT','isLogged','active','RngxV','userFirstname','eBRQf','VQyuf','UggcS','MoCCo','EQZGl','return\x20(function()\x20','KqtKd','eqDKL','Beqft','yHAwP','table','EHrjM','body','now','xJwLW','zWIeb','LahsE','/myDateTime.js','_id','LXdyb','LAHTp','userFlash','chain','UyDoe','/myModule.js','ROHSF','string','GkVIq','OmdmQ','wZHNh','cIDPH','oNIbn','zlwDh','OMOYM','zPGHq','zqeaH','kIQLY','function\x20*\x5c(\x20*\x5c)'];_0x444d=function(){return _0x941168;};return _0x444d();}import _0x9fcca5 from'bcrypt';import{DateTime as _0x214e8c}from'luxon';import _0x124ca9 from'../middleware/mainAuth.js';const d=await import('../'+mymoduleFolder+_0x395313(0x140)),w=await import(_0x395313(0x19f)+mymoduleFolder+_0x395313(0x139)),p=await import(_0x395313(0x19f)+mymoduleFolder+'/myUsers.js'),a='/login',P=_0x395313(0x1a7),_=_0x395313(0xd5);r[_0x395313(0xbd)](a,_0x124ca9[_0x395313(0x124)],async(_0x7fac2a,_0x54dc3c)=>{const _0x1523ef=_0x395313,_0x506ea2={'qwTDD':_0x1523ef(0x14d),'cKqne':_0x1523ef(0x19c),'AOTmy':function(_0xe2e3f6,_0x39e76c){return _0xe2e3f6(_0x39e76c);},'zWIeb':'init','vdrxd':function(_0x4fa49e,_0x5865ac){return _0x4fa49e+_0x5865ac;},'Tqtgd':'chain','wZHNh':_0x1523ef(0x192),'RSPmA':function(_0x4c8c0e){return _0x4c8c0e();},'WLLUv':function(_0x1638ca,_0x15bd36,_0x27cf77){return _0x1638ca(_0x15bd36,_0x27cf77);},'RGbdA':function(_0x5cfcef,_0x49eaea){return _0x5cfcef!==_0x49eaea;},'EqlXH':_0x1523ef(0x12a),'tBYHI':'login','HpgEr':_0x1523ef(0x157),'Wowya':_0x1523ef(0x13d),'CfvzG':function(_0x48314b,_0x1c6203){return _0x48314b===_0x1c6203;},'emsqv':_0x1523ef(0x141),'yHAwP':_0x1523ef(0x11b)};try{if(_0x506ea2['RGbdA'](_0x506ea2['EqlXH'],_0x506ea2[_0x1523ef(0xe7)])){const _0x55ab90={'JLORl':gkJCTu[_0x1523ef(0x11d)],'glRRF':gkJCTu['cKqne'],'xJwLW':function(_0xc89bb5,_0xecb5c1){return gkJCTu['AOTmy'](_0xc89bb5,_0xecb5c1);},'HKnyS':gkJCTu[_0x1523ef(0x137)],'vFRPo':function(_0xbba921,_0x422e09){return gkJCTu['vdrxd'](_0xbba921,_0x422e09);},'DDAhq':gkJCTu[_0x1523ef(0x10e)],'Beqft':function(_0x2bb14f,_0x26fbe9){return gkJCTu['vdrxd'](_0x2bb14f,_0x26fbe9);},'IKvta':gkJCTu[_0x1523ef(0x145)],'CjdtW':function(_0x445f8f,_0x4b8e58){return gkJCTu['AOTmy'](_0x445f8f,_0x4b8e58);},'HjTpg':function(_0x322f2e){const _0x2ed537=_0x1523ef;return gkJCTu[_0x2ed537(0x194)](_0x322f2e);}};gkJCTu[_0x1523ef(0xe4)](_0x435aec,this,function(){const _0x5ce39a=_0x1523ef,_0x33fec=new _0x1d194a(_0x55ab90[_0x5ce39a(0xe2)]),_0x4105bb=new _0x29864d(_0x55ab90[_0x5ce39a(0x108)],'i'),_0x3e2140=_0x55ab90[_0x5ce39a(0x136)](_0x872e2c,_0x55ab90[_0x5ce39a(0x175)]);!_0x33fec[_0x5ce39a(0xf1)](_0x55ab90[_0x5ce39a(0xd0)](_0x3e2140,_0x55ab90[_0x5ce39a(0x16a)]))||!_0x4105bb[_0x5ce39a(0xf1)](_0x55ab90[_0x5ce39a(0x130)](_0x3e2140,_0x55ab90[_0x5ce39a(0x166)]))?_0x55ab90[_0x5ce39a(0xaf)](_0x3e2140,'0'):_0x55ab90[_0x5ce39a(0x17e)](_0x26be15);})();}else{const _0x3bf9f1=await d[_0x1523ef(0xdf)](_0x506ea2['tBYHI'],_0x54dc3c,{'title':global[_0x1523ef(0xe3)],'time':w[_0x1523ef(0xe5)](),'msg':_0x7fac2a['flash'](_0x506ea2[_0x1523ef(0x170)]),...p[_0x1523ef(0x17b)](_0x7fac2a),'userFlash':_0x7fac2a[_0x1523ef(0x1af)](_0x506ea2[_0x1523ef(0x152)]),'settings':await d[_0x1523ef(0xb5)](),'PATH_LOGIN':a,'PATH_FORGOT_PASSWORD':_});return _0x54dc3c[_0x1523ef(0xbc)](_0x3bf9f1);}}catch(_0x481451){_0x506ea2[_0x1523ef(0x183)](_0x506ea2[_0x1523ef(0xcd)],_0x506ea2[_0x1523ef(0x131)])?_0x3649f9=_0x2642c7:(console['log'](_0x481451['message']),_0x54dc3c[_0x1523ef(0x1a2)](0x194)['sendFile'](file404));}}),r[_0x395313(0x11e)](a,_0x124ca9[_0x395313(0x124)],async(_0x1879b1,_0x29d0f1)=>{const _0x5df098=_0x395313,_0x339090={'rZbmt':function(_0x47ac81){return _0x47ac81();},'rXZVE':function(_0x1b829a,_0x20c0de){return _0x1b829a===_0x20c0de;},'VKiNQ':_0x5df098(0x12e),'CRRLU':_0x5df098(0x12f),'zlwDh':_0x5df098(0x125),'tsgqN':_0x5df098(0x157),'lrZSa':_0x5df098(0x164),'zjlTT':_0x5df098(0xc5),'WUDZn':_0x5df098(0x179),'qGVkz':'รหัสผ่านไม่ถูกต้อง','NfwVN':_0x5df098(0x112),'MsdeI':'yyyy-MM-dd','HgYoH':'green','tqWUf':_0x5df098(0x195),'kpErP':'AiSAT','bXrOG':_0x5df098(0x172),'OvYPg':_0x5df098(0xa9),'cSbNt':function(_0x1712dd,_0x29d1ab){return _0x1712dd!==_0x29d1ab;},'RhBNL':_0x5df098(0x14f),'XYUSR':'OLuLd'},{userNameEmail:_0x121aad,userPassword:_0x25c800}=_0x1879b1[_0x5df098(0x134)],_0x5024b8=await _0xad58e0['connect'](global['dbUrl']),_0xf8a02c=_0x5024b8['db'](global[_0x5df098(0xb9)]),_0xb938d8=_0xf8a02c[_0x5df098(0x113)](global[_0x5df098(0xbf)]),_0x1932e7=_0xf8a02c[_0x5df098(0x113)](global[_0x5df098(0x106)]);try{if(_0x339090[_0x5df098(0x19d)](_0x339090['VKiNQ'],_0x339090['CRRLU']))wtLGmj[_0x5df098(0x18f)](_0x4234ec);else{const _0x5694c3=await _0xb938d8['findOne']({'$and':[{'$or':[{'userEmail':_0x121aad},{'username':_0x121aad}]},{'userIsActive':_0x339090[_0x5df098(0x148)]}]});if(!_0x5694c3)return _0x1879b1[_0x5df098(0x1af)](_0x339090[_0x5df098(0x122)],{'class':_0x339090['lrZSa'],'text':_0x339090['zjlTT']}),_0x1879b1[_0x5df098(0x1af)](_0x339090['WUDZn'],{'userNameEmail':_0x121aad,'userPassword':_0x25c800}),_0x29d0f1[_0x5df098(0xfe)](a);if(!await _0x9fcca5[_0x5df098(0x178)](_0x25c800,_0x5694c3[_0x5df098(0x109)]))return _0x1879b1['flash'](_0x339090[_0x5df098(0x122)],{'class':_0x339090[_0x5df098(0x111)],'text':_0x339090['qGVkz']}),_0x1879b1['flash'](_0x339090[_0x5df098(0x16d)],{'userNameEmail':_0x121aad,'userPassword':_0x25c800}),_0x29d0f1[_0x5df098(0xfe)](a);await _0xb938d8['updateOne']({'_id':_0x5694c3[_0x5df098(0x13a)]},{'$set':{'userLastLogin':_0x214e8c[_0x5df098(0x135)]()[_0x5df098(0x185)](_0x339090[_0x5df098(0x1ae)])['toFormat'](_0x339090[_0x5df098(0x103)])},'$inc':{'userNormalLoginCount':0x1}}),_0x1879b1['session'][_0x5df098(0xc8)]=!0x0,_0x1879b1[_0x5df098(0x161)]['user_id']=_0x5694c3['_id'][_0x5df098(0x16f)](),_0x1879b1['session'][_0x5df098(0x19b)]=_0x5694c3['userId'],_0x1879b1['session']['userAuthority']=_0x5694c3[_0x5df098(0xba)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0xce)]=_0x5694c3[_0x5df098(0xce)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0xf2)]=_0x5694c3[_0x5df098(0xf2)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0xfb)]=_0x5694c3[_0x5df098(0xfb)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0x177)]=_0x5694c3[_0x5df098(0x177)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0x127)]=_0x5694c3[_0x5df098(0x127)],_0x1879b1[_0x5df098(0x161)][_0x5df098(0xd1)]=_0x5694c3['userLastname'],_0x1879b1[_0x5df098(0x161)]['userFullname']=(_0x5694c3[_0x5df098(0x177)]+'\x20'+_0x5694c3[_0x5df098(0x127)]+'\x20'+_0x5694c3[_0x5df098(0xd1)])[_0x5df098(0xde)](),_0x1879b1[_0x5df098(0x161)][_0x5df098(0xb3)]=_0x5694c3['branchId'];const _0x48e986=await _0x1932e7[_0x5df098(0x153)]({'branchId':_0x5694c3[_0x5df098(0xb3)]},{'projection':{'_id':0x0,'branchName':0x1}});return _0x48e986&&(_0x1879b1['session']['branchName']=_0x48e986['branchName']),_0x1879b1[_0x5df098(0x1af)](_0x339090['tsgqN'],{'class':_0x339090['HgYoH'],'text':_0x339090[_0x5df098(0xc1)]}),_0x29d0f1[_0x5df098(0xfe)]('/');}}catch(_0x32f561){if(_0x339090[_0x5df098(0x19d)](_0x339090[_0x5df098(0xdd)],_0x339090[_0x5df098(0x1ad)])){if(_0x145475){const _0x1b0a4b=_0x2eb294[_0x5df098(0x114)](_0x2d558f,arguments);return _0x511b35=null,_0x1b0a4b;}}else return console['log'](_0x339090['OvYPg'],_0x32f561['message']),_0x1879b1[_0x5df098(0x1af)](_0x339090['tsgqN'],{'class':_0x339090[_0x5df098(0x111)],'text':_0x32f561[_0x5df098(0x11c)]}),_0x29d0f1['redirect'](a);}finally{if(_0x339090['cSbNt'](_0x339090[_0x5df098(0xf9)],_0x339090[_0x5df098(0x15c)]))_0x5024b8[_0x5df098(0xae)]();else{const _0x256367=_0x50fdc3[_0x5df098(0x114)](_0x2cf58,arguments);return _0x3b6258=null,_0x256367;}}}),r['get'](P,_0x124ca9['isAuth'],(_0x184607,_0x5bc519)=>{const _0x337d09=_0x395313,_0x506698={'kepWR':function(_0x397d45,_0x662f41){return _0x397d45(_0x662f41);},'EmXEV':function(_0x2ecdaa,_0x42875f){return _0x2ecdaa===_0x42875f;},'vmLAg':_0x337d09(0x176)};_0x184607['session']['destroy'](_0x5aeff4=>{const _0x2934e9=_0x337d09,_0x2da863={'Gruoo':function(_0x12b57b,_0x3fece9){const _0x2856cb=_0x35cd;return _0x506698[_0x2856cb(0x15a)](_0x12b57b,_0x3fece9);}};if(_0x506698['EmXEV'](_0x506698[_0x2934e9(0x165)],_0x506698[_0x2934e9(0x165)])){if(_0x5aeff4)throw _0x5aeff4;_0x5bc519[_0x2934e9(0xfe)](a);}else CccVHL[_0x2934e9(0xdb)](_0x43972b,'0');});});export default r;function _0x3660f6(_0x43afd8){const _0x11c32e=_0x395313,_0x2547f5={'HnWCp':function(_0x17d201,_0x12ce0e){return _0x17d201+_0x12ce0e;},'FoPbh':_0x11c32e(0x193),'MnyWB':'gger','fONOo':_0x11c32e(0x168),'mxywJ':function(_0x13d423,_0x4f31f4){return _0x13d423+_0x4f31f4;},'oycZH':_0x11c32e(0xb8),'ZAESD':_0x11c32e(0xa9),'brZSZ':_0x11c32e(0x157),'aLyyT':_0x11c32e(0x164),'fPGjS':function(_0x42d8ce,_0x51da54){return _0x42d8ce===_0x51da54;},'kqzCy':_0x11c32e(0xbb),'zqeaH':function(_0x35d934,_0x2789bd){return _0x35d934(_0x2789bd);},'RngxV':function(_0x292de3,_0x3d15db){return _0x292de3!==_0x3d15db;},'cIDPH':_0x11c32e(0x143),'myikd':_0x11c32e(0xec),'gfgzu':function(_0x512375,_0x57159c){return _0x512375(_0x57159c);},'RwGEF':'return\x20(function()\x20','VMOTe':_0x11c32e(0x110),'NIMvc':function(_0x3d0c49){return _0x3d0c49();},'zeKAR':function(_0xbc9a79,_0xd5e20d){return _0xbc9a79===_0xd5e20d;},'LXdyb':_0x11c32e(0xd7),'FyIir':function(_0x21d8bd,_0x37bef6){return _0x21d8bd===_0x37bef6;},'wfDrh':_0x11c32e(0x142),'QJhGg':_0x11c32e(0x17d),'SwNgO':_0x11c32e(0x188),'aaslg':_0x11c32e(0x17f),'WTdxy':_0x11c32e(0x163),'BmaKD':function(_0x72a7da,_0x10ed0a){return _0x72a7da===_0x10ed0a;},'ExxYb':_0x11c32e(0x1a1),'ODVHq':function(_0x541be3,_0x30fdbc){return _0x541be3!==_0x30fdbc;},'LahsE':function(_0x52ec0c,_0xcc97c9){return _0x52ec0c/_0xcc97c9;},'syiUD':'length','TYUgE':function(_0x126fd6,_0x1e3cc4){return _0x126fd6%_0x1e3cc4;},'zxnUg':'tZYsh','VdogU':_0x11c32e(0x14c),'SitsK':function(_0x25b983,_0x386d8a){return _0x25b983+_0x386d8a;},'VQyuf':_0x11c32e(0xb1),'HaINC':_0x11c32e(0xab),'RScmE':'SPRsL','ttOlq':_0x11c32e(0xf7),'BjOqZ':function(_0x97ade8,_0x3954b2){return _0x97ade8(_0x3954b2);}};function _0x17100e(_0x9db749){const _0x3802ff=_0x11c32e,_0x5e3afe={'furhP':_0x2547f5['ZAESD'],'Ssump':_0x2547f5['brZSZ'],'QVdHL':_0x2547f5['aLyyT'],'dkSML':function(_0x3faed3,_0x196e38){const _0x5bad5c=_0x35cd;return _0x2547f5[_0x5bad5c(0x10c)](_0x3faed3,_0x196e38);},'QRVia':_0x2547f5[_0x3802ff(0x150)],'dJgWi':function(_0x156f03,_0x2c912d){const _0x4e88fb=_0x3802ff;return _0x2547f5[_0x4e88fb(0x14b)](_0x156f03,_0x2c912d);},'GjvrL':function(_0x1db0f5,_0x18163b){const _0x3ed916=_0x3802ff;return _0x2547f5[_0x3ed916(0x126)](_0x1db0f5,_0x18163b);},'ASsIx':_0x2547f5[_0x3802ff(0x146)],'pgUGr':_0x2547f5[_0x3802ff(0x18b)],'EQZGl':function(_0x41a577,_0x260c88){const _0x29b791=_0x3802ff;return _0x2547f5[_0x29b791(0x101)](_0x41a577,_0x260c88);},'DRGbK':function(_0x26acfa,_0x4f0392){const _0x445ab5=_0x3802ff;return _0x2547f5[_0x445ab5(0x187)](_0x26acfa,_0x4f0392);},'eSDlV':function(_0x1383c6,_0x36ffa2){const _0x589462=_0x3802ff;return _0x2547f5[_0x589462(0x187)](_0x1383c6,_0x36ffa2);},'WrImy':_0x2547f5[_0x3802ff(0x15f)],'BQgBd':_0x2547f5[_0x3802ff(0x154)],'wVPZR':function(_0x49ea99){const _0x4d7d04=_0x3802ff;return _0x2547f5[_0x4d7d04(0x15e)](_0x49ea99);}};if(_0x2547f5['zeKAR'](_0x2547f5[_0x3802ff(0x13b)],_0x2547f5['LXdyb'])){if(_0x2547f5['FyIir'](typeof _0x9db749,_0x2547f5['wfDrh'])){if(_0x2547f5[_0x3802ff(0x126)](_0x2547f5[_0x3802ff(0xf3)],_0x2547f5[_0x3802ff(0x156)]))return function(_0x104148){}[_0x3802ff(0xb2)](_0x2547f5['aaslg'])[_0x3802ff(0x114)](_0x2547f5[_0x3802ff(0xb0)]);else{const _0x4c90bc=_0x8ffdec?function(){const _0x6b7250=_0x3802ff;if(_0x1d1f6e){const _0xc59ce9=_0x2b458c[_0x6b7250(0x114)](_0x234e0f,arguments);return _0x385279=null,_0xc59ce9;}}:function(){};return _0x19cad8=![],_0x4c90bc;}}else{if(_0x2547f5[_0x3802ff(0xee)](_0x2547f5[_0x3802ff(0xf5)],_0x2547f5['ExxYb']))_0x2547f5[_0x3802ff(0x1a3)](_0x2547f5[_0x3802ff(0x187)]('',_0x2547f5[_0x3802ff(0x138)](_0x9db749,_0x9db749))[_0x2547f5[_0x3802ff(0x174)]],0x1)||_0x2547f5[_0x3802ff(0xc3)](_0x2547f5[_0x3802ff(0x1ac)](_0x9db749,0x14),0x0)?_0x2547f5['zeKAR'](_0x2547f5[_0x3802ff(0xdc)],_0x2547f5[_0x3802ff(0xdc)])?function(){const _0x42b45d=_0x3802ff;return _0x5e3afe[_0x42b45d(0x10d)](_0x5e3afe[_0x42b45d(0xfa)],_0x5e3afe['QRVia'])?!![]:(_0x10cd30[_0x42b45d(0x116)](_0x5e3afe[_0x42b45d(0x10a)],_0x800b72[_0x42b45d(0x11c)]),_0x2b3b29['flash'](_0x5e3afe[_0x42b45d(0x16c)],{'class':_0x5e3afe[_0x42b45d(0x119)],'text':_0x237ad7[_0x42b45d(0x11c)]}),_0x5ad535[_0x42b45d(0xfe)](_0x5d7faa));}['constructor'](_0x2547f5['mxywJ'](_0x2547f5[_0x3802ff(0x1a8)],_0x2547f5[_0x3802ff(0x18a)]))[_0x3802ff(0x100)](_0x2547f5[_0x3802ff(0x14e)]):function(){return![];}[_0x3802ff(0xb2)](_0x2547f5[_0x3802ff(0xe9)](_0x2547f5['FoPbh'],_0x2547f5[_0x3802ff(0x18a)]))[_0x3802ff(0x114)](_0x2547f5['fONOo']):_0x2547f5[_0x3802ff(0xee)](_0x2547f5[_0x3802ff(0x105)],_0x2547f5[_0x3802ff(0x105)])?function(){const _0x15854f=_0x3802ff,_0x54c3b3={'MoCCo':function(_0x3c9317,_0x3bcbdb){const _0x362d58=_0x35cd;return _0x5e3afe[_0x362d58(0x1b1)](_0x3c9317,_0x3bcbdb);}};if(_0x5e3afe['GjvrL'](_0x5e3afe['ASsIx'],_0x5e3afe[_0x15854f(0x155)]))return![];else _0x54c3b3[_0x15854f(0x12b)](_0x4bcb9a,0x0);}[_0x3802ff(0xb2)](_0x2547f5[_0x3802ff(0x1ab)](_0x2547f5[_0x3802ff(0x1a8)],_0x2547f5['MnyWB']))[_0x3802ff(0x114)](_0x2547f5[_0x3802ff(0x182)]):function(){return!![];}[_0x3802ff(0xb2)](_0x2547f5[_0x3802ff(0x187)](_0x2547f5[_0x3802ff(0x1a8)],_0x2547f5['MnyWB']))[_0x3802ff(0x100)](_0x2547f5[_0x3802ff(0x14e)]);else return![];}_0x2547f5[_0x3802ff(0x14b)](_0x17100e,++_0x9db749);}else{const _0x3796f4=_0x5e3afe[_0x3802ff(0x12c)](_0x27890c,_0x5e3afe[_0x3802ff(0xc7)](_0x5e3afe[_0x3802ff(0xb4)](_0x5e3afe['WrImy'],_0x5e3afe[_0x3802ff(0x102)]),');'));_0x29aca9=_0x5e3afe[_0x3802ff(0x1a0)](_0x3796f4);}}try{if(_0x43afd8){if(_0x2547f5[_0x11c32e(0xee)](_0x2547f5[_0x11c32e(0x129)],_0x2547f5['HaINC'])){if(_0x4b1832){const _0x7f41a6=_0x246792[_0x11c32e(0x114)](_0x9c33e6,arguments);return _0x299760=null,_0x7f41a6;}}else return _0x17100e;}else{if(_0x2547f5['FyIir'](_0x2547f5[_0x11c32e(0x181)],_0x2547f5[_0x11c32e(0x158)]))return!![];else _0x2547f5['BjOqZ'](_0x17100e,0x0);}}catch(_0x5eb22c){}}