const _0x331163=_0x3a48;function _0x25b7(){const _0x3c4469=['\x20แล้ว{{sep}}แต่ไม่ได้ส่งอีเมล์\x20การตั้งค่าการส่งอิเมล์ไม่ถูกต้อง','catch','XKVZk','collection','post','cLplJ','xUoDp','qPjbZ','IrxIX','zIsBZ','DqgdK','AGtcd','FTMfZ','iKitQ','pWEFI','Pxvap','CfHrB','getDate','MCdLG','QjCth','dOxoU','SvXnw','stringify','bkdcD','wXUYd','GDOEL','close','hWrao','gHbAA','tovWc','/save','destroy','30CQErxP','userEmail','DoLDw','vczVi','NOuRM','ALTkH','mcWOz','cYomU','BCRYPT_NUMBER','HRQEn','YwaNl','DeapJ','load_id','exception','pRvLT','PbOkP','rFPwk','ydYoQ','sSgle','CLMUj','xYQbW','VWgLY','user_','Uftxf','userId','/upload-excel','xaQxQ','ceil','upsertedCount','Wnqnm','getDateTime','anaqL','replace','171vtAkeH','xpwXi','AZBiY','KjVPW','flash','find','response','pDFIq','ZmGUm','limit','userFlash','XqHTx','console','join','YxRft','/load','getChangeHistory','CFmrU','gegPO','HpCCz','DvIOb','insertedId','ibeEp','JNdZA','rpp','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','mZnLp','dbColl_docs','LILkx','dateTimeCanDelete','trace','RxbUM','JiAKs','สร้างผู้ใช้ใหม่\x20\x22','MSLOT','vzZte','nfIub','19778xUzeur','lZenn','FyvJg','MPaga','deleteOne','status','krOxK','wyhvG','cYbbK','EFzwD','$userLastname','/new','active','toArray','lLyAp','mTRVg','GCftv','yQPyJ','input','XosuW','sip','test','OVyET','tGAbl','JTWUs','zuZBq','vuyZh','JLrmx','error','kalnw','LpDvb','call','/manage/users','unshift','HWwQX','userIsActive','PRxtH','rUuCV','HMurM','SxRJl','Pjhho','LmqAl','อีเมลหรือชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','BcOts','SXQGO','FjLPc','function\x20*\x5c(\x20*\x5c)','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','Gfeeh','yKOCg','hsWzp','SxnRc','LsQDQ','WDziA','991009SxBQLr','เกิดข้อผิดพลาดขณะเพิ่มผู้ใช้ใหม่','FDkkF','keys','yPlkR','OuMYf','SSoTB','RIQjt','WUKQf','USERNAME_PATTERN','utf8','findOne','KTcAm','430TpVqcV','6JgcETn','&rpp=','redirect','eYkOa','Olwpb','SSBqI','KvsGT','VdmTd','CjbGe','HekMO','VCzPz','SiLdH','JrXqA','hOqoQ','\x22\x20เรียบร้อยแล้ว\x20)','WnVtj','SkcFy','fyXPz','BBsxs','bqbEd','อีเมล/ชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','error\x20===>\x20','info','/print','modifiedCount','BRvGk','TYbsh','acknowledged','QjisB','bhhuH','IWjaI','username','รูปแบบอีเมลไม่ถูกต้อง','สร้างยูสเซอร์\x20','debu','ยังไม่มีผู้ใช้ในระบบเลย\x20ต้องเพิ่มผู้ใช้หลักก่อน','send','\x22\x20)','EjcwY','log','print_users.ejs','RwZtW','JiwOV','MUFhe','ymTCx','EJGaf','init','vHotY','ocqDK','พิมพ์ข้อมูล\x20','oXFNq','then','WLebf','QFVIb','_id','chain','vnvRA','jBCVU','DlfMV','folderForms','VyndM','MMilu','UyCSM','เพิ่มยูสเซอร์และส่งอิเมล์เรียบร้อยแล้ว\x20(','Ilodk','UVfFr','UnFKI','SmyHK','generatePassword','string','RdQkQ','GXGzu','action','EMAIL_WHOSEND','SxNSP','UgbwB','TWUDF','hFGac','SUMxs','YuQuV','userPrefix','JiaiJ','nyfop','pWWtd','@gmail.com','changes_tableRows.ejs','RAuKJ','/delete','rGjOq','USER_AUTHORITIES','userAuthority','2550219MNXkkF','MOIXb','green','554308IOTBnq','SKApW','dbColl_sessions','TNUml','RIsRl','13lRcrfj','prototype','bWLmS','อัปเดท\x20\x22','EryYv','NwdLc','countDocuments','msg','readFileSync','oYFrC','VaAuF','env','Btphq','WEPgR','sendRegisterUserEmail','counter','/myData.js','{{sep}}[\x20บันทึกการแก้ไข\x20]','bind','TEbbU','LnrEm','wcwKm','table','Mbzcs','$changesHistory','qWOay','iOmXh','PWDEy','deleteMany','เกิดข้อผิดพลาดขณะเพิ่ม/ส่งอีเมลไปยังผู้ใช้ใหม่','iOwxM','ornqN','tRwMX','&page=','?sip=','akYul','fuGyh','fStit','mrjgb','SVTtu','SOOuQ','ไม่พบ\x20\x22','rysZw','Uiytu','Bupzr','plNBP','MauDu','eUKFJ','zAYYP','LQZBS','PDCac','CBqwq','$userPrefix','GRjGz','YAryB','apply','Azdyd','SZSVt','wrXNP','../','eRpbL','BSMyD','jOdaT','8660GASBKK','manageUsers','get','KPeth','Icrje','aggregate','qmMHl','skMio','SKbaB','connect','getSessionData','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','vHmLk','&load_id=','page','olMKd','ไม่มีข้อมูล','OTgFd','4645620sLbfDL','cqQWt','OznkQ','Piylk','ยูสเซอร์\x20(','dIZse','POtxb','{{sep}}\x22','jPElK','\x20ยูสเซอร์เรียบร้อยแล้ว','dbColl_users','JVVzd','mDDrj','diesY','FZxnT','RkRAP','QNPGx','length','NGSDY','GthKr','VtTEP','message','sendFile','vZYQT','MDJks','WYCOd','heRGv','EMAIL_PASS','oBOtP','FidPm','/myModule.js','fDQxn','deletedCount','__proto__','toString','return\x20(function()\x20','SRZBH','ZrNTo','lQBts','Cmuvh','map','renderView','wlweZ','BTkYd','qwerty','EMAIL_PATTERN','gLwOE','dtwSq','jvitB','ytcrE','oxIaC','XRjaX','KrXoP','dNiPP','BvseX','wuASN','JhIBX','CtKxj','\x22\x20เรียบร้อยแล้ว','UTxTi','UZLka','Upthd','16XNnZwt','\x22\x20ไม่มีอะไรเปลี่ยนแปลง','userFullname','/myDateTime.js','/mySendmail.js','XmeGs','dbName','body','ELozY','KHgow','gger','YlwBf','bXAji','mNGKi','RbfGZ','NcIYM','minute','XsNNs','{{sep}}(\x20ไม่พบเซสชั่น\x20)','Fvzpm','hash','iQVih','updateOne','ประวัติการแก้ไขยูสเซอร์\x20:\x20[','constructor','filter','TlqDU','SEUFI','19732488rUBfpn','userPassword','VNLln','gpoOb','yellow','isOA','WvGsL','mqvuG','/changes','QvxxO','{}.constructor(\x22return\x20this\x22)(\x20)','stateObject','GCRrc','query','red','eJQhx','includes','ohZmu','WGKJU','InVUe','while\x20(true)\x20{}','\x22\x20มีอยู่ในเอกสาร\x20','$dateTimeCanDelete','kBKlP','changesHistory','){{sep}}(CODE\x20:\x20','QIYJO','ZiYHP','qUEeI','GarYc','lJuTG','session','kVhop','aytbr','tdOoy','UyzRQ','Qfmsh','tidZF','getSettingsSystem_Email','dLwHj','sort','AVCGj','$userFirstname','jaIlI','bMEyc','tRuLT','dbUrl','iwOQd','user_id','sjoMV','cnVLI','NSDGG'];_0x25b7=function(){return _0x3c4469;};return _0x25b7();}function _0x3a48(_0x471a57,_0x1adc2d){const _0x4cc903=_0x25b7();return _0x3a48=function(_0x492e31,_0x1c75aa){_0x492e31=_0x492e31-0x199;let _0xd00d71=_0x4cc903[_0x492e31];return _0xd00d71;},_0x3a48(_0x471a57,_0x1adc2d);}(function(_0x47a8b2,_0x5e71b2){const _0x544cb8=_0x3a48,_0x2d420d=_0x47a8b2();while(!![]){try{const _0x33b666=parseInt(_0x544cb8(0x277))/0x1+-parseInt(_0x544cb8(0x327))/0x2*(parseInt(_0x544cb8(0x21c))/0x3)+-parseInt(_0x544cb8(0x2e3))/0x4*(-parseInt(_0x544cb8(0x1fb))/0x5)+-parseInt(_0x544cb8(0x285))/0x6*(parseInt(_0x544cb8(0x2e0))/0x7)+-parseInt(_0x544cb8(0x377))/0x8*(-parseInt(_0x544cb8(0x339))/0x9)+-parseInt(_0x544cb8(0x284))/0xa*(parseInt(_0x544cb8(0x241))/0xb)+-parseInt(_0x544cb8(0x1a7))/0xc*(parseInt(_0x544cb8(0x2e8))/0xd);if(_0x33b666===_0x5e71b2)break;else _0x2d420d['push'](_0x2d420d['shift']());}catch(_0x3e620d){_0x2d420d['push'](_0x2d420d['shift']());}}}(_0x25b7,0x7f720));const _0x1a0053=(function(){const _0xb49bfe=_0x3a48,_0x742fec={'MauDu':function(_0x6e0fe9,_0xdaefd7){return _0x6e0fe9+_0xdaefd7;},'InVUe':_0xb49bfe(0x2a7),'Olwpb':_0xb49bfe(0x381),'ZmGUm':_0xb49bfe(0x1b2),'MPaga':function(_0x2232d2,_0x3690ba){return _0x2232d2!==_0x3690ba;},'TYbsh':function(_0x121655,_0x3f5004){return _0x121655==_0x3f5004;},'ymTCx':function(_0x29a5fd,_0x4af121){return _0x29a5fd!==_0x4af121;},'TNUml':function(_0x1aec16,_0x1019f2){return _0x1aec16===_0x1019f2;},'gHbAA':_0xb49bfe(0x31b),'ornqN':_0xb49bfe(0x33c),'Uftxf':function(_0x272ba7,_0x2a9df5){return _0x272ba7===_0x2a9df5;},'RbfGZ':_0xb49bfe(0x36d),'FTMfZ':'JNwaB'};let _0x5397a2=!![];return function(_0x349264,_0x4b3f50){const _0x5a83b6=_0xb49bfe;if(_0x742fec[_0x5a83b6(0x244)](_0x742fec[_0x5a83b6(0x1e7)],_0x742fec['FTMfZ']))(function(){return![];}[_0x5a83b6(0x1a3)](_0x742fec[_0x5a83b6(0x316)](_0x742fec[_0x5a83b6(0x1ba)],_0x742fec[_0x5a83b6(0x289)]))['apply'](_0x742fec[_0x5a83b6(0x224)]));else{const _0x1d4e04=_0x5397a2?function(){const _0x385649=_0x5a83b6,_0x24b915={'QjCth':function(_0x462cf3,_0x46a8e6){return _0x742fec['MPaga'](_0x462cf3,_0x46a8e6);},'WLebf':function(_0xb544f5,_0x422ea1){const _0x37c944=_0x3a48;return _0x742fec[_0x37c944(0x29f)](_0xb544f5,_0x422ea1);},'nYafO':function(_0x4b9f73,_0x7d5160){const _0x794f59=_0x3a48;return _0x742fec[_0x794f59(0x2b1)](_0x4b9f73,_0x7d5160);}};if(_0x742fec[_0x385649(0x2e6)](_0x742fec[_0x385649(0x1f7)],_0x742fec[_0x385649(0x307)]))return!![];else{if(_0x4b3f50){if(_0x742fec[_0x385649(0x212)](_0x742fec['RbfGZ'],_0x742fec[_0x385649(0x199)])){const _0x2da43b=_0x4b3f50['apply'](_0x349264,arguments);return _0x4b3f50=null,_0x2da43b;}else{const _0x2c51db=_0x44e5b4[_0x385649(0x213)];_0x4e5290=_0x2ada78[_0x385649(0x1a4)](_0x21f45b=>{const _0xad89bd=_0x385649,_0x3586de=_0x24b915[_0xad89bd(0x1ee)](_0x21f45b['userAuthority'],'A')||_0x24b915[_0xad89bd(0x2b9)](_0x21f45b[_0xad89bd(0x213)],_0x2c51db);return _0x24b915['nYafO'](_0x21f45b['userAuthority'],'O')&&_0x3586de;});}}}}:function(){};return _0x5397a2=![],_0x1d4e04;}};}());(function(){const _0xf664cc=_0x3a48,_0xab2b6d={'nbmwp':_0xf664cc(0x2ef),'POtxb':_0xf664cc(0x1b5),'rYJph':function(_0xfd7651,_0x5e76e4){return _0xfd7651(_0x5e76e4);},'TWUDF':_0xf664cc(0x29a),'cahRJ':function(_0x5db88c,_0x15b793){return _0x5db88c===_0x15b793;},'VCzPz':_0xf664cc(0x2d0),'qmMHl':_0xf664cc(0x26f),'SVTtu':_0xf664cc(0x235),'IrxIX':function(_0x7c8fdd,_0x487da3){return _0x7c8fdd(_0x487da3);},'IMNVy':_0xf664cc(0x2b3),'iOwxM':function(_0x1e0100,_0x1df49f){return _0x1e0100+_0x1df49f;},'vnvRA':_0xf664cc(0x2bc),'LnrEm':'input','jPElK':function(_0x18e1d5,_0xfb0c8e){return _0x18e1d5!==_0xfb0c8e;},'EryYv':_0xf664cc(0x372),'QIYJO':function(_0xfb70c,_0x2b0951){return _0xfb70c(_0x2b0951);},'CfHrB':_0xf664cc(0x2a1),'KTcAm':'uKLlD','mSNvQ':function(_0x362344){return _0x362344();},'cUDDn':function(_0x8e9dd1,_0x3af53d,_0x37e9bc){return _0x8e9dd1(_0x3af53d,_0x37e9bc);}};_0xab2b6d['cUDDn'](_0x1a0053,this,function(){const _0x453471=_0xf664cc,_0x503265={'RkRAP':function(_0x331d51,_0x3f4120){return _0xab2b6d['rYJph'](_0x331d51,_0x3f4120);},'akYul':_0xab2b6d[_0x453471(0x2d1)],'HvQDe':_0xab2b6d[_0x453471(0x33f)]};if(_0xab2b6d['cahRJ'](_0xab2b6d[_0x453471(0x28f)],_0xab2b6d[_0x453471(0x28f)])){const _0x2763bb=new RegExp(_0xab2b6d[_0x453471(0x32d)]),_0x4ded80=new RegExp(_0xab2b6d[_0x453471(0x30f)],'i'),_0x7b8997=_0xab2b6d[_0x453471(0x1e3)](_0x29432d,_0xab2b6d['IMNVy']);if(!_0x2763bb[_0x453471(0x256)](_0xab2b6d[_0x453471(0x306)](_0x7b8997,_0xab2b6d[_0x453471(0x2bd)]))||!_0x4ded80[_0x453471(0x256)](_0xab2b6d[_0x453471(0x306)](_0x7b8997,_0xab2b6d[_0x453471(0x2fc)])))_0xab2b6d[_0x453471(0x341)](_0xab2b6d[_0x453471(0x2ec)],_0xab2b6d[_0x453471(0x2ec)])?_0x503265[_0x453471(0x348)](_0xed7c03,0x0):_0xab2b6d[_0x453471(0x1c1)](_0x7b8997,'0');else{if(_0xab2b6d[_0x453471(0x341)](_0xab2b6d[_0x453471(0x1eb)],_0xab2b6d[_0x453471(0x283)]))_0xab2b6d['mSNvQ'](_0x29432d);else return _0x1c3057[_0x453471(0x2ac)](_0x4a1ed2[_0x453471(0x34e)]),_0x5f28a8[_0x453471(0x220)](_0xab2b6d['nbmwp'],{'class':_0xab2b6d[_0x453471(0x33f)],'text':''+_0x2bea38[_0x453471(0x34e)]}),_0xeeb976['redirect'](_0x234a34);}}else _0x4a4edc['log'](_0x503265[_0x453471(0x30b)],_0x550f35),_0x2c14f6[_0x453471(0x2a9)](_0x108f07['stringify']({'isPrint':!0x1,'class':_0x503265['HvQDe'],'msg':_0x17fd7d[_0x453471(0x34e)]}));})();}());const _0x1c75aa=(function(){const _0x58b671=_0x3a48,_0x57fdb7={'xYQbW':function(_0x10e54d,_0x5e5518){return _0x10e54d===_0x5e5518;},'UZLka':_0x58b671(0x26a),'VtTEP':'CmJdT','zAYYP':function(_0xad2b6,_0x3a5c78){return _0xad2b6!==_0x3a5c78;},'ELozY':_0x58b671(0x31d),'UVIBH':_0x58b671(0x2f1),'eJQhx':function(_0x44497c,_0x41446e){return _0x44497c!==_0x41446e;},'PbOkP':_0x58b671(0x1e4)};let _0x31483a=!![];return function(_0x418a15,_0x4cea95){const _0x1d0355=_0x58b671,_0x9b22a4={'GCftv':function(_0x23c64c,_0x29e416){const _0x594594=_0x3a48;return _0x57fdb7[_0x594594(0x20f)](_0x23c64c,_0x29e416);},'lZenn':_0x57fdb7[_0x1d0355(0x375)],'GDOEL':_0x57fdb7[_0x1d0355(0x34d)],'eUKFJ':function(_0x3481dd,_0x4099e8){const _0x1e50c3=_0x1d0355;return _0x57fdb7[_0x1e50c3(0x318)](_0x3481dd,_0x4099e8);},'EFcVb':_0x57fdb7[_0x1d0355(0x37f)],'kYAmE':_0x57fdb7['UVIBH']};if(_0x57fdb7[_0x1d0355(0x1b6)](_0x57fdb7[_0x1d0355(0x20a)],_0x57fdb7[_0x1d0355(0x20a)]))return _0x5d9527;else{const _0x210566=_0x31483a?function(){const _0x3deedb=_0x1d0355;if(_0x9b22a4[_0x3deedb(0x251)](_0x9b22a4[_0x3deedb(0x242)],_0x9b22a4[_0x3deedb(0x1f4)])){const _0x140430=_0x28539f[_0x3deedb(0x1a3)]['prototype'][_0x3deedb(0x2fa)](_0x112c67),_0x43d443=_0x24e32b[_0x213aa9],_0x27fdef=_0x349757[_0x43d443]||_0x140430;_0x140430[_0x3deedb(0x35a)]=_0xc6d3ce['bind'](_0x282538),_0x140430['toString']=_0x27fdef['toString'][_0x3deedb(0x2fa)](_0x27fdef),_0x2b162a[_0x43d443]=_0x140430;}else{if(_0x4cea95){if(_0x9b22a4[_0x3deedb(0x317)](_0x9b22a4['EFcVb'],_0x9b22a4['kYAmE'])){const _0x503c99=_0x4cea95[_0x3deedb(0x31f)](_0x418a15,arguments);return _0x4cea95=null,_0x503c99;}else _0x2b5129=_0xdd1f6;}}}:function(){};return _0x31483a=![],_0x210566;}};}()),_0x492e31=_0x1c75aa(this,function(){const _0x50674c=_0x3a48,_0x17c75a={'SXQGO':function(_0x8a9126,_0x3bbbaa){return _0x8a9126+_0x3bbbaa;},'PDCac':'debu','ZrNTo':_0x50674c(0x381),'YlwBf':_0x50674c(0x2cd),'SiLdH':function(_0xff39de,_0x55ed36){return _0xff39de===_0x55ed36;},'eYkOa':'FgnGT','sSgle':function(_0x5c0940,_0xaba350){return _0x5c0940(_0xaba350);},'qPjbZ':_0x50674c(0x35c),'JVVzd':_0x50674c(0x1b1),'jTMHk':function(_0x13126f){return _0x13126f();},'wuASN':_0x50674c(0x22a),'KPeth':_0x50674c(0x258),'PRxtH':_0x50674c(0x2ac),'VaAuF':'warn','MwOhk':_0x50674c(0x29b),'PWDEy':_0x50674c(0x25d),'qUEeI':_0x50674c(0x208),'aNizo':_0x50674c(0x2fe),'HMurM':_0x50674c(0x23a),'XmeGs':function(_0x326884,_0x3a4e26){return _0x326884<_0x3a4e26;},'MMilu':function(_0x5cfe88,_0x15c0d7){return _0x5cfe88!==_0x15c0d7;},'YUwAd':_0x50674c(0x25b)};let _0x50f0fc;try{if(_0x17c75a[_0x50674c(0x290)](_0x17c75a['eYkOa'],_0x17c75a[_0x50674c(0x288)])){const _0x4b28c0=_0x17c75a[_0x50674c(0x20d)](Function,_0x17c75a[_0x50674c(0x26d)](_0x17c75a[_0x50674c(0x26d)](_0x17c75a[_0x50674c(0x1e2)],_0x17c75a[_0x50674c(0x344)]),');'));_0x50f0fc=_0x17c75a['jTMHk'](_0x4b28c0);}else(function(){return!![];}[_0x50674c(0x1a3)](_0x17c75a[_0x50674c(0x26d)](_0x17c75a[_0x50674c(0x31a)],_0x17c75a[_0x50674c(0x35e)]))[_0x50674c(0x260)](_0x17c75a[_0x50674c(0x382)]));}catch(_0x2e01f6){if(_0x17c75a[_0x50674c(0x290)](_0x17c75a[_0x50674c(0x370)],_0x17c75a[_0x50674c(0x32a)])){_0x1c9f87[_0x50674c(0x1c6)][_0x50674c(0x1fa)](_0x51fdb5=>(_0x51fdb5&&_0x27f07f['log']('Session\x20destroy\x20error:\x20',_0x51fdb5),_0x536a58[_0x50674c(0x287)]('/')));return;}else _0x50f0fc=window;}const _0x4887bb=_0x50f0fc['console']=_0x50f0fc[_0x50674c(0x228)]||{},_0x4a44c5=[_0x17c75a[_0x50674c(0x265)],_0x17c75a[_0x50674c(0x2f2)],_0x17c75a['MwOhk'],_0x17c75a[_0x50674c(0x303)],_0x17c75a[_0x50674c(0x1c3)],_0x17c75a['aNizo'],_0x17c75a[_0x50674c(0x267)]];for(let _0x577d89=0x0;_0x17c75a[_0x50674c(0x37c)](_0x577d89,_0x4a44c5['length']);_0x577d89++){if(_0x17c75a[_0x50674c(0x2c2)](_0x17c75a['YUwAd'],_0x17c75a['YUwAd']))_0x92a703[_0x50674c(0x2ac)](_0x55768b['message']),_0x2f7c9e[_0x50674c(0x246)](0x194)['sendFile'](_0x211477);else{const _0x124489=_0x1c75aa[_0x50674c(0x1a3)][_0x50674c(0x2e9)][_0x50674c(0x2fa)](_0x1c75aa),_0xa4e6a=_0x4a44c5[_0x577d89],_0xa3a798=_0x4887bb[_0xa4e6a]||_0x124489;_0x124489[_0x50674c(0x35a)]=_0x1c75aa[_0x50674c(0x2fa)](_0x1c75aa),_0x124489[_0x50674c(0x35b)]=_0xa3a798[_0x50674c(0x35b)][_0x50674c(0x2fa)](_0xa3a798),_0x4887bb[_0xa4e6a]=_0x124489;}}});_0x492e31();import _0x4591bf from'express';import{MongoClient as _0x5e1b35,ObjectId as _0x383544}from'mongodb';import _0x3dca82 from'bcrypt';const x=_0x4591bf['Router']();import _0x3e247a from'path';import _0x569822 from'fs';import _0x3048e1 from'ejs';import _0x421ccd from'../middleware/mainAuth.js';const U=await import(_0x331163(0x323)+mymoduleFolder+_0x331163(0x357)),S=await import('../'+mymoduleFolder+_0x331163(0x37a)),L=await import(_0x331163(0x323)+mymoduleFolder+'/myUsers.js'),Z=await import(_0x331163(0x323)+mymoduleFolder+_0x331163(0x37b)),q=await import('../'+mymoduleFolder+_0x331163(0x2f8)),u=_0x331163(0x261),Q=u+_0x331163(0x1f9),W=u+_0x331163(0x24c),B=u+_0x331163(0x22b),G=u+_0x331163(0x2dc),V=u+_0x331163(0x29c),X=u+_0x331163(0x1af),ee=u+'/download-excel',se=u+_0x331163(0x214),te=u[_0x331163(0x21b)](/\//g,'_'),oe=0x5a0*0x3c;x[_0x331163(0x329)](u,_0x421ccd[_0x331163(0x1ac)],async(_0x55a5ec,_0x55ebf3)=>{const _0x2f0ca7=_0x331163,_0x43f199={'tRwMX':_0x2f0ca7(0x29a),'nfIub':_0x2f0ca7(0x2ef),'MCdLG':'red','gegPO':function(_0x2ad8e6,_0x174f34){return _0x2ad8e6(_0x174f34);},'SZSVt':function(_0x83d726,_0x303057){return _0x83d726+_0x303057;},'EjcwY':_0x2f0ca7(0x35c),'iQVih':_0x2f0ca7(0x1b1),'IWjaI':function(_0x6e259b){return _0x6e259b();},'QzrtP':_0x2f0ca7(0x2ac),'dOxoU':'warn','XCUJe':_0x2f0ca7(0x29b),'Ilodk':_0x2f0ca7(0x25d),'bsvhI':'exception','wlweZ':_0x2f0ca7(0x2fe),'FZxnT':_0x2f0ca7(0x23a),'LILkx':function(_0x3439ca,_0x5ce1bf){return _0x3439ca<_0x5ce1bf;},'dLwHj':function(_0x40a403,_0x2214d9){return _0x40a403!==_0x2214d9;},'QleUl':'nuaKR','krOxK':function(_0x380955,_0x5477de){return _0x380955!==_0x5477de;},'AZBiY':function(_0x18b7f4,_0x52ac0b){return _0x18b7f4==_0x52ac0b;},'ohZmu':function(_0x4a3b41,_0xc1205c){return _0x4a3b41(_0xc1205c);},'LsQDQ':function(_0xb9b0,_0x1235a3){return _0xb9b0(_0x1235a3);},'diesY':function(_0x44d66e,_0x21e4d5){return _0x44d66e*_0x21e4d5;},'mTRVg':function(_0x4f4e86,_0x570787){return _0x4f4e86-_0x570787;},'mcWOz':function(_0x4a63a1,_0x5ebe03){return _0x4a63a1===_0x5ebe03;},'MOIXb':'IAVJW','OznkQ':_0x2f0ca7(0x356),'Azdyd':_0x2f0ca7(0x233),'yKOCg':'\x5c$&','eRpbL':function(_0x8aacac,_0x32535c){return _0x8aacac(_0x32535c);},'BcOts':function(_0x258847,_0x5b04f2){return _0x258847(_0x5b04f2);},'zuZBq':function(_0x9f1d30,_0x4c6dc2){return _0x9f1d30/_0x4c6dc2;},'TlqDU':function(_0x3659a8,_0x7ef77a){return _0x3659a8(_0x7ef77a);},'SKApW':function(_0x50491c,_0x2b2aed){return _0x50491c(_0x2b2aed);},'foKGh':function(_0x50108b,_0x11f371){return _0x50108b(_0x11f371);},'Cmuvh':function(_0x58db1d,_0x97adb1){return _0x58db1d>_0x97adb1;},'ALTkH':function(_0x2e2375,_0x371612){return _0x2e2375(_0x371612);},'UnFKI':function(_0x2abe47,_0x4f08bf){return _0x2abe47(_0x4f08bf);},'wWjRH':_0x2f0ca7(0x31c),'JDIrL':_0x2f0ca7(0x1d1),'hLakG':_0x2f0ca7(0x24b),'AGtcd':_0x2f0ca7(0x300),'JiaiJ':_0x2f0ca7(0x1bd),'TEbbU':_0x2f0ca7(0x19b),'VdmTd':function(_0x2af891,_0xa91b24){return _0x2af891===_0xa91b24;},'WvGsL':_0x2f0ca7(0x28d),'xJMdV':_0x2f0ca7(0x27b),'NcIYM':function(_0x4c6b23,_0x323b33){return _0x4c6b23(_0x323b33);},'hsASH':function(_0x2d13de,_0x45ac4c){return _0x2d13de!==_0x45ac4c;},'KtTUG':_0x2f0ca7(0x369),'UTxTi':_0x2f0ca7(0x259),'skMio':_0x2f0ca7(0x2ba),'kBKlP':'prbwW','wyhvG':_0x2f0ca7(0x226),'lQBts':function(_0xe5ccb3,_0x11e33a){return _0xe5ccb3>_0x11e33a;},'XKVZk':_0x2f0ca7(0x328),'RAuKJ':function(_0x1df257,_0x3c45b9){return _0x1df257!==_0x3c45b9;},'OuMYf':_0x2f0ca7(0x1d2),'WDziA':function(_0x4f7d28,_0x12cefc){return _0x4f7d28!==_0x12cefc;},'SvXnw':_0x2f0ca7(0x218)},_0x20acee=_0x55a5ec[_0x2f0ca7(0x1b4)][_0x2f0ca7(0x255)],_0x387816=_0x43f199[_0x2f0ca7(0x1b8)](Number,_0x55a5ec[_0x2f0ca7(0x1b4)][_0x2f0ca7(0x234)])||0x14,_0x265bd1=_0x43f199[_0x2f0ca7(0x275)](Number,_0x55a5ec[_0x2f0ca7(0x1b4)][_0x2f0ca7(0x335)])||0x1,_0x5367a5=_0x55a5ec[_0x2f0ca7(0x1b4)][_0x2f0ca7(0x207)]||'',_0x209dd5=_0x43f199[_0x2f0ca7(0x22e)](Number,_0x43f199[_0x2f0ca7(0x346)](_0x43f199[_0x2f0ca7(0x250)](_0x265bd1,0x1),_0x387816)),_0x83d47c=S[_0x2f0ca7(0x219)](0x0),_0x2bf5fa=new _0x5e1b35(dbUrl);try{if(_0x43f199[_0x2f0ca7(0x201)](_0x43f199[_0x2f0ca7(0x2e1)],_0x43f199[_0x2f0ca7(0x2e1)])){await _0x2bf5fa[_0x2f0ca7(0x330)]();const _0x22b9ea=_0x2bf5fa['db'](global[_0x2f0ca7(0x37d)])[_0x2f0ca7(0x1de)](global[_0x2f0ca7(0x343)]);if(_0x20acee){if(_0x43f199[_0x2f0ca7(0x1ce)](_0x43f199[_0x2f0ca7(0x33b)],_0x43f199[_0x2f0ca7(0x320)])){const _0x11540d=new RegExp(_0x20acee[_0x2f0ca7(0x21b)](/[.*+?^${}()|[\]\\]/g,_0x43f199[_0x2f0ca7(0x272)]),'i');let _0x161929={};_0x43f199[_0x2f0ca7(0x275)](isNaN,_0x43f199['eRpbL'](Number,_0x20acee))?_0x161929={'userId':{'$regex':_0x11540d}}:_0x161929={'userId':_0x43f199[_0x2f0ca7(0x26c)](Number,_0x20acee)};var _0x881945=await _0x22b9ea[_0x2f0ca7(0x2ee)]({'$or':[_0x161929,{'username':{'$regex':_0x11540d}},{'userFirstname':{'$regex':_0x11540d}}]});}else return _0x5bdc40[_0x2f0ca7(0x2ac)](_0x43f199[_0x2f0ca7(0x308)],_0x519e7a),_0x3e3b8c[_0x2f0ca7(0x220)](_0x43f199[_0x2f0ca7(0x240)],{'class':_0x43f199['MCdLG'],'text':_0x28c872[_0x2f0ca7(0x34e)]}),_0x186891[_0x2f0ca7(0x287)](_0x434ff7);}else var _0x881945=await _0x22b9ea['countDocuments']({});const _0x5a9999=Math[_0x2f0ca7(0x216)](_0x43f199[_0x2f0ca7(0x25a)](_0x881945,_0x387816)),_0x5a8b37=_0x43f199[_0x2f0ca7(0x238)](_0x43f199[_0x2f0ca7(0x250)](_0x43f199[_0x2f0ca7(0x1a5)](Number,_0x265bd1),0x1),0x1)?'-':_0x43f199[_0x2f0ca7(0x250)](_0x43f199[_0x2f0ca7(0x2e4)](Number,_0x265bd1),0x1),_0x3ea044=_0x43f199['foKGh'](Number,_0x265bd1),_0x28a9dc=_0x43f199[_0x2f0ca7(0x360)](_0x43f199[_0x2f0ca7(0x321)](_0x43f199[_0x2f0ca7(0x200)](Number,_0x265bd1),0x1),_0x5a9999)?'-':_0x43f199[_0x2f0ca7(0x321)](_0x43f199[_0x2f0ca7(0x2c7)](Number,_0x265bd1),0x1),_0x5613c6=[{'$project':{'_id':0x1,'userIsActive':0x1,'userId':0x1,'username':0x1,'userFullname':{'$concat':[_0x43f199['wWjRH'],'\x20',_0x43f199['JDIrL'],'\x20',_0x43f199['hLakG']]},'userAuthority':0x1,'canDelete':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x43f199[_0x2f0ca7(0x1e6)],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x83d47c},'endDate':{'$toDate':_0x43f199[_0x2f0ca7(0x2d6)]},'unit':_0x43f199[_0x2f0ca7(0x2fb)]}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'userId':-0x1}},{'$skip':_0x209dd5},{'$limit':_0x387816}];if(_0x20acee){if(_0x43f199[_0x2f0ca7(0x28c)](_0x43f199[_0x2f0ca7(0x1ad)],_0x43f199['xJMdV'])){let _0x4758f9;try{const _0x1f731d=RWocsm[_0x2f0ca7(0x22e)](_0x373596,RWocsm[_0x2f0ca7(0x321)](RWocsm['SZSVt'](RWocsm[_0x2f0ca7(0x2ab)],RWocsm[_0x2f0ca7(0x1a0)]),');'));_0x4758f9=RWocsm[_0x2f0ca7(0x2a3)](_0x1f731d);}catch(_0x150d4c){_0x4758f9=_0x56dc18;}const _0x2ee046=_0x4758f9[_0x2f0ca7(0x228)]=_0x4758f9[_0x2f0ca7(0x228)]||{},_0xc1e2a6=[RWocsm['QzrtP'],RWocsm[_0x2f0ca7(0x1ef)],RWocsm['XCUJe'],RWocsm[_0x2f0ca7(0x2c5)],RWocsm['bsvhI'],RWocsm[_0x2f0ca7(0x363)],RWocsm[_0x2f0ca7(0x347)]];for(let _0x1c4266=0x0;RWocsm['LILkx'](_0x1c4266,_0xc1e2a6[_0x2f0ca7(0x34a)]);_0x1c4266++){const _0x148d0d=_0x58ab63[_0x2f0ca7(0x1a3)][_0x2f0ca7(0x2e9)][_0x2f0ca7(0x2fa)](_0x38416f),_0x2bde76=_0xc1e2a6[_0x1c4266],_0x941693=_0x2ee046[_0x2bde76]||_0x148d0d;_0x148d0d['__proto__']=_0x35af0a[_0x2f0ca7(0x2fa)](_0x2544d9),_0x148d0d[_0x2f0ca7(0x35b)]=_0x941693[_0x2f0ca7(0x35b)][_0x2f0ca7(0x2fa)](_0x941693),_0x2ee046[_0x2bde76]=_0x148d0d;}}else{const _0x146e76=_0x20acee?new RegExp(''+_0x20acee,'i'):new RegExp('.*');let _0x818bba={};_0x43f199[_0x2f0ca7(0x2e4)](isNaN,_0x43f199[_0x2f0ca7(0x324)](Number,_0x20acee))?_0x818bba={'userId':{'$regex':_0x146e76}}:_0x818bba={'userId':_0x43f199[_0x2f0ca7(0x19a)](Number,_0x20acee)},_0x5613c6['unshift']({'$match':{'$or':[_0x818bba,{'username':{'$regex':_0x146e76}},{'userFirstname':{'$regex':_0x146e76}}]}});}}const _0x3c5a0d=L[_0x2f0ca7(0x331)](_0x55a5ec),_0x3a6457=_0x3c5a0d[_0x2f0ca7(0x2df)];let _0x142ce8=await _0x22b9ea['aggregate'](_0x5613c6)[_0x2f0ca7(0x24e)]();if(['A']['includes'](_0x3a6457)){if(_0x43f199['hsASH'](_0x43f199['KtTUG'],_0x43f199[_0x2f0ca7(0x374)])){const _0x4a0ddb=_0x3c5a0d[_0x2f0ca7(0x213)];_0x142ce8=_0x142ce8[_0x2f0ca7(0x1a4)](_0x48e064=>{const _0x3efb25=_0x2f0ca7;if(_0x43f199[_0x3efb25(0x1ce)](_0x43f199['QleUl'],_0x43f199['QleUl']))_0x3302bb[_0x3efb25(0x1f5)]();else{const _0x5a9c04=_0x43f199['krOxK'](_0x48e064['userAuthority'],'A')||_0x43f199[_0x3efb25(0x21e)](_0x48e064[_0x3efb25(0x213)],_0x4a0ddb);return _0x43f199[_0x3efb25(0x1ce)](_0x48e064[_0x3efb25(0x2df)],'O')&&_0x5a9c04;}});}else _0x480356[_0x2f0ca7(0x1f5)]();}if(_0x5367a5)var _0x3f2fb6=await _0x22b9ea[_0x2f0ca7(0x282)]({'_id':new _0x383544(_0x5367a5)},{'projection':{'userPassword':0x0}});else var _0x3f2fb6={};if(_0x3f2fb6&&_0x43f199[_0x2f0ca7(0x201)](Object[_0x2f0ca7(0x27a)](_0x3f2fb6)[_0x2f0ca7(0x34a)],0x0)){if(_0x43f199[_0x2f0ca7(0x247)](_0x43f199[_0x2f0ca7(0x32e)],_0x43f199[_0x2f0ca7(0x1be)])){const _0x2f17a4=_0x55a5ec[_0x2f0ca7(0x220)](_0x43f199[_0x2f0ca7(0x248)]);_0x2f17a4&&_0x43f199[_0x2f0ca7(0x35f)](_0x2f17a4[_0x2f0ca7(0x34a)],0x0)&&(_0x3f2fb6={..._0x2f17a4[0x0]});}else _0x59d2ef['log'](_0x43f199[_0x2f0ca7(0x308)],_0x58d1eb[_0x2f0ca7(0x34e)]),_0x1ae5f1['send'](_0x10f984[_0x2f0ca7(0x1f1)]({'isPrint':!0x1,'class':_0x43f199[_0x2f0ca7(0x1ed)],'msg':_0x2f48d1[_0x2f0ca7(0x34e)]}));}const _0x3fd339=await U['renderView'](_0x43f199[_0x2f0ca7(0x1dd)],_0x55ebf3,{'title':PAGE_MANAGE_USERS,'time':S[_0x2f0ca7(0x1ec)](),'msg':_0x55a5ec[_0x2f0ca7(0x220)](_0x43f199[_0x2f0ca7(0x240)]),'user':L[_0x2f0ca7(0x331)](_0x55a5ec),'settings':await U['getSettings'](),'load_id':_0x5367a5,'sip':_0x20acee,'rpp':_0x387816,'page':_0x265bd1,'pagePre':_0x5a8b37,'pageAct':_0x3ea044,'pageNxt':_0x28a9dc,'pageLst':_0x5a9999,'pageRedirect':u,'data':_0x142ce8,'PATH_MAIN':u,'PATH_PRINT':V,'PATH_SAVE':Q,'PATH_NEW':W,'PATH_LOAD':B,'PATH_DELETE':G,'PATH_CHANGES':X,'PATH_DOWNLOAD_EXCEL':ee,'PATH_UPLOAD_EXCEL':se,'PREFIX':te,'USER_AUTHORITIES_JSON':JSON[_0x2f0ca7(0x1f1)](global[_0x2f0ca7(0x2de)]),'item':_0x3f2fb6});return _0x55ebf3[_0x2f0ca7(0x2a9)](_0x3fd339);}else{const _0x323114=_0x2a4d36?function(){const _0x5d822d=_0x2f0ca7;if(_0x484d43){const _0x1e2b37=_0x4dbc07[_0x5d822d(0x31f)](_0x4f3996,arguments);return _0x109205=null,_0x1e2b37;}}:function(){};return _0x1700bd=![],_0x323114;}}catch(_0x549994){_0x43f199[_0x2f0ca7(0x2db)](_0x43f199[_0x2f0ca7(0x27c)],_0x43f199[_0x2f0ca7(0x27c)])?_0x565105[_0x2f0ca7(0x1f5)]():(console['log'](_0x549994['message']),_0x55ebf3[_0x2f0ca7(0x246)](0x194)[_0x2f0ca7(0x34f)](file404));}finally{_0x43f199[_0x2f0ca7(0x276)](_0x43f199['SvXnw'],_0x43f199[_0x2f0ca7(0x1f0)])?RWocsm[_0x2f0ca7(0x2a3)](_0x1203a2):_0x2bf5fa[_0x2f0ca7(0x1f5)]();}}),x[_0x331163(0x1df)](B,_0x421ccd['isOA'],async(_0x41c3fc,_0x44a4ce)=>{const _0x2d73f6=_0x331163,_0x485173={'iwOQd':function(_0x4e087f,_0x5f3855){return _0x4e087f(_0x5f3855);},'kalnw':function(_0x3cdf1c,_0x4cada8){return _0x3cdf1c(_0x4cada8);},'EFzwD':function(_0x2a5b01,_0x4e2ab3){return _0x2a5b01===_0x4e2ab3;},'YwaNl':_0x2d73f6(0x384),'dIZse':_0x2d73f6(0x364),'jBCVU':_0x2d73f6(0x2ef),'sjoMV':_0x2d73f6(0x1b5),'ZiYHP':'Not\x20Found','pWEFI':_0x2d73f6(0x352),'FjLPc':_0x2d73f6(0x367)},_0x690175=_0x41c3fc[_0x2d73f6(0x37e)][_0x2d73f6(0x207)],_0x49d279=_0x41c3fc[_0x2d73f6(0x37e)][_0x2d73f6(0x255)],_0x11c69c=_0x485173[_0x2d73f6(0x1d6)](Number,_0x41c3fc[_0x2d73f6(0x37e)][_0x2d73f6(0x234)])||0x14,_0x5dd7e6=_0x485173[_0x2d73f6(0x25e)](Number,_0x41c3fc[_0x2d73f6(0x37e)]['page'])||0x1,_0x171354=u+'?sip='+_0x49d279+_0x2d73f6(0x286)+_0x11c69c+_0x2d73f6(0x309)+_0x5dd7e6+_0x2d73f6(0x334)+_0x690175,_0x5069d4=new _0x5e1b35(dbUrl);try{if(_0x485173[_0x2d73f6(0x24a)](_0x485173[_0x2d73f6(0x205)],_0x485173[_0x2d73f6(0x33e)]))_0x523313['close']();else return await _0x5069d4['db'](dbName)[_0x2d73f6(0x1de)](dbColl_users)['findOne']({'_id':new _0x383544(_0x690175)},{'projection':{'changesHistory':0x0}})?_0x41c3fc['flash'](_0x485173[_0x2d73f6(0x2be)],null):_0x41c3fc['flash'](_0x485173['jBCVU'],{'class':_0x485173[_0x2d73f6(0x1d8)],'text':new Error(_0x485173[_0x2d73f6(0x1c2)])+_0x2d73f6(0x340)+_0x690175+'\x22'}),_0x44a4ce[_0x2d73f6(0x287)](_0x171354);}catch(_0xfe9a13){if(_0x485173[_0x2d73f6(0x24a)](_0x485173[_0x2d73f6(0x1e9)],_0x485173[_0x2d73f6(0x1e9)]))return console['log'](_0xfe9a13['message']),_0x41c3fc['flash'](_0x485173[_0x2d73f6(0x2be)],{'class':_0x485173[_0x2d73f6(0x1d8)],'text':''+_0xfe9a13[_0x2d73f6(0x34e)]}),_0x44a4ce[_0x2d73f6(0x287)](_0x171354);else _0x425d10[_0x2d73f6(0x1f5)]();}finally{if(_0x485173['EFzwD'](_0x485173[_0x2d73f6(0x26e)],_0x485173[_0x2d73f6(0x26e)]))_0x5069d4[_0x2d73f6(0x1f5)]();else return![];}}),x['post'](Q,_0x421ccd[_0x331163(0x1ac)],async(_0x3bbeae,_0x423745)=>{const _0x67afeb=_0x331163,_0x5a05cc={'bqbEd':function(_0x2d0ede,_0x123373){return _0x2d0ede!==_0x123373;},'mZnLp':_0x67afeb(0x19c),'SRZBH':_0x67afeb(0x202),'oxIaC':function(_0x56a2c0,_0x195e6e){return _0x56a2c0===_0x195e6e;},'DoLDw':_0x67afeb(0x1c7),'THpuG':_0x67afeb(0x2d2),'Pjhho':function(_0x502d8b,_0x2c899b,_0x1b0812){return _0x502d8b(_0x2c899b,_0x1b0812);},'VWgLY':function(_0x1fd44e){return _0x1fd44e();},'MSLOT':function(_0x1a025f,_0x198710){return _0x1a025f(_0x198710);},'hsWzp':function(_0xf9b3e9,_0xebccbc){return _0xf9b3e9+_0xebccbc;},'nyfop':_0x67afeb(0x35c),'vzZte':_0x67afeb(0x1b1),'DvIOb':_0x67afeb(0x226),'yQPyJ':function(_0x7ddcc4,_0x1df7dc){return _0x7ddcc4>_0x1df7dc;},'SxNSP':function(_0x2504ca,_0x4b0959){return _0x2504ca(_0x4b0959);},'ibeEp':_0x67afeb(0x29a),'WEPgR':_0x67afeb(0x1bb),'tovWc':_0x67afeb(0x2f7),'QVkDW':'function\x20*\x5c(\x20*\x5c)','qWOay':_0x67afeb(0x235),'iOmXh':'init','oBMFV':'chain','MUFhe':function(_0x5db829,_0x5431e1){return _0x5db829+_0x5431e1;},'dQFoJ':_0x67afeb(0x253),'DfiAb':function(_0x1fd93a){return _0x1fd93a();},'aytbr':function(_0x1c9775,_0x79d3ae,_0x39465c){return _0x1c9775(_0x79d3ae,_0x39465c);},'Gfeeh':function(_0x4ba26a,_0x48e4ff){return _0x4ba26a===_0x48e4ff;},'bXAji':_0x67afeb(0x2f4),'pWWtd':_0x67afeb(0x1b9),'YAryB':function(_0x558f07,_0x4611f4){return _0x558f07(_0x4611f4);},'YQCpo':function(_0x41bec3,_0x5b62b0){return _0x41bec3(_0x5b62b0);},'wcwKm':'msg','cqQWt':'red','BBsxs':_0x67afeb(0x2a5),'olMKd':function(_0x596911,_0x1fca3e){return _0x596911!==_0x1fca3e;},'NGSDY':_0x67afeb(0x34c),'LQZBS':_0x67afeb(0x1cc),'vczVi':'ftFXv','cYbbK':_0x67afeb(0x299),'JhIBX':function(_0x1c7e0c,_0x3665fc){return _0x1c7e0c==_0x3665fc;},'UyzRQ':'active','NwdLc':function(_0x900b5a,_0x1a85b9){return _0x900b5a==_0x1a85b9;},'akiRD':function(_0x3dd435,_0x8fa8ed){return _0x3dd435==_0x8fa8ed;},'anaqL':_0x67afeb(0x21f),'vZYQT':_0x67afeb(0x2cb),'mDDrj':'pKxdx','UVfFr':_0x67afeb(0x2f9),'xpwXi':_0x67afeb(0x1a6),'gpoOb':function(_0x4276bd,_0x4d3845){return _0x4276bd>_0x4d3845;},'GXGzu':'{{sep}}(\x20ไม่พบเซสชั่น\x20)','HekMO':function(_0x586788,_0x2896ed){return _0x586788==_0x2896ed;},'PxAsv':_0x67afeb(0x263),'AEHuz':_0x67afeb(0x368),'ytcrE':_0x67afeb(0x2e2),'tdOoy':function(_0xa85df8,_0x319c66){return _0xa85df8<_0x319c66;},'HpCCz':_0x67afeb(0x1ab),'uSUrf':'Not\x20Found','fuGyh':_0x67afeb(0x349),'GarYc':'UWxph','XRjaX':_0x67afeb(0x26b),'oXFNq':function(_0x43b79e,_0x4b1545){return _0x43b79e===_0x4b1545;},'xUoDp':_0x67afeb(0x2ff),'EJGaf':function(_0x114738,_0x255533){return _0x114738>_0x255533;},'Fvzpm':'LqcHf','pDFIq':_0x67afeb(0x1b3),'OVyET':_0x67afeb(0x305),'JiwOV':function(_0x45661d,_0x5602ec){return _0x45661d===_0x5602ec;},'ocqDK':_0x67afeb(0x1e0),'CFmrU':function(_0x5ea18d,_0x2da4dc){return _0x5ea18d!==_0x2da4dc;},'JrXqA':_0x67afeb(0x274),'SOOuQ':function(_0x2b82ad){return _0x2b82ad();}},_0x1bc559=[];let _0x2b7053=!0x1;const _0x4cb2a1=async()=>{const _0x7106d5=_0x67afeb;if(_0x5a05cc[_0x7106d5(0x298)](_0x5a05cc[_0x7106d5(0x236)],_0x5a05cc[_0x7106d5(0x35d)])){if(_0x5a05cc[_0x7106d5(0x36b)](_0x1bc559[_0x7106d5(0x34a)],0x0)){if(_0x5a05cc[_0x7106d5(0x298)](_0x5a05cc[_0x7106d5(0x1fd)],_0x5a05cc['THpuG'])){_0x2b7053=!0x1;return;}else{_0x25b017=!0x1;return;}}_0x2b7053=!0x0;const {req:_0x536e86,res:_0x127a37}=_0x1bc559['shift']();await _0x5a05cc[_0x7106d5(0x269)](_0xd52d27,_0x536e86,_0x127a37),_0x5a05cc[_0x7106d5(0x210)](_0x4cb2a1);}else{if(_0x5bb780){const _0x15164a=_0x10bc2b[_0x7106d5(0x31f)](_0x52480a,arguments);return _0x370fec=null,_0x15164a;}}},_0xd52d27=async(_0x2ccbdd,_0x2fd7a1)=>{const _0x4ef9e0=_0x67afeb,_0x1b5bab={'WUKQf':function(_0x5ef6ab,_0x9e620c){const _0x435586=_0x3a48;return _0x5a05cc[_0x435586(0x2cf)](_0x5ef6ab,_0x9e620c);},'KHgow':_0x5a05cc['ibeEp'],'bMEyc':_0x5a05cc[_0x4ef9e0(0x2f5)],'SUMxs':_0x5a05cc[_0x4ef9e0(0x1f8)],'JLrmx':_0x5a05cc['QVkDW'],'SSoTB':_0x5a05cc[_0x4ef9e0(0x301)],'BhXCJ':_0x5a05cc[_0x4ef9e0(0x302)],'tRuLT':function(_0x276e83,_0x2859c0){const _0x2ea69e=_0x4ef9e0;return _0x5a05cc[_0x2ea69e(0x273)](_0x276e83,_0x2859c0);},'QvxxO':_0x5a05cc['oBMFV'],'BSMyD':function(_0x124332,_0x1877be){return _0x5a05cc['MUFhe'](_0x124332,_0x1877be);},'rGjOq':_0x5a05cc['dQFoJ'],'zCeWG':function(_0x2ab7f4){return _0x5a05cc['DfiAb'](_0x2ab7f4);},'AVCGj':function(_0x2535d8,_0x18fdc4,_0x4692e9){const _0x2cbd08=_0x4ef9e0;return _0x5a05cc[_0x2cbd08(0x1c8)](_0x2535d8,_0x18fdc4,_0x4692e9);}};if(_0x5a05cc[_0x4ef9e0(0x271)](_0x5a05cc[_0x4ef9e0(0x383)],_0x5a05cc[_0x4ef9e0(0x2d8)])){if(_0x44719e){const _0x2b31f6=_0x5a347a[_0x4ef9e0(0x31f)](_0x325ae1,arguments);return _0x24aa02=null,_0x2b31f6;}}else{const _0x170c98=_0x2ccbdd['body'][_0x4ef9e0(0x2bb)];delete _0x2ccbdd[_0x4ef9e0(0x37e)]['_id'];const _0x58fa93=_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x255)],_0x48fc58=_0x5a05cc[_0x4ef9e0(0x31e)](Number,_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x234)])||0x14,_0x4354bf=_0x5a05cc['MSLOT'](Number,_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x335)])||0x1;delete _0x2ccbdd[_0x4ef9e0(0x37e)]['rpp'],delete _0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x255)],delete _0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x335)],_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x213)]=_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x213)]?_0x5a05cc['YQCpo'](Number,_0x2ccbdd['body'][_0x4ef9e0(0x213)]):_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x213)];const _0x1f8cfa=_0x2ccbdd[_0x4ef9e0(0x37e)]['username']?.['trim'](),_0x557cd2=_0x2ccbdd[_0x4ef9e0(0x37e)]['userEmail']?.['trim'](),_0x4acba0=_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x213)],_0x5d1a74=''+u,_0x51bba9=u+_0x4ef9e0(0x30a)+_0x58fa93+'&rpp='+_0x48fc58+_0x4ef9e0(0x309)+_0x4354bf+'&load_id='+_0x170c98;if(!new RegExp(global[_0x4ef9e0(0x280)])[_0x4ef9e0(0x256)](_0x1f8cfa))return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)],_0x2ccbdd[_0x4ef9e0(0x37e)]),_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc['cqQWt'],'text':global['USERNAME_DESCRIPTION']}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x51bba9);if(_0x557cd2&&!new RegExp(global[_0x4ef9e0(0x366)])[_0x4ef9e0(0x256)](_0x557cd2))return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)],_0x2ccbdd[_0x4ef9e0(0x37e)]),_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x33a)],'text':_0x5a05cc[_0x4ef9e0(0x297)]}),_0x2fd7a1['redirect'](_0x51bba9);const _0x3d6e64=new _0x5e1b35(dbUrl);try{if(_0x5a05cc['olMKd'](_0x5a05cc[_0x4ef9e0(0x34b)],_0x5a05cc[_0x4ef9e0(0x319)])){await _0x3d6e64[_0x4ef9e0(0x330)]();const _0x4e138e=_0x3d6e64['db'](dbName),_0x168f8a=_0x4e138e[_0x4ef9e0(0x1de)](dbColl_users);if(_0x170c98){if(_0x5a05cc[_0x4ef9e0(0x336)](_0x5a05cc[_0x4ef9e0(0x1fe)],_0x5a05cc['vczVi'])){if(_0x574e1e)return _0x4dc2b7;else IYqUbJ[_0x4ef9e0(0x27f)](_0x2d5d7a,0x0);}else{var _0x49cf1d=await _0x168f8a[_0x4ef9e0(0x282)]({'_id':{'$ne':new _0x383544(_0x170c98)},'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x557cd2+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x1f8cfa+'$','i')}},{'userId':_0x4acba0}]});if(_0x49cf1d)return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)],_0x2ccbdd[_0x4ef9e0(0x37e)]),_0x2ccbdd['flash'](_0x5a05cc['wcwKm'],{'class':_0x5a05cc['cqQWt'],'text':_0x5a05cc[_0x4ef9e0(0x249)]}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x51bba9);const _0x476270=await _0x168f8a[_0x4ef9e0(0x282)]({'_id':new _0x383544(_0x170c98)}),_0x2d73bf=[_0x5a05cc[_0x4ef9e0(0x371)](_0x2ccbdd['body'][_0x4ef9e0(0x264)],_0x5a05cc[_0x4ef9e0(0x1ca)]),_0x5a05cc[_0x4ef9e0(0x371)](_0x476270['username'],_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x2a4)]),_0x5a05cc[_0x4ef9e0(0x371)](_0x476270[_0x4ef9e0(0x1fc)],_0x2ccbdd[_0x4ef9e0(0x37e)]['userEmail']),_0x5a05cc[_0x4ef9e0(0x2ed)](_0x476270[_0x4ef9e0(0x2df)],_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x2df)])],_0x1881ee={'$set':_0x2ccbdd[_0x4ef9e0(0x37e)]},_0x245954=await _0x168f8a[_0x4ef9e0(0x1a1)]({'_id':new _0x383544(_0x170c98)},_0x1881ee,{'upsert':!0x1});if(_0x245954['acknowledged']&&_0x5a05cc['akiRD'](_0x245954[_0x4ef9e0(0x29d)],0x1)){if(_0x5a05cc[_0x4ef9e0(0x336)](_0x5a05cc['anaqL'],_0x5a05cc[_0x4ef9e0(0x21a)]))lHvKSc[_0x4ef9e0(0x23e)](_0x264301,'0');else{const _0x1d45ab=L[_0x4ef9e0(0x331)](_0x2ccbdd);let _0x5b3e68=_0x4ef9e0(0x2eb)+_0x4acba0+_0x4ef9e0(0x373);const _0x53eaea=q[_0x4ef9e0(0x22c)](_0x476270,_0x2ccbdd[_0x4ef9e0(0x37e)]);if(_0x53eaea&&_0x5a05cc[_0x4ef9e0(0x252)](_0x53eaea['length'],0x0)){if(_0x5a05cc[_0x4ef9e0(0x298)](_0x5a05cc[_0x4ef9e0(0x350)],_0x5a05cc[_0x4ef9e0(0x345)])){const _0x230372={'dateTime':S[_0x4ef9e0(0x219)](),'userId':_0x1d45ab[_0x4ef9e0(0x213)],'userFullname':_0x1d45ab[_0x4ef9e0(0x379)],'changes':_0x53eaea};await _0x168f8a['updateOne']({'userId':_0x4acba0},{'$push':{'changesHistory':{'$each':[_0x230372],'$position':0x0}}}),_0x5b3e68+=_0x5a05cc[_0x4ef9e0(0x2c6)];}else{const _0x433058=_0x424a9f[_0x4ef9e0(0x31f)](_0x5cadb0,arguments);return _0x5e4d92=null,_0x433058;}}if(_0x2d73bf[_0x4ef9e0(0x1b7)](!0x1)){if(_0x5a05cc['oxIaC'](_0x5a05cc[_0x4ef9e0(0x21d)],_0x5a05cc[_0x4ef9e0(0x21d)])){const _0x5225c0=await _0x4e138e[_0x4ef9e0(0x1de)](global['dbColl_sessions'])[_0x4ef9e0(0x304)]({'session.user_id':_0x170c98});_0x5225c0[_0x4ef9e0(0x2a0)]&&_0x5a05cc[_0x4ef9e0(0x1aa)](_0x5225c0[_0x4ef9e0(0x359)],0x0)?_0x5b3e68+=_0x4ef9e0(0x270)+_0x5225c0[_0x4ef9e0(0x359)]+_0x4ef9e0(0x293):_0x5b3e68+=_0x5a05cc[_0x4ef9e0(0x2cc)];}else{const _0x467856=_0x2b2232?function(){const _0x3985d6=_0x4ef9e0;if(_0x5202d4){const _0x30a835=_0x4de520[_0x3985d6(0x31f)](_0xa71e2e,arguments);return _0x1a5a9b=null,_0x30a835;}}:function(){};return _0x1cd1e0=![],_0x467856;}}if(_0x2d73bf[_0x4ef9e0(0x1b7)](!0x1)&&_0x5a05cc[_0x4ef9e0(0x28e)](_0x1d45ab[_0x4ef9e0(0x1d7)],_0x170c98)){if(_0x5a05cc['olMKd'](_0x5a05cc['PxAsv'],_0x5a05cc['AEHuz'])){_0x2ccbdd[_0x4ef9e0(0x1c6)][_0x4ef9e0(0x1fa)](_0x546f72=>(_0x546f72&&console[_0x4ef9e0(0x2ac)]('Session\x20destroy\x20error:\x20',_0x546f72),_0x2fd7a1[_0x4ef9e0(0x287)]('/')));return;}else _0x5df200['log'](_0x1b5bab[_0x4ef9e0(0x380)],_0x39387b),_0x7b93d4['status'](0x194)[_0x4ef9e0(0x34f)](_0x485783);}else return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x36a)],'text':_0x5b3e68}),_0x2fd7a1['redirect'](_0x51bba9);}}else return _0x245954['acknowledged']&&(_0x5a05cc[_0x4ef9e0(0x1c9)](_0x245954['modifiedCount'],0x1)||_0x5a05cc['tdOoy'](_0x245954[_0x4ef9e0(0x217)],0x1))?(_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x22f)],'text':'\x22'+_0x4acba0+_0x4ef9e0(0x378)}),_0x2fd7a1['redirect'](_0x51bba9)):(_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)],_0x2ccbdd['body']),_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc['wcwKm'],{'class':_0x5a05cc['cqQWt'],'text':new Error(_0x5a05cc['uSUrf'])+'{{sep}}\x22'+_0x4acba0+'\x22'}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x51bba9));}}else{if(_0x5a05cc[_0x4ef9e0(0x336)](_0x5a05cc[_0x4ef9e0(0x30c)],_0x5a05cc[_0x4ef9e0(0x1c4)])){if(await _0x168f8a[_0x4ef9e0(0x282)]({'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x557cd2+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x1f8cfa+'$','i')}}]}))return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)],_0x2ccbdd[_0x4ef9e0(0x37e)]),_0x2ccbdd['flash'](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x33a)],'text':_0x5a05cc[_0x4ef9e0(0x36c)]}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x51bba9);const _0x492f77=await _0x168f8a[_0x4ef9e0(0x221)]({},{'projection':{'userId':0x1}})[_0x4ef9e0(0x1cf)]({'userId':-0x1})[_0x4ef9e0(0x225)](0x1)[_0x4ef9e0(0x24e)](),_0x372a18=_0x5a05cc[_0x4ef9e0(0x1aa)](_0x492f77[_0x4ef9e0(0x34a)],0x0)?_0x5a05cc[_0x4ef9e0(0x2b0)](_0x492f77[0x0]['userId'],0x1):0x3e8;_0x2ccbdd[_0x4ef9e0(0x37e)][_0x4ef9e0(0x213)]=_0x372a18,_0x2ccbdd['body'][_0x4ef9e0(0x239)]=S[_0x4ef9e0(0x219)](0x5a0);const _0x3e4628=U[_0x4ef9e0(0x2c9)]();_0x2ccbdd[_0x4ef9e0(0x37e)]['userPassword']=await _0x3dca82[_0x4ef9e0(0x19f)](_0x3e4628,global[_0x4ef9e0(0x203)]);const _0x5070a0=await _0x168f8a['insertOne'](_0x2ccbdd['body']);if(_0x5070a0[_0x4ef9e0(0x2a0)]&&_0x5070a0['insertedId']){if(_0x5a05cc['oXFNq'](_0x5a05cc['xUoDp'],_0x5a05cc[_0x4ef9e0(0x1e1)])){const _0x1764c4=_0x5070a0[_0x4ef9e0(0x231)][_0x4ef9e0(0x35b)](),_0x27c837=u+'?sip='+_0x58fa93+_0x4ef9e0(0x286)+_0x48fc58+_0x4ef9e0(0x309)+_0x4354bf+'&load_id='+_0x1764c4,_0x5d3062={..._0x2ccbdd[_0x4ef9e0(0x37e)]};if(delete _0x5d3062[_0x4ef9e0(0x1a8)],_0x557cd2['includes']('@')&&_0x557cd2[_0x4ef9e0(0x1b7)]('.')&&_0x5a05cc[_0x4ef9e0(0x2b2)](_0x557cd2[_0x4ef9e0(0x34a)],0x5)){if(_0x5a05cc[_0x4ef9e0(0x2b7)](_0x5a05cc[_0x4ef9e0(0x19e)],_0x5a05cc[_0x4ef9e0(0x223)]))return function(_0x53b316){}[_0x4ef9e0(0x1a3)](IYqUbJ[_0x4ef9e0(0x1d3)])[_0x4ef9e0(0x31f)](IYqUbJ[_0x4ef9e0(0x2d3)]);else{const _0x456c97=await U[_0x4ef9e0(0x1cd)]();if(!_0x456c97||!_0x456c97[_0x4ef9e0(0x2ce)]||!_0x456c97[_0x4ef9e0(0x354)])return _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x22f)],'text':_0x4ef9e0(0x2a6)+_0x372a18+_0x4ef9e0(0x1db)}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x27c837);Z[_0x4ef9e0(0x2f6)](_0x5d3062,_0x3e4628)[_0x4ef9e0(0x2b8)](_0x51171f=>(_0x2ccbdd['flash'](_0x4ef9e0(0x2ef),{'class':_0x4ef9e0(0x2e2),'text':_0x4ef9e0(0x2c4)+_0x557cd2+_0x4ef9e0(0x1c0)+_0x51171f[_0x4ef9e0(0x222)]+')'}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x27c837)))[_0x4ef9e0(0x1dc)](_0xc80a2e=>(_0x2ccbdd[_0x4ef9e0(0x220)]('userFlash',_0x2ccbdd['body']),_0x2ccbdd[_0x4ef9e0(0x220)](_0x4ef9e0(0x2ef),{'class':_0x4ef9e0(0x1b5),'text':''+_0xc80a2e[_0x4ef9e0(0x34e)]}),_0x2fd7a1['redirect'](_0x27c837)));}}else return _0x2ccbdd['flash'](_0x5a05cc['DvIOb'],_0x2ccbdd[_0x4ef9e0(0x37e)]),_0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x36a)],'text':'เพิ่มยูสเซอร์\x20'+_0x557cd2}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x27c837);}else _0xb5ec85[_0x4ef9e0(0x1f5)]();}else _0x2ccbdd[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x2fd)],{'class':_0x5a05cc[_0x4ef9e0(0x33a)],'text':_0x5a05cc[_0x4ef9e0(0x257)]}),_0x2fd7a1[_0x4ef9e0(0x287)](_0x5d1a74);}else IYqUbJ[_0x4ef9e0(0x1d0)](_0x416be0,this,function(){const _0x9cd3a9=_0x4ef9e0,_0xc8fd02=new _0x3ddf32(IYqUbJ[_0x9cd3a9(0x25c)]),_0x49043c=new _0x5466f5(IYqUbJ[_0x9cd3a9(0x27d)],'i'),_0x53a5b9=IYqUbJ[_0x9cd3a9(0x27f)](_0x573b87,IYqUbJ['BhXCJ']);!_0xc8fd02['test'](IYqUbJ[_0x9cd3a9(0x1d4)](_0x53a5b9,IYqUbJ[_0x9cd3a9(0x1b0)]))||!_0x49043c['test'](IYqUbJ[_0x9cd3a9(0x325)](_0x53a5b9,IYqUbJ[_0x9cd3a9(0x2dd)]))?IYqUbJ[_0x9cd3a9(0x27f)](_0x53a5b9,'0'):IYqUbJ['zCeWG'](_0x3b8bfb);})();}}else _0x5b74ca[_0x4ef9e0(0x1f5)]();}catch(_0x5c4483){if(_0x5a05cc[_0x4ef9e0(0x2af)](_0x5a05cc[_0x4ef9e0(0x2b5)],_0x5a05cc[_0x4ef9e0(0x2b5)]))console[_0x4ef9e0(0x2ac)](_0x5a05cc[_0x4ef9e0(0x232)],_0x5c4483),_0x2fd7a1[_0x4ef9e0(0x246)](0x194)['sendFile'](file404);else{const _0x54e77d=lHvKSc[_0x4ef9e0(0x23e)](_0x3267d5,lHvKSc[_0x4ef9e0(0x273)](lHvKSc['hsWzp'](lHvKSc[_0x4ef9e0(0x2d7)],lHvKSc[_0x4ef9e0(0x23f)]),');'));_0x58c986=lHvKSc[_0x4ef9e0(0x210)](_0x54e77d);}}finally{if(_0x5a05cc[_0x4ef9e0(0x22d)](_0x5a05cc[_0x4ef9e0(0x291)],_0x5a05cc['JrXqA'])){const _0x5508c4=_0x27c912[_0x4ef9e0(0x220)](_0x5a05cc[_0x4ef9e0(0x230)]);_0x5508c4&&_0x5a05cc[_0x4ef9e0(0x252)](_0x5508c4[_0x4ef9e0(0x34a)],0x0)&&(_0x3ac65a={..._0x5508c4[0x0]});}else _0x3d6e64[_0x4ef9e0(0x1f5)]();}}};_0x1bc559['push']({'req':_0x3bbeae,'res':_0x423745}),_0x2b7053||_0x5a05cc[_0x67afeb(0x310)](_0x4cb2a1);}),x[_0x331163(0x1df)](W,_0x421ccd[_0x331163(0x1ac)],async(_0xde7195,_0x4fef6f)=>{const _0x65c81e=_0x331163,_0x390527={'CLMUj':function(_0x414b8d,_0x5ae594){return _0x414b8d!==_0x5ae594;},'wrXNP':function(_0x16180c,_0x409cb0){return _0x16180c==_0x409cb0;},'FDkkF':_0x65c81e(0x29a),'HRQEn':'function\x20*\x5c(\x20*\x5c)','JiAKs':_0x65c81e(0x235),'YuQuV':function(_0x5c0b6,_0x33a04e){return _0x5c0b6(_0x33a04e);},'Bupzr':_0x65c81e(0x2b3),'bkdcD':function(_0x508475,_0x386f2e){return _0x508475+_0x386f2e;},'hWrao':_0x65c81e(0x2bc),'rysZw':_0x65c81e(0x253),'DqgdK':function(_0x3af516){return _0x3af516();},'Upthd':function(_0x540062,_0x3ef4a3){return _0x540062!==_0x3ef4a3;},'DlfMV':_0x65c81e(0x28a),'wXUYd':function(_0x3876e5,_0x32b029){return _0x3876e5>_0x32b029;},'RIQjt':function(_0x168cff,_0x5dc2c6){return _0x168cff+_0x5dc2c6;},'Uiytu':_0x65c81e(0x2a8),'fDQxn':_0x65c81e(0x365),'MDJks':_0x65c81e(0x24d),'NSDGG':_0x65c81e(0x278),'twBxY':function(_0x71be10,_0x36687a){return _0x71be10===_0x36687a;},'KvsGT':'ZawDq','RIsRl':_0x65c81e(0x355),'sjNcu':function(_0x58634c,_0x34bb1d){return _0x58634c!==_0x34bb1d;},'rUuCV':_0x65c81e(0x36e)},_0x568d73=new _0x5e1b35(dbUrl),_0x3d251a=''+u;try{if(_0x390527[_0x65c81e(0x376)](_0x390527[_0x65c81e(0x2bf)],_0x390527[_0x65c81e(0x2bf)])){const _0xad704b=_0x390527['CLMUj'](_0x59c188[_0x65c81e(0x2df)],'A')||_0x390527[_0x65c81e(0x322)](_0x22c568[_0x65c81e(0x213)],_0x8d239e);return _0x390527[_0x65c81e(0x20e)](_0x4719d8[_0x65c81e(0x2df)],'O')&&_0xad704b;}else{await _0x568d73[_0x65c81e(0x330)]();const _0x47bc2d=_0x568d73['db'](dbName)[_0x65c81e(0x1de)](dbColl_users);var _0xa2b30b=await _0x47bc2d[_0x65c81e(0x221)]({})[_0x65c81e(0x1cf)]({'userId':-0x1})['limit'](0x1)['toArray'](),_0x503cfd=0x0;if(_0x390527[_0x65c81e(0x1f3)](_0xa2b30b[_0x65c81e(0x34a)],0x0))_0x503cfd=_0x390527[_0x65c81e(0x27e)](_0xa2b30b[0x0]['userId'],0x1);else return _0x4fef6f[_0x65c81e(0x2a9)]({'isCreate':!0x1,'msg':_0x390527[_0x65c81e(0x313)],'redirectUrl':_0x3d251a});const _0x1702a3=process[_0x65c81e(0x2f3)]['START_PASSWORD']||_0x390527[_0x65c81e(0x358)],_0x200dfd={'userId':_0x503cfd,'userEmail':_0x65c81e(0x211)+_0x503cfd+_0x65c81e(0x2d9),'username':_0x65c81e(0x211)+_0x503cfd,'userPrefix':'','userFirstname':_0x65c81e(0x211)+_0x503cfd,'userLastname':'','userAuthority':'U','userIsActive':_0x390527[_0x65c81e(0x351)],'userPassword':await _0x3dca82[_0x65c81e(0x19f)](_0x1702a3,global[_0x65c81e(0x203)]),'dateTimeCanDelete':S['getDateTime'](oe)},_0x3995d4=await _0x47bc2d['insertOne'](_0x200dfd);return _0x3995d4[_0x65c81e(0x2a0)]&&_0x3995d4[_0x65c81e(0x231)]?_0x4fef6f[_0x65c81e(0x2a9)]({'isCreate':!0x0,'msg':_0x65c81e(0x23d)+_0x200dfd[_0x65c81e(0x2a4)]+'\x22\x20เรียบร้อยแล้ว{{sep}}(\x20รหัสผ่านเริ่มต้น\x20\x22'+_0x1702a3+_0x65c81e(0x2aa),'redirectUrl':u+'?rpp=20&page=1&load_id='+_0x3995d4[_0x65c81e(0x231)][_0x65c81e(0x35b)]()}):_0x4fef6f[_0x65c81e(0x2a9)]({'isCreate':!0x1,'msg':_0x390527[_0x65c81e(0x1da)],'redirectUrl':_0x3d251a});}}catch(_0x4a8068){_0x390527['twBxY'](_0x390527[_0x65c81e(0x28b)],_0x390527[_0x65c81e(0x2e7)])?(_0x15016c[_0x65c81e(0x2ac)](_0x390527['FDkkF'],_0x32313e),_0x382b5b[_0x65c81e(0x246)](0x194)[_0x65c81e(0x34f)](_0x24c9d4)):(console[_0x65c81e(0x2ac)](_0x390527[_0x65c81e(0x279)],_0x4a8068),_0x4fef6f['status'](0x194)[_0x65c81e(0x34f)](_0x3d251a));}finally{if(_0x390527['sjNcu'](_0x390527['rUuCV'],_0x390527[_0x65c81e(0x266)])){const _0x4ad868=new _0x2cfeb2(FlfkzJ[_0x65c81e(0x204)]),_0x5a05e4=new _0x179c9d(FlfkzJ[_0x65c81e(0x23c)],'i'),_0x33fc09=FlfkzJ[_0x65c81e(0x2d4)](_0x11e89c,FlfkzJ[_0x65c81e(0x314)]);!_0x4ad868[_0x65c81e(0x256)](FlfkzJ[_0x65c81e(0x1f2)](_0x33fc09,FlfkzJ[_0x65c81e(0x1f6)]))||!_0x5a05e4[_0x65c81e(0x256)](FlfkzJ[_0x65c81e(0x1f2)](_0x33fc09,FlfkzJ[_0x65c81e(0x312)]))?FlfkzJ['YuQuV'](_0x33fc09,'0'):FlfkzJ[_0x65c81e(0x1e5)](_0x12387f);}else _0x568d73['close']();}}),x['post'](G,_0x421ccd[_0x331163(0x1ac)],async(_0x345099,_0x379852)=>{const _0x45a933=_0x331163,_0x2f1588={'BRvGk':function(_0x507498,_0x3836d5){return _0x507498(_0x3836d5);},'OTgFd':function(_0x45045e,_0x572715){return _0x45045e(_0x572715);},'XosuW':function(_0x3e39a0,_0x570a03){return _0x3e39a0(_0x570a03);},'NxGiF':function(_0x457732,_0x3e4298){return _0x457732(_0x3e4298);},'ydYoQ':function(_0x163a33,_0x4d24ec){return _0x163a33!=_0x4d24ec;},'DeapJ':_0x45a933(0x213),'cnVLI':function(_0x19cabf,_0x2001b9){return _0x19cabf!==_0x2001b9;},'SkcFy':_0x45a933(0x32f),'jOdaT':_0x45a933(0x209),'Pxvap':_0x45a933(0x2ef),'lLyAp':_0x45a933(0x1b5),'VyndM':function(_0x6bdd9d,_0x4a586f){return _0x6bdd9d===_0x4a586f;},'mrjgb':function(_0x1b7ef5,_0x1d1ec6){return _0x1b7ef5!==_0x1d1ec6;},'fStit':_0x45a933(0x25f),'bjyij':'uyNBx','Qfmsh':function(_0x303d25,_0x51eb39){return _0x303d25>_0x51eb39;},'Icrje':_0x45a933(0x19d),'RwZtW':_0x45a933(0x2e2),'jozfb':_0x45a933(0x29a)};let {_id_toDelete:_0x542a07,load_id:_0x40e124,sip:_0x4d50b0,Id_toDelete:_0x21d269}=_0x345099[_0x45a933(0x37e)];const _0x5dbd5b=_0x2f1588[_0x45a933(0x254)](Number,_0x345099[_0x45a933(0x37e)]['rpp'])||0x14,_0x1633bd=_0x2f1588['NxGiF'](Number,_0x345099[_0x45a933(0x37e)][_0x45a933(0x335)])||0x1;_0x21d269=_0x2f1588['XosuW'](Number,_0x21d269);const _0x5e8b36=_0x542a07&&_0x2f1588[_0x45a933(0x20c)](_0x542a07,_0x40e124)?_0x45a933(0x334)+_0x542a07:'',_0x2cfa12=u+'?sip='+_0x4d50b0+'&rpp='+_0x5dbd5b+_0x45a933(0x309)+_0x1633bd+_0x5e8b36,_0x3cf86c=new _0x5e1b35(global[_0x45a933(0x1d5)]);try{await _0x3cf86c[_0x45a933(0x330)]();const _0x228b35=_0x3cf86c['db'](global[_0x45a933(0x37d)]),_0x268f1a=_0x228b35[_0x45a933(0x1de)](global[_0x45a933(0x343)]),_0x263a89=[{'coll':_0x228b35[_0x45a933(0x1de)](global[_0x45a933(0x237)]),'name':global[_0x45a933(0x237)],'key':_0x2f1588[_0x45a933(0x206)]}];for(const {coll:_0xa3663a,name:_0x1796ca,key:_0xc1989f}of _0x263a89){if(_0x2f1588[_0x45a933(0x1d9)](_0x2f1588[_0x45a933(0x295)],_0x2f1588[_0x45a933(0x326)])){const _0x34189c={};if(_0x34189c[_0xc1989f]=_0x21d269,await _0xa3663a[_0x45a933(0x282)](_0x34189c))return await _0x268f1a[_0x45a933(0x1a1)]({'userId':_0x21d269},{'$set':{'canDelete':!0x1}}),_0x345099[_0x45a933(0x220)](_0x2f1588[_0x45a933(0x1ea)],{'class':_0x2f1588['lLyAp'],'text':'ยูสเซอร์\x20\x22'+_0x21d269+_0x45a933(0x1bc)+_0x1796ca+'{{sep}}ไม่สามารถลบได้'}),_0x379852[_0x45a933(0x287)](_0x2cfa12);}else{const _0x236459=_0x6943c[_0x45a933(0x31f)](_0x490414,arguments);return _0x3fa119=null,_0x236459;}}if(_0x2f1588[_0x45a933(0x2c1)]((await _0x268f1a[_0x45a933(0x245)]({'_id':new _0x383544(_0x542a07)}))[_0x45a933(0x359)],0x1)){if(_0x2f1588[_0x45a933(0x30e)](_0x2f1588[_0x45a933(0x30d)],_0x2f1588['bjyij'])){const _0x4e4cee=await _0x228b35[_0x45a933(0x1de)](global[_0x45a933(0x2e5)])['deleteMany']({'session.user_id':_0x542a07});if(_0x4e4cee[_0x45a933(0x2a0)]&&_0x2f1588[_0x45a933(0x1cb)](_0x4e4cee[_0x45a933(0x359)],0x0))var _0x162011='{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22'+_0x4e4cee[_0x45a933(0x359)]+_0x45a933(0x293);else var _0x162011=_0x2f1588[_0x45a933(0x32b)];_0x345099['flash'](_0x2f1588['Pxvap'],{'class':_0x2f1588[_0x45a933(0x2ae)],'text':'ลบยูสเซอร์\x20\x22'+_0x21d269+_0x45a933(0x373)+_0x162011});}else{const _0x445df3=_0x4e8d24?new _0x58e593(''+_0x3a9fd8,'i'):new _0x34058a('.*');let _0xf91450={};_0x2f1588[_0x45a933(0x29e)](_0x55ae35,_0x2f1588[_0x45a933(0x338)](_0x421d06,_0x2c0d46))?_0xf91450={'userId':{'$regex':_0x445df3}}:_0xf91450={'userId':_0x2f1588[_0x45a933(0x29e)](_0x32dfa1,_0xa8cbeb)},_0x178979[_0x45a933(0x262)]({'$match':{'$or':[_0xf91450,{'username':{'$regex':_0x445df3}},{'userFirstname':{'$regex':_0x445df3}}]}});}}else _0x345099[_0x45a933(0x220)](_0x2f1588[_0x45a933(0x1ea)],{'class':_0x2f1588['lLyAp'],'text':_0x45a933(0x311)+_0x21d269+_0x45a933(0x332)});return _0x379852[_0x45a933(0x287)](_0x2cfa12);}catch(_0x3d8398){return console[_0x45a933(0x2ac)](_0x2f1588['jozfb'],_0x3d8398),_0x345099[_0x45a933(0x220)](_0x2f1588['Pxvap'],{'class':_0x2f1588[_0x45a933(0x24f)],'text':_0x3d8398[_0x45a933(0x34e)]}),_0x379852[_0x45a933(0x287)](_0x2cfa12);}finally{_0x3cf86c[_0x45a933(0x1f5)]();}}),x[_0x331163(0x1df)](V,_0x421ccd[_0x331163(0x1ac)],async(_0x54ee44,_0x4666d5)=>{const _0x5b9dfc=_0x331163,_0x217ff9={'nhAPI':function(_0x2fa61b,_0x1eeb59){return _0x2fa61b==_0x1eeb59;},'plNBP':_0x5b9dfc(0x1b5),'XqHTx':_0x5b9dfc(0x337),'bhhuH':_0x5b9dfc(0x2ad),'xaQxQ':_0x5b9dfc(0x281),'iOeLO':_0x5b9dfc(0x2e2),'pNdFc':_0x5b9dfc(0x29a)},{_idArr:_0x11acd3}=_0x54ee44['body'],_0xf87397=new _0x5e1b35(dbUrl);try{await _0xf87397[_0x5b9dfc(0x330)]();const _0x1a8349=await _0xf87397['db'](dbName)[_0x5b9dfc(0x1de)](dbColl_users)[_0x5b9dfc(0x32c)]([{'$match':{'_id':{'$in':_0x11acd3[_0x5b9dfc(0x361)](_0x53d204=>new _0x383544(_0x53d204))}}},{'$project':{'branchInfo':0x0}}])[_0x5b9dfc(0x24e)]();if(_0x217ff9['nhAPI'](_0x1a8349[_0x5b9dfc(0x34a)],0x0))return _0x4666d5[_0x5b9dfc(0x2a9)](JSON[_0x5b9dfc(0x1f1)]({'isPrint':!0x1,'class':_0x217ff9[_0x5b9dfc(0x315)],'msg':_0x217ff9[_0x5b9dfc(0x227)]}));const _0x37b51d=_0x3e247a[_0x5b9dfc(0x229)](global[_0x5b9dfc(0x2c0)],_0x217ff9[_0x5b9dfc(0x2a2)]),_0x283e23=_0x569822[_0x5b9dfc(0x2f0)](_0x37b51d,_0x217ff9[_0x5b9dfc(0x215)]),_0x541142=_0x3048e1['render'](_0x283e23,{'time':S[_0x5b9dfc(0x1ec)](),'title':_0x5b9dfc(0x33d)+_0x1a8349[_0x5b9dfc(0x34a)]+')','dateTime':S[_0x5b9dfc(0x219)](),'usersFind':_0x1a8349});_0x4666d5[_0x5b9dfc(0x2a9)](JSON[_0x5b9dfc(0x1f1)]({'isPrint':!0x0,'class':_0x217ff9['iOeLO'],'msg':_0x5b9dfc(0x2b6)+_0x1a8349['length']+_0x5b9dfc(0x342),'htmlPage':_0x541142}));}catch(_0x5356fc){console[_0x5b9dfc(0x2ac)](_0x217ff9['pNdFc'],_0x5356fc[_0x5b9dfc(0x34e)]),_0x4666d5[_0x5b9dfc(0x2a9)](JSON[_0x5b9dfc(0x1f1)]({'isPrint':!0x1,'class':_0x217ff9[_0x5b9dfc(0x315)],'msg':_0x5356fc['message']}));}finally{_0xf87397[_0x5b9dfc(0x1f5)]();}}),x[_0x331163(0x1df)](X,_0x421ccd['isOA'],async(_0x4baa88,_0x210fad)=>{const _0x42c744=_0x331163,_0x34287c={'iKitQ':function(_0x5ef94b,_0x336266){return _0x5ef94b(_0x336266);},'VNLln':_0x42c744(0x1b5),'WnVtj':function(_0x2ee624,_0xf4f16c){return _0x2ee624<_0xf4f16c;},'SxRJl':'yellow','lJuTG':'ไม่พบประวัติการเปลี่ยนแปลง','ckQJO':_0x42c744(0x2da),'vHmLk':'green','BvseX':_0x42c744(0x29a)};let {userId:_0x4da540}=_0x4baa88[_0x42c744(0x37e)];_0x4da540=_0x34287c[_0x42c744(0x1e8)](Number,_0x4da540);const _0x3f1287=new _0x5e1b35(global[_0x42c744(0x1d5)]);try{await _0x3f1287[_0x42c744(0x330)]();var _0x417b34=await _0x3f1287['db'](global[_0x42c744(0x37d)])[_0x42c744(0x1de)](global[_0x42c744(0x343)])['findOne']({'userId':_0x4da540});if(!_0x417b34)return _0x210fad[_0x42c744(0x2a9)](JSON[_0x42c744(0x1f1)]({'isPrint':!0x1,'class':_0x34287c[_0x42c744(0x1a9)],'msg':_0x42c744(0x311)+_0x4da540+'\x22'}));const _0x2aa5e8=_0x417b34[_0x42c744(0x1bf)]||[];if(_0x34287c[_0x42c744(0x294)](_0x2aa5e8['length'],0x1))return _0x210fad[_0x42c744(0x2a9)](JSON['stringify']({'isPrint':!0x1,'class':_0x34287c[_0x42c744(0x268)],'msg':_0x34287c[_0x42c744(0x1c5)]}));const _0x4726b3=_0x3e247a['join'](folderForms,_0x34287c['ckQJO']),_0x32b80a=await U[_0x42c744(0x362)](_0x4726b3,_0x210fad,{'title':_0x42c744(0x1a2)+_0x417b34[_0x42c744(0x213)]+']\x20'+_0x417b34[_0x42c744(0x2d5)]+'\x20'+_0x417b34['userFirstname']+'\x20'+_0x417b34['userLastname'],'time':S[_0x42c744(0x219)](),'changesHistory':_0x2aa5e8});_0x210fad['send'](JSON[_0x42c744(0x1f1)]({'isPrint':!0x0,'class':_0x34287c[_0x42c744(0x333)],'htmlPage':_0x32b80a}));}catch(_0x15ef43){console[_0x42c744(0x2ac)](_0x34287c[_0x42c744(0x36f)],_0x15ef43),_0x210fad[_0x42c744(0x2a9)](JSON[_0x42c744(0x1f1)]({'isPrint':!0x1,'class':_0x34287c[_0x42c744(0x1a9)],'msg':_0x15ef43['message']}));}finally{_0x3f1287[_0x42c744(0x1f5)]();}});export default x;function _0x29432d(_0x5d66d0){const _0x1866e9=_0x331163,_0x56e477={'heRGv':function(_0x21ef47,_0x446c37){return _0x21ef47===_0x446c37;},'NOuRM':_0x1866e9(0x2ca),'rFPwk':_0x1866e9(0x1bb),'bWLmS':_0x1866e9(0x2f7),'MzrNj':function(_0x15c3bf,_0x52c001){return _0x15c3bf!==_0x52c001;},'hOqoQ':function(_0x3718c8,_0x34efac){return _0x3718c8+_0x34efac;},'PLutE':function(_0x454101,_0x21051e){return _0x454101/_0x21051e;},'mqvuG':_0x1866e9(0x34a),'UyCSM':function(_0x85fcc4,_0x509595){return _0x85fcc4%_0x509595;},'SmyHK':_0x1866e9(0x2a7),'fyXPz':'gger','dQbaI':_0x1866e9(0x2cd),'FyvJg':_0x1866e9(0x1b2),'RxbUM':function(_0x168181,_0x52d38e){return _0x168181(_0x52d38e);},'vHotY':function(_0x22a072,_0x3a5c70){return _0x22a072(_0x3a5c70);}};function _0x630cc8(_0x42f918){const _0x28a65f=_0x1866e9;if(_0x56e477[_0x28a65f(0x353)](typeof _0x42f918,_0x56e477[_0x28a65f(0x1ff)]))return function(_0x56ee61){}['constructor'](_0x56e477[_0x28a65f(0x20b)])[_0x28a65f(0x31f)](_0x56e477[_0x28a65f(0x2ea)]);else _0x56e477['MzrNj'](_0x56e477[_0x28a65f(0x292)]('',_0x56e477['PLutE'](_0x42f918,_0x42f918))[_0x56e477[_0x28a65f(0x1ae)]],0x1)||_0x56e477[_0x28a65f(0x353)](_0x56e477[_0x28a65f(0x2c3)](_0x42f918,0x14),0x0)?function(){return!![];}[_0x28a65f(0x1a3)](_0x56e477[_0x28a65f(0x292)](_0x56e477[_0x28a65f(0x2c8)],_0x56e477[_0x28a65f(0x296)]))[_0x28a65f(0x260)](_0x56e477['dQbaI']):function(){return![];}[_0x28a65f(0x1a3)](_0x56e477[_0x28a65f(0x292)](_0x56e477[_0x28a65f(0x2c8)],_0x56e477['fyXPz']))['apply'](_0x56e477[_0x28a65f(0x243)]);_0x56e477[_0x28a65f(0x23b)](_0x630cc8,++_0x42f918);}try{if(_0x5d66d0)return _0x630cc8;else _0x56e477[_0x1866e9(0x2b4)](_0x630cc8,0x0);}catch(_0x389eb8){}}