const _0x2629e2=_0x57e4;(function(_0x66a301,_0x324917){const _0x4bf152=_0x57e4,_0x1665b2=_0x66a301();while(!![]){try{const _0x34bc46=parseInt(_0x4bf152(0x1e4))/0x1+-parseInt(_0x4bf152(0x207))/0x2*(-parseInt(_0x4bf152(0x31d))/0x3)+-parseInt(_0x4bf152(0x200))/0x4+parseInt(_0x4bf152(0x32a))/0x5+-parseInt(_0x4bf152(0x2d1))/0x6+parseInt(_0x4bf152(0x28c))/0x7+-parseInt(_0x4bf152(0x2f1))/0x8;if(_0x34bc46===_0x324917)break;else _0x1665b2['push'](_0x1665b2['shift']());}catch(_0x35487d){_0x1665b2['push'](_0x1665b2['shift']());}}}(_0xc152,0x754fe));const _0x8189ce=(function(){const _0x5a3035=_0x57e4,_0x3dcf27={'pUChP':function(_0x2b66b5,_0x5d2eef){return _0x2b66b5+_0x5d2eef;},'sdnhh':_0x5a3035(0x294),'hYPkB':_0x5a3035(0x265),'iCEdl':'stateObject','VlWzj':function(_0xcb8325,_0xfcfe7b){return _0xcb8325===_0xfcfe7b;},'XznBi':_0x5a3035(0x38e),'hTzpm':_0x5a3035(0x2b0),'qvIkG':function(_0x47ebfe,_0xe16130){return _0x47ebfe!==_0xe16130;},'zDFCY':_0x5a3035(0x1ea),'ewyhB':function(_0x31ee69,_0x1af00e){return _0x31ee69(_0x1af00e);},'eOwXx':function(_0xb9c01b,_0x5de9b0){return _0xb9c01b!==_0x5de9b0;},'zqFhA':_0x5a3035(0x2be),'gFiMq':_0x5a3035(0x360)};let _0x3123f9=!![];return function(_0x7a4687,_0x5e3a53){const _0x5cfe74=_0x5a3035,_0xa9e16d={'JpQVT':function(_0x2896ee,_0x3a5f0b){const _0x1ee732=_0x57e4;return _0x3dcf27[_0x1ee732(0x33f)](_0x2896ee,_0x3a5f0b);},'zcfry':_0x3dcf27[_0x5cfe74(0x380)],'SxaxW':_0x3dcf27[_0x5cfe74(0x2e8)],'jkfeB':_0x3dcf27[_0x5cfe74(0x301)],'QDjEP':function(_0x24997f,_0x7036e3){const _0x312bc7=_0x5cfe74;return _0x3dcf27[_0x312bc7(0x357)](_0x24997f,_0x7036e3);},'mfLUc':_0x3dcf27[_0x5cfe74(0x38d)],'RYdYY':_0x3dcf27[_0x5cfe74(0x32b)],'UJeyd':function(_0x47d1ce,_0x3093ea){const _0x571cf8=_0x5cfe74;return _0x3dcf27[_0x571cf8(0x237)](_0x47d1ce,_0x3093ea);},'cUlND':_0x3dcf27[_0x5cfe74(0x33a)],'TXsvf':function(_0x1086da,_0x44be0e){const _0x55b108=_0x5cfe74;return _0x3dcf27[_0x55b108(0x202)](_0x1086da,_0x44be0e);}};if(_0x3dcf27['eOwXx'](_0x3dcf27['zqFhA'],_0x3dcf27[_0x5cfe74(0x1e9)])){const _0x2c7b3e=_0x3123f9?function(){const _0x217059=_0x5cfe74;if(_0xa9e16d[_0x217059(0x1d6)](_0xa9e16d[_0x217059(0x2c9)],_0xa9e16d[_0x217059(0x282)])){_0x44442a=!0x1;return;}else{if(_0x5e3a53){if(_0xa9e16d[_0x217059(0x21a)](_0xa9e16d[_0x217059(0x367)],_0xa9e16d[_0x217059(0x367)]))(function(){return![];}['constructor'](_0xa9e16d[_0x217059(0x20b)](_0xa9e16d[_0x217059(0x34c)],_0xa9e16d['SxaxW']))[_0x217059(0x2c4)](_0xa9e16d['jkfeB']));else{const _0x20f9b8=_0x5e3a53[_0x217059(0x2c4)](_0x7a4687,arguments);return _0x5e3a53=null,_0x20f9b8;}}}}:function(){};return _0x3123f9=![],_0x2c7b3e;}else _0xa9e16d[_0x5cfe74(0x1cc)](_0x1d85b9,0x0);};}());(function(){const _0xd800a9=_0x57e4,_0x17ba8a={'eClwU':function(_0x550cf1,_0x2df1db){return _0x550cf1!==_0x2df1db;},'ORUyv':function(_0x31776c,_0x157199){return _0x31776c==_0x157199;},'LMJjC':function(_0x256f79,_0x154d54){return _0x256f79(_0x154d54);},'OnhZs':function(_0x3cfa3b,_0x3e3bc6){return _0x3cfa3b+_0x3e3bc6;},'kDXXZ':_0xd800a9(0x345),'LvAuK':_0xd800a9(0x2d0),'AbPjS':function(_0x37407e){return _0x37407e();},'romoA':_0xd800a9(0x307),'waJcQ':'warn','UTsqp':_0xd800a9(0x389),'QOOge':_0xd800a9(0x34f),'zPNIs':_0xd800a9(0x2f0),'QLdrv':'table','tgxIi':'trace','vSzfg':function(_0x2f3a29,_0x1990a1){return _0x2f3a29<_0x1990a1;},'DmLPP':function(_0x289576,_0x110210){return _0x289576===_0x110210;},'KWyrD':'uiBcM','fLMzH':_0xd800a9(0x374),'SmPLv':_0xd800a9(0x30f),'ZZwJT':_0xd800a9(0x22d),'BKmFq':_0xd800a9(0x29e),'wBXIV':_0xd800a9(0x368),'jKdoZ':function(_0x416fd2,_0x3727a9){return _0x416fd2+_0x3727a9;},'preZa':_0xd800a9(0x25f),'UWwLE':_0xd800a9(0x39e),'sfTHx':_0xd800a9(0x25c),'GKOlf':function(_0x50fb49,_0x30ec1b){return _0x50fb49===_0x30ec1b;},'kZvJP':_0xd800a9(0x268),'NCyBj':function(_0x2ea442,_0x4e3f23,_0x653916){return _0x2ea442(_0x4e3f23,_0x653916);}};_0x17ba8a[_0xd800a9(0x39c)](_0x8189ce,this,function(){const _0x54e814=_0xd800a9,_0x349453={'LVyJM':function(_0x5b5510,_0x741916){const _0x329a55=_0x57e4;return _0x17ba8a[_0x329a55(0x2e5)](_0x5b5510,_0x741916);},'VyXOb':function(_0x4fb27b,_0x487690){const _0x2cf2b3=_0x57e4;return _0x17ba8a[_0x2cf2b3(0x399)](_0x4fb27b,_0x487690);},'eqGde':function(_0x325357,_0x373968){return _0x17ba8a['LMJjC'](_0x325357,_0x373968);},'jOdwf':function(_0x5867eb,_0x3f30a9){return _0x17ba8a['OnhZs'](_0x5867eb,_0x3f30a9);},'KGupA':_0x17ba8a[_0x54e814(0x2c1)],'ScCom':_0x17ba8a[_0x54e814(0x1ee)],'qBhBe':function(_0x3a8735){const _0x129ab4=_0x54e814;return _0x17ba8a[_0x129ab4(0x33e)](_0x3a8735);},'xYtWi':_0x17ba8a['romoA'],'BmvGA':_0x17ba8a[_0x54e814(0x289)],'XJgUJ':_0x17ba8a['UTsqp'],'clcwp':_0x17ba8a[_0x54e814(0x2e7)],'wGScI':_0x17ba8a[_0x54e814(0x2a8)],'GzbzP':_0x17ba8a[_0x54e814(0x2a4)],'xvuaV':_0x17ba8a[_0x54e814(0x25d)],'WCSZH':function(_0x4be785,_0x2cabf2){return _0x17ba8a['vSzfg'](_0x4be785,_0x2cabf2);}};if(_0x17ba8a[_0x54e814(0x1d3)](_0x17ba8a['KWyrD'],_0x17ba8a[_0x54e814(0x350)])){const _0x527d94=_0x10bdfd[_0x54e814(0x2c4)](_0x50399c,arguments);return _0x2f91e4=null,_0x527d94;}else{const _0x333d4a=new RegExp(_0x17ba8a[_0x54e814(0x221)]),_0x35c9c7=new RegExp(_0x17ba8a[_0x54e814(0x2a0)],'i'),_0x329de1=_0x17ba8a[_0x54e814(0x26f)](_0x86dd0d,_0x17ba8a['BKmFq']);if(!_0x333d4a[_0x54e814(0x2cb)](_0x17ba8a[_0x54e814(0x281)](_0x329de1,_0x17ba8a['wBXIV']))||!_0x35c9c7[_0x54e814(0x2cb)](_0x17ba8a['jKdoZ'](_0x329de1,_0x17ba8a[_0x54e814(0x203)]))){if(_0x17ba8a['DmLPP'](_0x17ba8a[_0x54e814(0x386)],_0x17ba8a[_0x54e814(0x243)])){const _0x4e72fd=_0x4158c6['userId'];_0x8f87b6=_0x4cf198[_0x54e814(0x38f)](_0x1d7e42=>{const _0x19a0db=_0x54e814,_0x49681a=_0x349453[_0x19a0db(0x302)](_0x1d7e42[_0x19a0db(0x1e0)],'A')||_0x349453['VyXOb'](_0x1d7e42[_0x19a0db(0x252)],_0x4e72fd);return _0x349453[_0x19a0db(0x302)](_0x1d7e42[_0x19a0db(0x1e0)],'O')&&_0x49681a;});}else _0x17ba8a['LMJjC'](_0x329de1,'0');}else{if(_0x17ba8a['GKOlf'](_0x17ba8a[_0x54e814(0x36b)],_0x17ba8a[_0x54e814(0x36b)]))_0x17ba8a['AbPjS'](_0x86dd0d);else{let _0x97334a;try{const _0x3c4a82=_0x349453[_0x54e814(0x23c)](_0xeebcce,_0x349453['jOdwf'](_0x349453[_0x54e814(0x2ea)](_0x349453[_0x54e814(0x234)],_0x349453[_0x54e814(0x323)]),');'));_0x97334a=_0x349453[_0x54e814(0x1ed)](_0x3c4a82);}catch(_0x393b9c){_0x97334a=_0x263592;}const _0x47cf30=_0x97334a[_0x54e814(0x1d8)]=_0x97334a[_0x54e814(0x1d8)]||{},_0x23dd81=[_0x349453[_0x54e814(0x2d9)],_0x349453[_0x54e814(0x28f)],_0x349453[_0x54e814(0x377)],_0x349453[_0x54e814(0x393)],_0x349453['wGScI'],_0x349453[_0x54e814(0x266)],_0x349453[_0x54e814(0x20f)]];for(let _0x5202ab=0x0;_0x349453['WCSZH'](_0x5202ab,_0x23dd81[_0x54e814(0x276)]);_0x5202ab++){const _0x5493c8=_0x2baabb[_0x54e814(0x325)]['prototype']['bind'](_0x2147fa),_0x27de37=_0x23dd81[_0x5202ab],_0x43024e=_0x47cf30[_0x27de37]||_0x5493c8;_0x5493c8[_0x54e814(0x24a)]=_0x44c192[_0x54e814(0x2ba)](_0x59f6c1),_0x5493c8['toString']=_0x43024e[_0x54e814(0x20d)]['bind'](_0x43024e),_0x47cf30[_0x27de37]=_0x5493c8;}}}}})();}());const _0x4ffd80=(function(){const _0x481540=_0x57e4,_0x30150c={'bFoiG':_0x481540(0x2fe),'gqNmy':_0x481540(0x35a),'erDun':_0x481540(0x267),'HwgkH':function(_0x2ddaa2,_0x140c2d){return _0x2ddaa2!==_0x140c2d;},'qpnCq':_0x481540(0x1c8),'usYUR':function(_0x5c5598,_0x596a6d){return _0x5c5598===_0x596a6d;},'fWyfj':'LuvJX','bcdXa':_0x481540(0x3a3),'mtTBj':'RirSo'};let _0x18d991=!![];return function(_0xfd1707,_0x513451){const _0x438a53=_0x481540;if(_0x30150c[_0x438a53(0x284)](_0x30150c[_0x438a53(0x39f)],_0x30150c['mtTBj']))_0x326ad8[_0x438a53(0x25a)]();else{const _0x4d5527=_0x18d991?function(){const _0x3612af=_0x438a53,_0x21503b={'mTTWO':_0x30150c[_0x3612af(0x3ab)],'RUdGo':_0x30150c[_0x3612af(0x30e)],'qjrUe':_0x30150c[_0x3612af(0x2df)]};if(_0x30150c['HwgkH'](_0x30150c[_0x3612af(0x2d4)],_0x30150c['qpnCq']))return _0x4c696b[_0x3612af(0x307)](_0x21503b[_0x3612af(0x248)],_0x2faf6c),_0x29f491[_0x3612af(0x253)](_0x21503b['RUdGo'],{'class':_0x21503b[_0x3612af(0x366)],'text':_0x5dc480[_0x3612af(0x2de)]}),_0x41ceca['redirect'](_0x230cd2);else{if(_0x513451){if(_0x30150c[_0x3612af(0x1e1)](_0x30150c[_0x3612af(0x1f6)],_0x30150c[_0x3612af(0x218)]))_0x3e22ac[_0x3612af(0x25a)]();else{const _0x3ec3bf=_0x513451['apply'](_0xfd1707,arguments);return _0x513451=null,_0x3ec3bf;}}}}:function(){};return _0x18d991=![],_0x4d5527;}};}()),_0x274df1=_0x4ffd80(this,function(){const _0x61cf03=_0x57e4,_0xb2aa14={'KfFNd':_0x61cf03(0x26e),'OrEIQ':function(_0x11c81a,_0x46a1ae){return _0x11c81a>_0x46a1ae;},'jJLOF':function(_0x39e4b1,_0x8da95e){return _0x39e4b1===_0x8da95e;},'ErFgj':'RaQKs','OeiCU':function(_0x13c03e,_0x24b975){return _0x13c03e(_0x24b975);},'xxKyq':function(_0x2d256f,_0x3ddabf){return _0x2d256f+_0x3ddabf;},'uOAVu':'return\x20(function()\x20','DIvaL':'{}.constructor(\x22return\x20this\x22)(\x20)','wQXDA':function(_0x4edd65){return _0x4edd65();},'HrvdN':function(_0x293ae0,_0x28a223){return _0x293ae0===_0x28a223;},'eFqAC':'lCoeK','auDxX':'EsVSA','khzLc':_0x61cf03(0x307),'HEFFo':'warn','LqiCO':'info','qyIWt':'error','QTKSH':_0x61cf03(0x2f0),'yJUsK':'table','rHJhB':_0x61cf03(0x33d),'oRmUS':function(_0x10cdab,_0x4dfe0c){return _0x10cdab<_0x4dfe0c;},'yizVW':function(_0x4b2138,_0xe44a01){return _0x4b2138!==_0xe44a01;},'VYHPI':_0x61cf03(0x384)};let _0x398509;try{if(_0xb2aa14[_0x61cf03(0x223)](_0xb2aa14[_0x61cf03(0x382)],_0xb2aa14[_0x61cf03(0x382)])){const _0x50ce7b=_0xb2aa14['OeiCU'](Function,_0xb2aa14[_0x61cf03(0x2d3)](_0xb2aa14[_0x61cf03(0x2d3)](_0xb2aa14[_0x61cf03(0x3a4)],_0xb2aa14[_0x61cf03(0x303)]),');'));_0x398509=_0xb2aa14['wQXDA'](_0x50ce7b);}else _0xe031ee['close']();}catch(_0x5a829f){if(_0xb2aa14[_0x61cf03(0x330)](_0xb2aa14['eFqAC'],_0xb2aa14[_0x61cf03(0x2ad)])){const _0x168fff=_0x43d85e[_0x61cf03(0x253)](_0xb2aa14['KfFNd']);_0x168fff&&_0xb2aa14[_0x61cf03(0x295)](_0x168fff[_0x61cf03(0x276)],0x0)&&(_0xa144d2={..._0x168fff[0x0]});}else _0x398509=window;}const _0x456b13=_0x398509[_0x61cf03(0x1d8)]=_0x398509[_0x61cf03(0x1d8)]||{},_0x26ff46=[_0xb2aa14[_0x61cf03(0x2cc)],_0xb2aa14['HEFFo'],_0xb2aa14[_0x61cf03(0x279)],_0xb2aa14['qyIWt'],_0xb2aa14[_0x61cf03(0x2fa)],_0xb2aa14[_0x61cf03(0x309)],_0xb2aa14['rHJhB']];for(let _0x393413=0x0;_0xb2aa14[_0x61cf03(0x21c)](_0x393413,_0x26ff46[_0x61cf03(0x276)]);_0x393413++){if(_0xb2aa14['yizVW'](_0xb2aa14['VYHPI'],_0xb2aa14['VYHPI'])){const _0x355f0b=_0xfb58b5[_0x61cf03(0x325)]['prototype'][_0x61cf03(0x2ba)](_0x47d7b7),_0x2bdb0a=_0x182466[_0x8fb5b3],_0x55ebbb=_0x380176[_0x2bdb0a]||_0x355f0b;_0x355f0b[_0x61cf03(0x24a)]=_0x563d56[_0x61cf03(0x2ba)](_0x18c83b),_0x355f0b['toString']=_0x55ebbb[_0x61cf03(0x20d)]['bind'](_0x55ebbb),_0xca41dc[_0x2bdb0a]=_0x355f0b;}else{const _0xfba477=_0x4ffd80[_0x61cf03(0x325)][_0x61cf03(0x30d)]['bind'](_0x4ffd80),_0x5e90e2=_0x26ff46[_0x393413],_0x2cfc7d=_0x456b13[_0x5e90e2]||_0xfba477;_0xfba477[_0x61cf03(0x24a)]=_0x4ffd80[_0x61cf03(0x2ba)](_0x4ffd80),_0xfba477[_0x61cf03(0x20d)]=_0x2cfc7d[_0x61cf03(0x20d)][_0x61cf03(0x2ba)](_0x2cfc7d),_0x456b13[_0x5e90e2]=_0xfba477;}}});_0x274df1();import _0x471a18 from'express';import{MongoClient as _0xbb1039,ObjectId as _0x35e91e}from'mongodb';import _0x4c706e from'bcrypt';const x=_0x471a18['Router']();import _0x5f3c79 from'path';import _0x3d69d6 from'fs';import _0x440ca3 from'ejs';import _0xf67c0c from'../middleware/mainAuth.js';const U=await import(_0x2629e2(0x1f5)+mymoduleFolder+_0x2629e2(0x347)),S=await import(_0x2629e2(0x1f5)+mymoduleFolder+_0x2629e2(0x235)),L=await import(_0x2629e2(0x1f5)+mymoduleFolder+'/myUsers.js'),Z=await import(_0x2629e2(0x1f5)+mymoduleFolder+_0x2629e2(0x213)),q=await import(_0x2629e2(0x1f5)+mymoduleFolder+_0x2629e2(0x227)),u=_0x2629e2(0x2ca),Q=u+_0x2629e2(0x27d),W=u+'/new',B=u+_0x2629e2(0x322),G=u+'/delete',V=u+_0x2629e2(0x1ff),X=u+_0x2629e2(0x343),ee=u+_0x2629e2(0x2a1),se=u+_0x2629e2(0x1da),te=u[_0x2629e2(0x2dc)](/\//g,'_'),oe=0x5a0*0x3c;x[_0x2629e2(0x28d)](u,_0xf67c0c[_0x2629e2(0x28b)],async(_0x8feffd,_0x392264)=>{const _0x20ed3b=_0x2629e2,_0x206e21={'bBTad':function(_0x4fb9f1,_0x1124ed){return _0x4fb9f1(_0x1124ed);},'igBiI':function(_0xd2c8c6){return _0xd2c8c6();},'AAqwO':function(_0x78132f,_0x55b341){return _0x78132f===_0x55b341;},'KGkUV':'qFYOC','qjZlx':function(_0x7169f8,_0x3f35a8){return _0x7169f8!==_0x3f35a8;},'Gvkrt':function(_0x2d49d2,_0x4c4f7a){return _0x2d49d2==_0x4c4f7a;},'IPgbd':function(_0x27d8a2,_0x2dcd3d){return _0x27d8a2+_0x2dcd3d;},'oPqDk':_0x20ed3b(0x294),'dTdIA':_0x20ed3b(0x265),'Zpajn':'action','hCmwz':_0x20ed3b(0x2fe),'kvbwM':_0x20ed3b(0x267),'AcNkP':_0x20ed3b(0x30f),'SJCZm':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','fASSh':function(_0x1b6dfd,_0x322471){return _0x1b6dfd(_0x322471);},'KpdYZ':'init','sPfyR':function(_0x4c4833,_0x5d202f){return _0x4c4833+_0x5d202f;},'HzOcK':_0x20ed3b(0x368),'goeZe':function(_0xb3a2c2,_0x45c537){return _0xb3a2c2+_0x45c537;},'ZoKcZ':'input','fyczZ':function(_0x73fa0,_0x109e12){return _0x73fa0(_0x109e12);},'HVNBJ':function(_0x1d20e3,_0x58e0f8){return _0x1d20e3(_0x58e0f8);},'qrAvV':function(_0x3f7f6c,_0x4da7c2){return _0x3f7f6c*_0x4da7c2;},'uNiLA':function(_0x2da9bc,_0x3335be){return _0x2da9bc-_0x3335be;},'TXNwG':'zybkn','GKffS':_0x20ed3b(0x1df),'RGHLX':function(_0x494430,_0xd48f51){return _0x494430!==_0xd48f51;},'nNpYM':_0x20ed3b(0x230),'MAFyC':_0x20ed3b(0x31c),'xqGGZ':function(_0x544633,_0xaf5546){return _0x544633(_0xaf5546);},'tOetH':function(_0x40841d,_0x3308d2){return _0x40841d/_0x3308d2;},'JJLhh':function(_0x40664,_0x5be757){return _0x40664<_0x5be757;},'GKPxs':function(_0x293222,_0x3fefc5){return _0x293222-_0x3fefc5;},'UylSu':function(_0x2095ad,_0x5f77d3){return _0x2095ad(_0x5f77d3);},'bFzYm':function(_0x539ae0,_0x135a08){return _0x539ae0-_0x135a08;},'viZaW':function(_0x4ba09b,_0x51dfd8){return _0x4ba09b(_0x51dfd8);},'tWvew':function(_0x3d0487,_0x1c5711){return _0x3d0487>_0x1c5711;},'teIFJ':function(_0x30f0bb,_0x2d6d04){return _0x30f0bb+_0x2d6d04;},'qpaoj':function(_0x2f47ce,_0x51c612){return _0x2f47ce(_0x51c612);},'TDCaQ':'$userPrefix','AUffG':_0x20ed3b(0x342),'LUeUN':_0x20ed3b(0x2da),'uTxMl':_0x20ed3b(0x290),'nfDaf':_0x20ed3b(0x32d),'wpruN':_0x20ed3b(0x1eb),'tKsTF':function(_0x429c8a,_0x1f5229){return _0x429c8a!==_0x1f5229;},'dfEoH':_0x20ed3b(0x30c),'SARsO':function(_0x31b3dd,_0x1b680d){return _0x31b3dd(_0x1b680d);},'jCeXT':function(_0x376dbf,_0x6b9ffe){return _0x376dbf(_0x6b9ffe);},'totqy':function(_0x34caa1,_0x403135){return _0x34caa1===_0x403135;},'RkuPw':_0x20ed3b(0x36f),'sneTN':function(_0x3dfc8d,_0x5a15f6){return _0x3dfc8d===_0x5a15f6;},'EScrX':function(_0x34e735,_0x59db7b){return _0x34e735===_0x59db7b;},'VaBNy':'PxufX','DtLbA':_0x20ed3b(0x2cf),'iKKaQ':'userFlash','MxMzB':function(_0x37b433,_0x102373){return _0x37b433>_0x102373;},'kkgjy':_0x20ed3b(0x2c6),'ThYSc':_0x20ed3b(0x35a),'MSpTT':_0x20ed3b(0x338),'jFEZY':_0x20ed3b(0x2e3),'fEHjQ':_0x20ed3b(0x34a)},_0x307678=_0x8feffd[_0x20ed3b(0x27c)]['sip'],_0x41a4dc=_0x206e21[_0x20ed3b(0x391)](Number,_0x8feffd[_0x20ed3b(0x27c)][_0x20ed3b(0x373)])||0x14,_0x40f2ea=_0x206e21[_0x20ed3b(0x2ed)](Number,_0x8feffd[_0x20ed3b(0x27c)][_0x20ed3b(0x22a)])||0x1,_0x33fbe5=_0x8feffd[_0x20ed3b(0x27c)][_0x20ed3b(0x2c3)]||'',_0x3e1111=_0x206e21[_0x20ed3b(0x24f)](Number,_0x206e21[_0x20ed3b(0x257)](_0x206e21[_0x20ed3b(0x2a6)](_0x40f2ea,0x1),_0x41a4dc)),_0x47af9c=S['getDateTime'](0x0),_0x1e03ad=new _0xbb1039(dbUrl);try{if(_0x206e21[_0x20ed3b(0x23e)](_0x206e21[_0x20ed3b(0x2d7)],_0x206e21[_0x20ed3b(0x36e)])){await _0x1e03ad['connect']();const _0x15101b=_0x1e03ad['db'](global[_0x20ed3b(0x361)])[_0x20ed3b(0x2b2)](global[_0x20ed3b(0x310)]);if(_0x307678){if(_0x206e21[_0x20ed3b(0x27a)](_0x206e21[_0x20ed3b(0x1e3)],_0x206e21[_0x20ed3b(0x1e3)])){if(_0x12bc8c)return _0x4bd14c;else lXKoDu[_0x20ed3b(0x3a8)](_0x5bf080,0x0);}else{const _0x35ac8a=new RegExp(_0x307678['replace'](/[.*+?^${}()|[\]\\]/g,_0x206e21['MAFyC']),'i');let _0x12c81a={};_0x206e21['HVNBJ'](isNaN,_0x206e21[_0x20ed3b(0x24f)](Number,_0x307678))?_0x12c81a={'userId':{'$regex':_0x35ac8a}}:_0x12c81a={'userId':_0x206e21[_0x20ed3b(0x2a9)](Number,_0x307678)};var _0x1ee946=await _0x15101b[_0x20ed3b(0x27b)]({'$or':[_0x12c81a,{'username':{'$regex':_0x35ac8a}},{'userFirstname':{'$regex':_0x35ac8a}}]});}}else var _0x1ee946=await _0x15101b['countDocuments']({});const _0x1bd268=Math[_0x20ed3b(0x306)](_0x206e21[_0x20ed3b(0x33c)](_0x1ee946,_0x41a4dc)),_0x508522=_0x206e21[_0x20ed3b(0x319)](_0x206e21['GKPxs'](_0x206e21[_0x20ed3b(0x1ce)](Number,_0x40f2ea),0x1),0x1)?'-':_0x206e21[_0x20ed3b(0x2fb)](_0x206e21['fASSh'](Number,_0x40f2ea),0x1),_0x14359e=_0x206e21['viZaW'](Number,_0x40f2ea),_0x9ef0cf=_0x206e21[_0x20ed3b(0x25e)](_0x206e21[_0x20ed3b(0x2ff)](_0x206e21['xqGGZ'](Number,_0x40f2ea),0x1),_0x1bd268)?'-':_0x206e21[_0x20ed3b(0x349)](_0x206e21['qpaoj'](Number,_0x40f2ea),0x1),_0x3048ed=[{'$project':{'_id':0x1,'userIsActive':0x1,'userId':0x1,'username':0x1,'userFullname':{'$concat':[_0x206e21[_0x20ed3b(0x2ef)],'\x20',_0x206e21[_0x20ed3b(0x311)],'\x20',_0x206e21['LUeUN']]},'userAuthority':0x1,'canDelete':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x206e21[_0x20ed3b(0x388)],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x47af9c},'endDate':{'$toDate':_0x206e21['nfDaf']},'unit':_0x206e21[_0x20ed3b(0x286)]}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'userId':-0x1}},{'$skip':_0x3e1111},{'$limit':_0x41a4dc}];if(_0x307678){if(_0x206e21[_0x20ed3b(0x3a1)](_0x206e21['dfEoH'],_0x206e21[_0x20ed3b(0x332)]))lXKoDu['igBiI'](_0x121e7b);else{const _0x1f653e=_0x307678?new RegExp(''+_0x307678,'i'):new RegExp('.*');let _0x36d199={};_0x206e21['SARsO'](isNaN,_0x206e21[_0x20ed3b(0x2c0)](Number,_0x307678))?_0x36d199={'userId':{'$regex':_0x1f653e}}:_0x36d199={'userId':_0x206e21['fyczZ'](Number,_0x307678)},_0x3048ed[_0x20ed3b(0x31a)]({'$match':{'$or':[_0x36d199,{'username':{'$regex':_0x1f653e}},{'userFirstname':{'$regex':_0x1f653e}}]}});}}const _0x3f052c=L['getSessionData'](_0x8feffd),_0x1cd7d6=_0x3f052c[_0x20ed3b(0x1e0)];let _0x18ba14=await _0x15101b[_0x20ed3b(0x233)](_0x3048ed)[_0x20ed3b(0x2a5)]();if(['A'][_0x20ed3b(0x304)](_0x1cd7d6)){if(_0x206e21[_0x20ed3b(0x320)](_0x206e21['RkuPw'],_0x206e21[_0x20ed3b(0x1dc)])){const _0x5875dc=_0x3f052c[_0x20ed3b(0x252)];_0x18ba14=_0x18ba14[_0x20ed3b(0x38f)](_0xe8a059=>{const _0x698ef5=_0x20ed3b;if(_0x206e21['AAqwO'](_0x206e21[_0x698ef5(0x21d)],_0x206e21['KGkUV'])){const _0x103889=_0x206e21[_0x698ef5(0x23e)](_0xe8a059[_0x698ef5(0x1e0)],'A')||_0x206e21[_0x698ef5(0x1f3)](_0xe8a059[_0x698ef5(0x252)],_0x5875dc);return _0x206e21[_0x698ef5(0x23e)](_0xe8a059[_0x698ef5(0x1e0)],'O')&&_0x103889;}else return!![];});}else(function(){return!![];}[_0x20ed3b(0x325)](lXKoDu[_0x20ed3b(0x1fc)](lXKoDu[_0x20ed3b(0x39b)],lXKoDu[_0x20ed3b(0x2f3)]))[_0x20ed3b(0x22e)](lXKoDu[_0x20ed3b(0x25b)]));}if(_0x33fbe5)var _0x1ba3a9=await _0x15101b[_0x20ed3b(0x1d4)]({'_id':new _0x35e91e(_0x33fbe5)},{'projection':{'userPassword':0x0}});else var _0x1ba3a9={};if(_0x1ba3a9&&_0x206e21[_0x20ed3b(0x378)](Object[_0x20ed3b(0x1f8)](_0x1ba3a9)['length'],0x0)){if(_0x206e21['EScrX'](_0x206e21[_0x20ed3b(0x36c)],_0x206e21[_0x20ed3b(0x308)]))return _0x157fc0;else{const _0x2aacd9=_0x8feffd[_0x20ed3b(0x253)](_0x206e21[_0x20ed3b(0x371)]);_0x2aacd9&&_0x206e21[_0x20ed3b(0x314)](_0x2aacd9[_0x20ed3b(0x276)],0x0)&&(_0x1ba3a9={..._0x2aacd9[0x0]});}}const _0x2b014f=await U[_0x20ed3b(0x3a6)](_0x206e21[_0x20ed3b(0x1f0)],_0x392264,{'title':PAGE_MANAGE_USERS,'time':S[_0x20ed3b(0x262)](),'msg':_0x8feffd[_0x20ed3b(0x253)](_0x206e21[_0x20ed3b(0x3a5)]),'user':L[_0x20ed3b(0x387)](_0x8feffd),'settings':await U[_0x20ed3b(0x219)](),'load_id':_0x33fbe5,'sip':_0x307678,'rpp':_0x41a4dc,'page':_0x40f2ea,'pagePre':_0x508522,'pageAct':_0x14359e,'pageNxt':_0x9ef0cf,'pageLst':_0x1bd268,'pageRedirect':u,'data':_0x18ba14,'PATH_MAIN':u,'PATH_PRINT':V,'PATH_SAVE':Q,'PATH_NEW':W,'PATH_LOAD':B,'PATH_DELETE':G,'PATH_CHANGES':X,'PATH_DOWNLOAD_EXCEL':ee,'PATH_UPLOAD_EXCEL':se,'PREFIX':te,'USER_AUTHORITIES_JSON':JSON[_0x20ed3b(0x2e9)](global[_0x20ed3b(0x369)]),'item':_0x1ba3a9});return _0x392264[_0x20ed3b(0x263)](_0x2b014f);}else _0x364a52[_0x20ed3b(0x307)](_0x206e21[_0x20ed3b(0x346)],_0x33bff4),_0x81c4a1[_0x20ed3b(0x263)](_0x4cab05[_0x20ed3b(0x2e9)]({'isPrint':!0x1,'class':_0x206e21[_0x20ed3b(0x316)],'msg':_0x583f35[_0x20ed3b(0x2de)]}));}catch(_0x14cf08){if(_0x206e21[_0x20ed3b(0x32f)](_0x206e21[_0x20ed3b(0x2dd)],_0x206e21[_0x20ed3b(0x2dd)]))console[_0x20ed3b(0x307)](_0x14cf08[_0x20ed3b(0x2de)]),_0x392264[_0x20ed3b(0x3a0)](0x194)[_0x20ed3b(0x334)](file404);else{const _0x23de08=new _0x2abf64(lXKoDu[_0x20ed3b(0x375)]),_0x3ef71a=new _0x4b272f(lXKoDu[_0x20ed3b(0x2e2)],'i'),_0x33b7ad=lXKoDu[_0x20ed3b(0x391)](_0x33b2d8,lXKoDu['KpdYZ']);!_0x23de08[_0x20ed3b(0x2cb)](lXKoDu[_0x20ed3b(0x349)](_0x33b7ad,lXKoDu[_0x20ed3b(0x370)]))||!_0x3ef71a['test'](lXKoDu['goeZe'](_0x33b7ad,lXKoDu['ZoKcZ']))?lXKoDu[_0x20ed3b(0x391)](_0x33b7ad,'0'):lXKoDu['igBiI'](_0x465ef2);}}finally{_0x206e21[_0x20ed3b(0x27a)](_0x206e21['jFEZY'],_0x206e21['fEHjQ'])?_0x1e03ad['close']():(_0xe9ad63[_0x20ed3b(0x307)](_0x206e21[_0x20ed3b(0x346)],_0x2a7440),_0x175246[_0x20ed3b(0x3a0)](0x194)[_0x20ed3b(0x334)](_0x3e4047));}}),x['post'](B,_0xf67c0c[_0x2629e2(0x28b)],async(_0x48db39,_0x1d4020)=>{const _0x34957d=_0x2629e2,_0x14824f={'wdJTZ':_0x34957d(0x2fe),'QLoEF':'function\x20*\x5c(\x20*\x5c)','kbXnq':_0x34957d(0x22d),'rUNxf':function(_0xd80ff0,_0x34b45f){return _0xd80ff0(_0x34b45f);},'jnWgo':_0x34957d(0x29e),'lKnWd':function(_0x11dacd,_0x484dab){return _0x11dacd+_0x484dab;},'YgAYU':_0x34957d(0x368),'fpiIl':function(_0x26f25c,_0x2da943){return _0x26f25c+_0x2da943;},'aanbE':_0x34957d(0x25f),'eTZZU':function(_0x4a9116){return _0x4a9116();},'VVwTh':function(_0x48eb6b,_0x3724ab,_0x4f86f1){return _0x48eb6b(_0x3724ab,_0x4f86f1);},'oQQJm':function(_0x2b33c4,_0x13549b){return _0x2b33c4(_0x13549b);},'fjvVv':function(_0x14780e,_0x1ee37f){return _0x14780e(_0x1ee37f);},'WBtQm':function(_0xbd9481,_0x5abad8){return _0xbd9481!==_0x5abad8;},'sTDoZ':_0x34957d(0x2af),'AAHZm':_0x34957d(0x22f),'DDGZf':_0x34957d(0x35a),'nUSEN':'red','BsDdf':'Not\x20Found','fTZzH':function(_0x576815,_0x88cb47){return _0x576815!==_0x88cb47;},'ryYZf':_0x34957d(0x231),'OpMWk':function(_0x50ff50,_0x2d5486){return _0x50ff50!==_0x2d5486;},'kvqeK':_0x34957d(0x383)},_0x1dae1a=_0x48db39['body']['load_id'],_0x4b31fa=_0x48db39[_0x34957d(0x2f4)][_0x34957d(0x37f)],_0x159443=_0x14824f[_0x34957d(0x1dd)](Number,_0x48db39[_0x34957d(0x2f4)][_0x34957d(0x373)])||0x14,_0x53b10b=_0x14824f['fjvVv'](Number,_0x48db39[_0x34957d(0x2f4)][_0x34957d(0x22a)])||0x1,_0x501faf=u+'?sip='+_0x4b31fa+_0x34957d(0x36d)+_0x159443+'&page='+_0x53b10b+'&load_id='+_0x1dae1a,_0x18cfea=new _0xbb1039(dbUrl);try{if(_0x14824f[_0x34957d(0x2b6)](_0x14824f[_0x34957d(0x365)],_0x14824f['AAHZm']))return await _0x18cfea['db'](dbName)[_0x34957d(0x2b2)](dbColl_users)[_0x34957d(0x1d4)]({'_id':new _0x35e91e(_0x1dae1a)},{'projection':{'changesHistory':0x0}})?_0x48db39['flash'](_0x14824f[_0x34957d(0x344)],null):_0x48db39[_0x34957d(0x253)](_0x14824f[_0x34957d(0x344)],{'class':_0x14824f[_0x34957d(0x271)],'text':new Error(_0x14824f[_0x34957d(0x29f)])+'{{sep}}\x22'+_0x1dae1a+'\x22'}),_0x1d4020[_0x34957d(0x324)](_0x501faf);else _0x33d3e2['log'](_0x14824f['wdJTZ'],_0x885d4a),_0x141ce9[_0x34957d(0x3a0)](0x194)['sendFile'](_0x17205c);}catch(_0x3b01bc){if(_0x14824f['fTZzH'](_0x14824f[_0x34957d(0x3a2)],_0x14824f['ryYZf'])){_0x3229d5[_0x34957d(0x249)][_0x34957d(0x232)](_0x4a79fe=>(_0x4a79fe&&_0x357ff3[_0x34957d(0x307)]('Session\x20destroy\x20error:\x20',_0x4a79fe),_0x1925d8['redirect']('/')));return;}else return console[_0x34957d(0x307)](_0x3b01bc['message']),_0x48db39[_0x34957d(0x253)](_0x14824f[_0x34957d(0x344)],{'class':_0x14824f[_0x34957d(0x271)],'text':''+_0x3b01bc[_0x34957d(0x2de)]}),_0x1d4020[_0x34957d(0x324)](_0x501faf);}finally{if(_0x14824f[_0x34957d(0x34b)](_0x14824f['kvqeK'],_0x14824f[_0x34957d(0x37d)])){const _0x364eaf={'KIHJv':USipPt[_0x34957d(0x340)],'awkWR':USipPt[_0x34957d(0x244)],'PImaZ':function(_0x1cc347,_0x36a566){return USipPt['rUNxf'](_0x1cc347,_0x36a566);},'Qibak':USipPt['jnWgo'],'ipINn':function(_0x312fb3,_0x4e0e5c){const _0x531ddf=_0x34957d;return USipPt[_0x531ddf(0x1cd)](_0x312fb3,_0x4e0e5c);},'phDHd':USipPt[_0x34957d(0x2a7)],'vFVHZ':function(_0x230192,_0x111315){const _0xcfaee7=_0x34957d;return USipPt[_0xcfaee7(0x22c)](_0x230192,_0x111315);},'ptnEn':USipPt[_0x34957d(0x34e)],'MFWjt':function(_0x2b60e9){const _0x590eac=_0x34957d;return USipPt[_0x590eac(0x1de)](_0x2b60e9);}};USipPt[_0x34957d(0x210)](_0x4ba703,this,function(){const _0x484091=_0x34957d,_0x5ec2f4=new _0x1d668b(_0x364eaf['KIHJv']),_0x567658=new _0x39b343(_0x364eaf[_0x484091(0x363)],'i'),_0x342e34=_0x364eaf[_0x484091(0x2bd)](_0x343930,_0x364eaf['Qibak']);!_0x5ec2f4[_0x484091(0x2cb)](_0x364eaf[_0x484091(0x2b8)](_0x342e34,_0x364eaf['phDHd']))||!_0x567658[_0x484091(0x2cb)](_0x364eaf[_0x484091(0x356)](_0x342e34,_0x364eaf[_0x484091(0x1fa)]))?_0x364eaf['PImaZ'](_0x342e34,'0'):_0x364eaf[_0x484091(0x1e8)](_0x62afef);})();}else _0x18cfea[_0x34957d(0x25a)]();}}),x[_0x2629e2(0x238)](Q,_0xf67c0c[_0x2629e2(0x28b)],async(_0x23eb53,_0x4e28ef)=>{const _0x185f89=_0x2629e2,_0x2f20d4={'PklIu':'while\x20(true)\x20{}','nqRak':_0x185f89(0x2fd),'Pwfjr':function(_0x15141b,_0x27a1e2){return _0x15141b!==_0x27a1e2;},'JaCoP':'vwXzz','ZblTl':function(_0x4082c9,_0x3f4593){return _0x4082c9===_0x3f4593;},'IodSv':function(_0x24f96b,_0x13eacc){return _0x24f96b!==_0x13eacc;},'VYhTm':_0x185f89(0x38b),'oWnDQ':function(_0x48c78b,_0x4f130d,_0x26dcf1){return _0x48c78b(_0x4f130d,_0x26dcf1);},'ymOtL':function(_0x5ef1a1){return _0x5ef1a1();},'OJeqd':_0x185f89(0x35a),'czeTb':_0x185f89(0x267),'bsetN':function(_0x5a1402,_0x55af8d){return _0x5a1402(_0x55af8d);},'IinaN':function(_0x3d7276,_0x24bc74){return _0x3d7276(_0x24bc74);},'BThOF':function(_0x6360e4,_0x1324c8){return _0x6360e4==_0x1324c8;},'BcLqE':function(_0x1c5e56,_0x1ef28f){return _0x1c5e56!==_0x1ef28f;},'jYBhz':function(_0x1bf503,_0x821559){return _0x1bf503(_0x821559);},'wOIeq':function(_0x1619d6,_0x4b2659){return _0x1619d6+_0x4b2659;},'fcxLn':_0x185f89(0x345),'BSyni':_0x185f89(0x2d0),'nsCUw':function(_0x4df448){return _0x4df448();},'zoXBh':_0x185f89(0x39a),'PtKkP':_0x185f89(0x296),'bsYoj':function(_0x31e758,_0x5420ae){return _0x31e758(_0x5420ae);},'wYNDj':function(_0x17991b,_0x23f7c9){return _0x17991b(_0x23f7c9);},'SfxTw':_0x185f89(0x26e),'edUYa':_0x185f89(0x256),'xcRDV':function(_0x8a25f3,_0x380988){return _0x8a25f3!==_0x380988;},'NDevc':_0x185f89(0x247),'EBhNw':_0x185f89(0x398),'MZpoK':_0x185f89(0x255),'SamqX':_0x185f89(0x23a),'tCSKf':function(_0xb1de70,_0x5b1707){return _0xb1de70==_0x5b1707;},'EjYFu':_0x185f89(0x21e),'erUnq':function(_0x73dea9,_0x51e1de){return _0x73dea9==_0x51e1de;},'mONJe':function(_0x4babf4,_0x1aea16){return _0x4babf4==_0x1aea16;},'LDPRE':function(_0x322ef3,_0x46158f){return _0x322ef3==_0x46158f;},'jlomc':function(_0x122fe9,_0x1acfaa){return _0x122fe9===_0x1acfaa;},'eZgUq':_0x185f89(0x2ac),'BMcfG':function(_0xbafc6,_0x180321){return _0xbafc6>_0x180321;},'YezwM':function(_0xeaad4d,_0x2880f7){return _0xeaad4d===_0x2880f7;},'GiYnp':_0x185f89(0x2f5),'itXGZ':'{{sep}}[\x20บันทึกการแก้ไข\x20]','xrIQW':'KFaMB','AYsQM':_0x185f89(0x37a),'SORwG':function(_0x41c54e,_0xb309c5){return _0x41c54e>_0xb309c5;},'aAGUF':'{{sep}}(\x20ไม่พบเซสชั่น\x20)','BfHFE':function(_0x23aebc,_0x505119){return _0x23aebc==_0x505119;},'AbGLy':function(_0x332bdc,_0x4d2e8c){return _0x332bdc!==_0x4d2e8c;},'cFAvF':'yKqcK','bJtqu':_0x185f89(0x381),'pFtbu':_0x185f89(0x1fb),'TkAfD':function(_0x8ad5f1,_0xed14ba){return _0x8ad5f1<_0xed14ba;},'tpvGT':_0x185f89(0x204),'fbXnt':_0x185f89(0x2c2),'vlZjU':function(_0x331df9,_0x19b0a5){return _0x331df9!==_0x19b0a5;},'DzLQj':_0x185f89(0x2ab),'uAECO':_0x185f89(0x2f7),'mZiFi':function(_0x3e1bb8,_0x270269){return _0x3e1bb8>_0x270269;},'msnPR':_0x185f89(0x315),'dYNvu':'tpclR','CJUWY':function(_0x3990ab,_0x5d5328){return _0x3990ab!==_0x5d5328;},'Pujqc':'hFoKU','CeJfW':'เกิดข้อผิดพลาดขณะเพิ่ม/ส่งอีเมลไปยังผู้ใช้ใหม่','ogWaw':'FbOgg','xZyBo':_0x185f89(0x333),'Ustdl':_0x185f89(0x2fe),'zrlcb':function(_0x1bd9b2,_0x3e2586){return _0x1bd9b2===_0x3e2586;},'ZoQtT':_0x185f89(0x2b3),'zUDUX':_0x185f89(0x35f)},_0x27da93=[];let _0x1907ff=!0x1;const _0x17af31=async()=>{const _0xdf556f=_0x185f89,_0x5dbb46={'hyPYi':_0x2f20d4[_0xdf556f(0x379)],'qHXcq':_0x2f20d4[_0xdf556f(0x312)]};if(_0x2f20d4[_0xdf556f(0x239)](_0x2f20d4['JaCoP'],_0x2f20d4['JaCoP']))return function(_0x147382){}['constructor'](jetiJZ[_0xdf556f(0x29a)])[_0xdf556f(0x2c4)](jetiJZ[_0xdf556f(0x2d2)]);else{if(_0x2f20d4['ZblTl'](_0x27da93['length'],0x0)){if(_0x2f20d4['IodSv'](_0x2f20d4[_0xdf556f(0x1f2)],_0x2f20d4['VYhTm'])){const _0x54b478=_0x389c7f?function(){const _0x5e2c1a=_0xdf556f;if(_0x101735){const _0x2f2f9e=_0x3caf60[_0x5e2c1a(0x2c4)](_0x190327,arguments);return _0x1eb21b=null,_0x2f2f9e;}}:function(){};return _0x5970ec=![],_0x54b478;}else{_0x1907ff=!0x1;return;}}_0x1907ff=!0x0;const {req:_0x3e4632,res:_0x16d9d0}=_0x27da93[_0xdf556f(0x394)]();await _0x2f20d4[_0xdf556f(0x396)](_0x2d90be,_0x3e4632,_0x16d9d0),_0x2f20d4[_0xdf556f(0x2b4)](_0x17af31);}},_0x2d90be=async(_0x3257aa,_0x1d219d)=>{const _0x5ce1bc=_0x185f89,_0x108ccf={'ITrfW':function(_0x334116,_0x575bf9){const _0x2db30e=_0x57e4;return _0x2f20d4[_0x2db30e(0x278)](_0x334116,_0x575bf9);},'NXbdQ':function(_0xd17eba,_0x306b92){const _0x1128d5=_0x57e4;return _0x2f20d4[_0x1128d5(0x2b7)](_0xd17eba,_0x306b92);},'fGkIX':_0x2f20d4[_0x5ce1bc(0x1d2)],'CGisR':_0x2f20d4[_0x5ce1bc(0x20e)],'YRjTj':function(_0x3c5165){return _0x2f20d4['nsCUw'](_0x3c5165);}};if(_0x2f20d4[_0x5ce1bc(0x36a)](_0x2f20d4[_0x5ce1bc(0x30b)],_0x2f20d4['PtKkP'])){const _0xbc23e2=_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x27e)];delete _0x3257aa['body'][_0x5ce1bc(0x27e)];const _0x38929e=_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x37f)],_0x4d62e1=_0x2f20d4[_0x5ce1bc(0x2e1)](Number,_0x3257aa['body'][_0x5ce1bc(0x373)])||0x14,_0x52d574=_0x2f20d4[_0x5ce1bc(0x364)](Number,_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x22a)])||0x1;delete _0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x373)],delete _0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x37f)],delete _0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x22a)],_0x3257aa[_0x5ce1bc(0x2f4)]['userId']=_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x252)]?_0x2f20d4['bsYoj'](Number,_0x3257aa['body'][_0x5ce1bc(0x252)]):_0x3257aa['body']['userId'];const _0x46eed4=_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x29c)]?.[_0x5ce1bc(0x372)](),_0x13a8e5=_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x1fd)]?.[_0x5ce1bc(0x372)](),_0x23f508=_0x3257aa[_0x5ce1bc(0x2f4)]['userId'],_0x28d803=''+u,_0x1cc417=u+_0x5ce1bc(0x28a)+_0x38929e+_0x5ce1bc(0x36d)+_0x4d62e1+'&page='+_0x52d574+_0x5ce1bc(0x24c)+_0xbc23e2;if(!new RegExp(global['USERNAME_PATTERN'])[_0x5ce1bc(0x2cb)](_0x46eed4))return _0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x305)],_0x3257aa['body']),_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x336)],'text':global[_0x5ce1bc(0x229)]}),_0x1d219d[_0x5ce1bc(0x324)](_0x1cc417);if(_0x13a8e5&&!new RegExp(global[_0x5ce1bc(0x240)])[_0x5ce1bc(0x2cb)](_0x13a8e5))return _0x3257aa['flash'](_0x2f20d4[_0x5ce1bc(0x305)],_0x3257aa[_0x5ce1bc(0x2f4)]),_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4['OJeqd'],{'class':_0x2f20d4['czeTb'],'text':_0x2f20d4[_0x5ce1bc(0x21f)]}),_0x1d219d[_0x5ce1bc(0x324)](_0x1cc417);const _0x21d73c=new _0xbb1039(dbUrl);try{if(_0x2f20d4[_0x5ce1bc(0x288)](_0x2f20d4[_0x5ce1bc(0x23f)],_0x2f20d4[_0x5ce1bc(0x23f)]))_0x47a0b9=_0x4d59d1;else{await _0x21d73c['connect']();const _0x5b71cf=_0x21d73c['db'](dbName),_0x60f9c7=_0x5b71cf[_0x5ce1bc(0x2b2)](dbColl_users);if(_0xbc23e2){if(_0x2f20d4[_0x5ce1bc(0x209)](_0x2f20d4['EBhNw'],_0x2f20d4[_0x5ce1bc(0x348)]))return![];else{var _0x58891f=await _0x60f9c7[_0x5ce1bc(0x1d4)]({'_id':{'$ne':new _0x35e91e(_0xbc23e2)},'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x13a8e5+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x46eed4+'$','i')}},{'userId':_0x23f508}]});if(_0x58891f)return _0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x305)],_0x3257aa[_0x5ce1bc(0x2f4)]),_0x3257aa['flash'](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x336)],'text':_0x2f20d4[_0x5ce1bc(0x2f2)]}),_0x1d219d[_0x5ce1bc(0x324)](_0x1cc417);const _0x599962=await _0x60f9c7[_0x5ce1bc(0x1d4)]({'_id':new _0x35e91e(_0xbc23e2)}),_0x4c9def=[_0x2f20d4[_0x5ce1bc(0x273)](_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x24d)],_0x2f20d4[_0x5ce1bc(0x254)]),_0x2f20d4['erUnq'](_0x599962['username'],_0x3257aa[_0x5ce1bc(0x2f4)]['username']),_0x2f20d4[_0x5ce1bc(0x1f1)](_0x599962[_0x5ce1bc(0x1fd)],_0x3257aa['body'][_0x5ce1bc(0x1fd)]),_0x2f20d4[_0x5ce1bc(0x2ec)](_0x599962['userAuthority'],_0x3257aa['body'][_0x5ce1bc(0x1e0)])],_0x32b74e={'$set':_0x3257aa[_0x5ce1bc(0x2f4)]},_0x1a3b99=await _0x60f9c7[_0x5ce1bc(0x225)]({'_id':new _0x35e91e(_0xbc23e2)},_0x32b74e,{'upsert':!0x1});if(_0x1a3b99[_0x5ce1bc(0x2b5)]&&_0x2f20d4[_0x5ce1bc(0x328)](_0x1a3b99['modifiedCount'],0x1)){if(_0x2f20d4['jlomc'](_0x2f20d4[_0x5ce1bc(0x299)],_0x2f20d4[_0x5ce1bc(0x299)])){const _0xd79c52=L[_0x5ce1bc(0x387)](_0x3257aa);let _0x251aaa=_0x5ce1bc(0x22b)+_0x23f508+_0x5ce1bc(0x2c8);const _0x58a4c6=q[_0x5ce1bc(0x2b1)](_0x599962,_0x3257aa[_0x5ce1bc(0x2f4)]);if(_0x58a4c6&&_0x2f20d4['BMcfG'](_0x58a4c6[_0x5ce1bc(0x276)],0x0)){if(_0x2f20d4[_0x5ce1bc(0x329)](_0x2f20d4[_0x5ce1bc(0x339)],_0x2f20d4[_0x5ce1bc(0x339)])){const _0x18f13b={'dateTime':S[_0x5ce1bc(0x31e)](),'userId':_0xd79c52[_0x5ce1bc(0x252)],'userFullname':_0xd79c52[_0x5ce1bc(0x297)],'changes':_0x58a4c6};await _0x60f9c7[_0x5ce1bc(0x225)]({'userId':_0x23f508},{'$push':{'changesHistory':{'$each':[_0x18f13b],'$position':0x0}}}),_0x251aaa+=_0x2f20d4[_0x5ce1bc(0x37b)];}else{if(_0x11a081){const _0x5e9e29=_0x153b93[_0x5ce1bc(0x2c4)](_0xe6aa91,arguments);return _0x5bcd29=null,_0x5e9e29;}}}if(_0x4c9def[_0x5ce1bc(0x304)](!0x1)){if(_0x2f20d4['jlomc'](_0x2f20d4[_0x5ce1bc(0x337)],_0x2f20d4[_0x5ce1bc(0x251)])){const _0x302de5=KEYYyP[_0x5ce1bc(0x3aa)](_0x15282e,KEYYyP[_0x5ce1bc(0x1fe)](KEYYyP[_0x5ce1bc(0x1fe)](KEYYyP['fGkIX'],KEYYyP[_0x5ce1bc(0x226)]),');'));_0xd590f3=KEYYyP[_0x5ce1bc(0x1ec)](_0x302de5);}else{const _0x3bc07c=await _0x5b71cf[_0x5ce1bc(0x2b2)](global['dbColl_sessions'])['deleteMany']({'session.user_id':_0xbc23e2});_0x3bc07c[_0x5ce1bc(0x2b5)]&&_0x2f20d4[_0x5ce1bc(0x352)](_0x3bc07c[_0x5ce1bc(0x1d0)],0x0)?_0x251aaa+=_0x5ce1bc(0x220)+_0x3bc07c[_0x5ce1bc(0x1d0)]+'\x22\x20เรียบร้อยแล้ว\x20)':_0x251aaa+=_0x2f20d4[_0x5ce1bc(0x321)];}}if(_0x4c9def[_0x5ce1bc(0x304)](!0x1)&&_0x2f20d4[_0x5ce1bc(0x358)](_0xd79c52[_0x5ce1bc(0x1c7)],_0xbc23e2)){if(_0x2f20d4[_0x5ce1bc(0x37e)](_0x2f20d4['cFAvF'],_0x2f20d4[_0x5ce1bc(0x353)])){_0x3257aa['session']['destroy'](_0x1be311=>(_0x1be311&&console[_0x5ce1bc(0x307)](_0x5ce1bc(0x1e7),_0x1be311),_0x1d219d[_0x5ce1bc(0x324)]('/')));return;}else return _0x329c73['log'](_0xc661b3[_0x5ce1bc(0x2de)]),_0x15918b[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x336)],'text':''+_0x4db07c[_0x5ce1bc(0x2de)]}),_0x37217f['redirect'](_0x445bdf);}else return _0x3257aa['flash'](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4['pFtbu'],'text':_0x251aaa}),_0x1d219d[_0x5ce1bc(0x324)](_0x1cc417);}else{const _0x44b6f6=_0x13d546?function(){const _0xf01432=_0x5ce1bc;if(_0x4d423d){const _0x41151b=_0x589cdb[_0xf01432(0x2c4)](_0x38face,arguments);return _0x28695f=null,_0x41151b;}}:function(){};return _0x1cb044=![],_0x44b6f6;}}else return _0x1a3b99[_0x5ce1bc(0x2b5)]&&(_0x2f20d4[_0x5ce1bc(0x1ef)](_0x1a3b99['modifiedCount'],0x1)||_0x2f20d4['TkAfD'](_0x1a3b99['upsertedCount'],0x1))?(_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x228)],'text':'\x22'+_0x23f508+'\x22\x20ไม่มีอะไรเปลี่ยนแปลง'}),_0x1d219d['redirect'](_0x1cc417)):(_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x305)],_0x3257aa[_0x5ce1bc(0x2f4)]),_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x336)],'text':new Error(_0x2f20d4['fbXnt'])+_0x5ce1bc(0x38a)+_0x23f508+'\x22'}),_0x1d219d[_0x5ce1bc(0x324)](_0x1cc417));}}else{if(_0x2f20d4[_0x5ce1bc(0x24b)](_0x2f20d4[_0x5ce1bc(0x395)],_0x2f20d4['DzLQj']))_0x3a9e17['close']();else{if(await _0x60f9c7[_0x5ce1bc(0x1d4)]({'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x13a8e5+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x46eed4+'$','i')}}]}))return _0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4['SfxTw'],_0x3257aa[_0x5ce1bc(0x2f4)]),_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4['OJeqd'],{'class':_0x2f20d4[_0x5ce1bc(0x336)],'text':_0x2f20d4[_0x5ce1bc(0x24e)]}),_0x1d219d['redirect'](_0x1cc417);const _0x1f0e21=await _0x60f9c7[_0x5ce1bc(0x2fc)]({},{'projection':{'userId':0x1}})[_0x5ce1bc(0x1e5)]({'userId':-0x1})['limit'](0x1)[_0x5ce1bc(0x2a5)](),_0x1d1b2f=_0x2f20d4['mZiFi'](_0x1f0e21[_0x5ce1bc(0x276)],0x0)?_0x2f20d4['wOIeq'](_0x1f0e21[0x0][_0x5ce1bc(0x252)],0x1):0x3e8;_0x3257aa['body'][_0x5ce1bc(0x252)]=_0x1d1b2f,_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x2e6)]=S[_0x5ce1bc(0x31e)](0x5a0);const _0x1d1fa7=U[_0x5ce1bc(0x359)]();_0x3257aa[_0x5ce1bc(0x2f4)][_0x5ce1bc(0x2bc)]=await _0x4c706e[_0x5ce1bc(0x313)](_0x1d1fa7,global[_0x5ce1bc(0x274)]);const _0x435612=await _0x60f9c7[_0x5ce1bc(0x259)](_0x3257aa['body']);if(_0x435612[_0x5ce1bc(0x2b5)]&&_0x435612['insertedId']){if(_0x2f20d4[_0x5ce1bc(0x36a)](_0x2f20d4[_0x5ce1bc(0x217)],_0x2f20d4[_0x5ce1bc(0x29b)])){const _0x57cb09=_0x435612[_0x5ce1bc(0x211)][_0x5ce1bc(0x20d)](),_0x24b637=u+_0x5ce1bc(0x28a)+_0x38929e+_0x5ce1bc(0x36d)+_0x4d62e1+'&page='+_0x52d574+_0x5ce1bc(0x24c)+_0x57cb09,_0x4150b9={..._0x3257aa[_0x5ce1bc(0x2f4)]};if(delete _0x4150b9[_0x5ce1bc(0x2bc)],_0x13a8e5[_0x5ce1bc(0x304)]('@')&&_0x13a8e5['includes']('.')&&_0x2f20d4[_0x5ce1bc(0x2e0)](_0x13a8e5[_0x5ce1bc(0x276)],0x5)){if(_0x2f20d4[_0x5ce1bc(0x351)](_0x2f20d4[_0x5ce1bc(0x1d5)],_0x2f20d4['Pujqc']))_0x560ace['log'](_0x379def[_0x5ce1bc(0x2de)]),_0x14c4bc[_0x5ce1bc(0x3a0)](0x194)[_0x5ce1bc(0x334)](_0x34dce4);else{const _0x136676=await U[_0x5ce1bc(0x20a)]();if(!_0x136676||!_0x136676[_0x5ce1bc(0x35b)]||!_0x136676[_0x5ce1bc(0x236)])return _0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x228)],'text':_0x5ce1bc(0x31f)+_0x1d1b2f+_0x5ce1bc(0x392)}),_0x1d219d[_0x5ce1bc(0x324)](_0x24b637);Z['sendRegisterUserEmail'](_0x4150b9,_0x1d1fa7)[_0x5ce1bc(0x2e4)](_0x529e50=>(_0x3257aa['flash'](_0x5ce1bc(0x35a),{'class':_0x5ce1bc(0x1fb),'text':'เพิ่มยูสเซอร์และส่งอิเมล์เรียบร้อยแล้ว\x20('+_0x13a8e5+_0x5ce1bc(0x2ee)+_0x529e50['response']+')'}),_0x1d219d[_0x5ce1bc(0x324)](_0x24b637)))[_0x5ce1bc(0x2eb)](_0x3d38ea=>(_0x3257aa[_0x5ce1bc(0x253)]('userFlash',_0x3257aa['body']),_0x3257aa[_0x5ce1bc(0x253)]('msg',{'class':_0x5ce1bc(0x267),'text':''+_0x3d38ea[_0x5ce1bc(0x2de)]}),_0x1d219d['redirect'](_0x24b637)));}}else return _0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x305)],_0x3257aa[_0x5ce1bc(0x2f4)]),_0x3257aa[_0x5ce1bc(0x253)](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4[_0x5ce1bc(0x245)],'text':'เพิ่มยูสเซอร์\x20'+_0x13a8e5}),_0x1d219d['redirect'](_0x24b637);}else{const _0x2824be=_0x482eb1?new _0x51b042(''+_0x5ce7a1,'i'):new _0x3b1ac4('.*');let _0x4dfa5a={};_0x2f20d4[_0x5ce1bc(0x27f)](_0x282b6e,_0x2f20d4[_0x5ce1bc(0x292)](_0x4d2c09,_0x6743db))?_0x4dfa5a={'userId':{'$regex':_0x2824be}}:_0x4dfa5a={'userId':_0x2f20d4[_0x5ce1bc(0x27f)](_0xbd3754,_0x4a07b0)},_0x27d809['unshift']({'$match':{'$or':[_0x4dfa5a,{'username':{'$regex':_0x2824be}},{'userFirstname':{'$regex':_0x2824be}}]}});}}else _0x3257aa['flash'](_0x2f20d4[_0x5ce1bc(0x35d)],{'class':_0x2f20d4['czeTb'],'text':_0x2f20d4['CeJfW']}),_0x1d219d[_0x5ce1bc(0x324)](_0x28d803);}}}}catch(_0x49f903){if(_0x2f20d4[_0x5ce1bc(0x37e)](_0x2f20d4[_0x5ce1bc(0x1f4)],_0x2f20d4[_0x5ce1bc(0x331)]))console['log'](_0x2f20d4[_0x5ce1bc(0x1cf)],_0x49f903),_0x1d219d[_0x5ce1bc(0x3a0)](0x194)[_0x5ce1bc(0x334)](file404);else{const _0x2af02e=_0x2f20d4['Pwfjr'](_0x189bda['userAuthority'],'A')||_0x2f20d4[_0x5ce1bc(0x390)](_0x4cf5e2[_0x5ce1bc(0x252)],_0x1f0976);return _0x2f20d4[_0x5ce1bc(0x2c5)](_0x7235a7['userAuthority'],'O')&&_0x2af02e;}}finally{_0x2f20d4[_0x5ce1bc(0x26c)](_0x2f20d4[_0x5ce1bc(0x1ca)],_0x2f20d4['zUDUX'])?_0x2e9474[_0x5ce1bc(0x25a)]():_0x21d73c['close']();}}else{const _0x253c1d=_0x19c3a8[_0x5ce1bc(0x2c4)](_0x592826,arguments);return _0x2612df=null,_0x253c1d;}};_0x27da93['push']({'req':_0x23eb53,'res':_0x4e28ef}),_0x1907ff||_0x2f20d4[_0x185f89(0x260)](_0x17af31);}),x[_0x2629e2(0x238)](W,_0xf67c0c['isOA'],async(_0x430e8e,_0x1c1310)=>{const _0x53aa10=_0x2629e2,_0x55c279={'PpHfY':function(_0x30902d,_0x2de677){return _0x30902d(_0x2de677);},'aTKEw':function(_0x2ae970,_0x3d2a7b){return _0x2ae970!==_0x3d2a7b;},'qeYbW':_0x53aa10(0x214),'BkgQn':function(_0x4fbb52,_0x231cbc){return _0x4fbb52>_0x231cbc;},'EKuwg':function(_0x1130a6,_0x30f064){return _0x1130a6+_0x30f064;},'SDWyi':_0x53aa10(0x2f6),'rbses':_0x53aa10(0x269),'xNBpM':_0x53aa10(0x21e),'mfLhR':'เกิดข้อผิดพลาดขณะเพิ่มผู้ใช้ใหม่','kBaXM':_0x53aa10(0x2d8),'InmSe':_0x53aa10(0x291),'MbxOr':_0x53aa10(0x2fe),'CKQES':_0x53aa10(0x250),'vvzmk':_0x53aa10(0x39d)},_0x1dee57=new _0xbb1039(dbUrl),_0x100a7d=''+u;try{if(_0x55c279[_0x53aa10(0x3a9)](_0x55c279[_0x53aa10(0x397)],_0x55c279['qeYbW']))zcDNfs[_0x53aa10(0x23d)](_0x1259f8,'0');else{await _0x1dee57['connect']();const _0x54fbc2=_0x1dee57['db'](dbName)[_0x53aa10(0x2b2)](dbColl_users);var _0x37f340=await _0x54fbc2['find']({})['sort']({'userId':-0x1})[_0x53aa10(0x26a)](0x1)[_0x53aa10(0x2a5)](),_0x3ef7d5=0x0;if(_0x55c279[_0x53aa10(0x326)](_0x37f340[_0x53aa10(0x276)],0x0))_0x3ef7d5=_0x55c279[_0x53aa10(0x258)](_0x37f340[0x0][_0x53aa10(0x252)],0x1);else return _0x1c1310['send']({'isCreate':!0x1,'msg':_0x55c279['SDWyi'],'redirectUrl':_0x100a7d});const _0x433026=process[_0x53aa10(0x1f7)][_0x53aa10(0x1d9)]||_0x55c279[_0x53aa10(0x264)],_0x6c1afd={'userId':_0x3ef7d5,'userEmail':_0x53aa10(0x327)+_0x3ef7d5+_0x53aa10(0x2f9),'username':_0x53aa10(0x327)+_0x3ef7d5,'userPrefix':'','userFirstname':_0x53aa10(0x327)+_0x3ef7d5,'userLastname':'','userAuthority':'U','userIsActive':_0x55c279[_0x53aa10(0x298)],'userPassword':await _0x4c706e[_0x53aa10(0x313)](_0x433026,global[_0x53aa10(0x274)]),'dateTimeCanDelete':S[_0x53aa10(0x31e)](oe)},_0x4342fd=await _0x54fbc2[_0x53aa10(0x259)](_0x6c1afd);return _0x4342fd[_0x53aa10(0x2b5)]&&_0x4342fd[_0x53aa10(0x211)]?_0x1c1310[_0x53aa10(0x263)]({'isCreate':!0x0,'msg':'สร้างผู้ใช้ใหม่\x20\x22'+_0x6c1afd[_0x53aa10(0x29c)]+_0x53aa10(0x362)+_0x433026+_0x53aa10(0x376),'redirectUrl':u+_0x53aa10(0x241)+_0x4342fd[_0x53aa10(0x211)][_0x53aa10(0x20d)]()}):_0x1c1310[_0x53aa10(0x263)]({'isCreate':!0x1,'msg':_0x55c279[_0x53aa10(0x277)],'redirectUrl':_0x100a7d});}}catch(_0x1e4fa2){_0x55c279['aTKEw'](_0x55c279[_0x53aa10(0x293)],_0x55c279[_0x53aa10(0x33b)])?(console['log'](_0x55c279[_0x53aa10(0x2aa)],_0x1e4fa2),_0x1c1310[_0x53aa10(0x3a0)](0x194)[_0x53aa10(0x334)](_0x100a7d)):_0x2d7ff4['close']();}finally{if(_0x55c279[_0x53aa10(0x3a9)](_0x55c279['CKQES'],_0x55c279[_0x53aa10(0x2d6)]))_0x1dee57[_0x53aa10(0x25a)]();else{if(_0x573985){const _0x19128d=_0x35bc4d[_0x53aa10(0x2c4)](_0x433671,arguments);return _0x3863ac=null,_0x19128d;}}}}),x[_0x2629e2(0x238)](G,_0xf67c0c[_0x2629e2(0x28b)],async(_0x244f1d,_0x28b534)=>{const _0x5388a4=_0x2629e2,_0x4dc110={'mZUUW':'error\x20===>\x20','KBcoV':_0x5388a4(0x267),'Couzs':function(_0x3a106e,_0x587d44){return _0x3a106e(_0x587d44);},'RZKpf':function(_0x44742e,_0x169b9f){return _0x44742e(_0x169b9f);},'nMUBp':function(_0x1fcb9c,_0x48d53e){return _0x1fcb9c(_0x48d53e);},'zsZDO':function(_0x4fc607,_0x5f1e61){return _0x4fc607!=_0x5f1e61;},'FicjB':_0x5388a4(0x252),'DXCEW':function(_0x2fcb0a,_0x279750){return _0x2fcb0a===_0x279750;},'HVVLm':_0x5388a4(0x261),'nSfhy':'msg','mPeyB':function(_0x5caeec,_0x34b16f){return _0x5caeec===_0x34b16f;},'uXQAJ':function(_0x2322e6,_0x2d25c2){return _0x2322e6!==_0x2d25c2;},'EENTl':_0x5388a4(0x32e),'PbzeI':_0x5388a4(0x285),'qBUbl':function(_0x36263a,_0x361942){return _0x36263a>_0x361942;},'byNbR':'{{sep}}(\x20ไม่พบเซสชั่น\x20)','nvsat':_0x5388a4(0x1fb)};let {_id_toDelete:_0x3817bf,load_id:_0x10ff53,sip:_0x1d66a1,Id_toDelete:_0x5193aa}=_0x244f1d[_0x5388a4(0x2f4)];const _0x3c8c67=_0x4dc110[_0x5388a4(0x272)](Number,_0x244f1d['body'][_0x5388a4(0x373)])||0x14,_0x27c2ba=_0x4dc110[_0x5388a4(0x222)](Number,_0x244f1d[_0x5388a4(0x2f4)][_0x5388a4(0x22a)])||0x1;_0x5193aa=_0x4dc110['nMUBp'](Number,_0x5193aa);const _0x47a73d=_0x3817bf&&_0x4dc110[_0x5388a4(0x2ce)](_0x3817bf,_0x10ff53)?_0x5388a4(0x24c)+_0x3817bf:'',_0x8e426=u+_0x5388a4(0x28a)+_0x1d66a1+_0x5388a4(0x36d)+_0x3c8c67+'&page='+_0x27c2ba+_0x47a73d,_0x2ea4b3=new _0xbb1039(global[_0x5388a4(0x212)]);try{await _0x2ea4b3[_0x5388a4(0x300)]();const _0x3cd51f=_0x2ea4b3['db'](global[_0x5388a4(0x361)]),_0x1be9b8=_0x3cd51f[_0x5388a4(0x2b2)](global[_0x5388a4(0x310)]),_0x39305d=[{'coll':_0x3cd51f[_0x5388a4(0x2b2)](global[_0x5388a4(0x3a7)]),'name':global[_0x5388a4(0x3a7)],'key':_0x4dc110[_0x5388a4(0x270)]}];for(const {coll:_0xa75ee,name:_0x3ed1b6,key:_0x2ceacc}of _0x39305d){if(_0x4dc110[_0x5388a4(0x37c)](_0x4dc110[_0x5388a4(0x28e)],_0x4dc110[_0x5388a4(0x28e)])){const _0x4005a2={};if(_0x4005a2[_0x2ceacc]=_0x5193aa,await _0xa75ee['findOne'](_0x4005a2))return await _0x1be9b8['updateOne']({'userId':_0x5193aa},{'$set':{'canDelete':!0x1}}),_0x244f1d[_0x5388a4(0x253)](_0x4dc110[_0x5388a4(0x2ae)],{'class':_0x4dc110[_0x5388a4(0x354)],'text':_0x5388a4(0x318)+_0x5193aa+_0x5388a4(0x205)+_0x3ed1b6+_0x5388a4(0x2c7)}),_0x28b534[_0x5388a4(0x324)](_0x8e426);}else _0x2ae082[_0x5388a4(0x307)](_0x4dc110[_0x5388a4(0x20c)],_0x59cd47[_0x5388a4(0x2de)]),_0x6ae1dc[_0x5388a4(0x263)](_0x2f7db7[_0x5388a4(0x2e9)]({'isPrint':!0x1,'class':_0x4dc110[_0x5388a4(0x354)],'msg':_0x2a56c9[_0x5388a4(0x2de)]}));}if(_0x4dc110[_0x5388a4(0x35c)]((await _0x1be9b8[_0x5388a4(0x1d1)]({'_id':new _0x35e91e(_0x3817bf)}))[_0x5388a4(0x1d0)],0x1)){if(_0x4dc110['uXQAJ'](_0x4dc110['EENTl'],_0x4dc110['PbzeI'])){const _0x5596ef=await _0x3cd51f['collection'](global[_0x5388a4(0x1cb)])[_0x5388a4(0x224)]({'session.user_id':_0x3817bf});if(_0x5596ef['acknowledged']&&_0x4dc110['qBUbl'](_0x5596ef[_0x5388a4(0x1d0)],0x0))var _0x11cf81=_0x5388a4(0x220)+_0x5596ef[_0x5388a4(0x1d0)]+_0x5388a4(0x1e2);else var _0x11cf81=_0x4dc110['byNbR'];_0x244f1d[_0x5388a4(0x253)](_0x4dc110[_0x5388a4(0x2ae)],{'class':_0x4dc110[_0x5388a4(0x1f9)],'text':'ลบยูสเซอร์\x20\x22'+_0x5193aa+_0x5388a4(0x2c8)+_0x11cf81});}else _0x45ae46[_0x5388a4(0x25a)]();}else _0x244f1d[_0x5388a4(0x253)](_0x4dc110[_0x5388a4(0x2ae)],{'class':_0x4dc110['KBcoV'],'text':'ไม่พบ\x20\x22'+_0x5193aa+_0x5388a4(0x1e6)});return _0x28b534[_0x5388a4(0x324)](_0x8e426);}catch(_0x2269bf){return console[_0x5388a4(0x307)](_0x4dc110[_0x5388a4(0x20c)],_0x2269bf),_0x244f1d['flash'](_0x4dc110['nSfhy'],{'class':_0x4dc110[_0x5388a4(0x354)],'text':_0x2269bf[_0x5388a4(0x2de)]}),_0x28b534[_0x5388a4(0x324)](_0x8e426);}finally{_0x2ea4b3[_0x5388a4(0x25a)]();}}),x[_0x2629e2(0x238)](V,_0xf67c0c['isOA'],async(_0x44b787,_0x233297)=>{const _0x5c059b=_0x2629e2,_0x4497e8={'yslhf':function(_0x873343,_0x52216d){return _0x873343==_0x52216d;},'JuxwP':_0x5c059b(0x267),'bxvHr':_0x5c059b(0x341),'qsmEW':_0x5c059b(0x385),'khGiF':_0x5c059b(0x2bf),'EhelH':'green','hfMAM':_0x5c059b(0x2fe)},{_idArr:_0x2fca24}=_0x44b787['body'],_0x5244ee=new _0xbb1039(dbUrl);try{await _0x5244ee[_0x5c059b(0x300)]();const _0x42f6c5=await _0x5244ee['db'](dbName)['collection'](dbColl_users)['aggregate']([{'$match':{'_id':{'$in':_0x2fca24[_0x5c059b(0x287)](_0x509292=>new _0x35e91e(_0x509292))}}},{'$project':{'branchInfo':0x0}}])['toArray']();if(_0x4497e8['yslhf'](_0x42f6c5[_0x5c059b(0x276)],0x0))return _0x233297[_0x5c059b(0x263)](JSON[_0x5c059b(0x2e9)]({'isPrint':!0x1,'class':_0x4497e8[_0x5c059b(0x32c)],'msg':_0x4497e8[_0x5c059b(0x30a)]}));const _0x352065=_0x5f3c79[_0x5c059b(0x34d)](global[_0x5c059b(0x201)],_0x4497e8['qsmEW']),_0x8b1959=_0x3d69d6['readFileSync'](_0x352065,_0x4497e8[_0x5c059b(0x26d)]),_0x167861=_0x440ca3['render'](_0x8b1959,{'time':S['getDate'](),'title':_0x5c059b(0x208)+_0x42f6c5['length']+')','dateTime':S['getDateTime'](),'usersFind':_0x42f6c5});_0x233297[_0x5c059b(0x263)](JSON[_0x5c059b(0x2e9)]({'isPrint':!0x0,'class':_0x4497e8[_0x5c059b(0x275)],'msg':_0x5c059b(0x2a3)+_0x42f6c5[_0x5c059b(0x276)]+_0x5c059b(0x38c),'htmlPage':_0x167861}));}catch(_0x5f1ca1){console[_0x5c059b(0x307)](_0x4497e8['hfMAM'],_0x5f1ca1[_0x5c059b(0x2de)]),_0x233297[_0x5c059b(0x263)](JSON['stringify']({'isPrint':!0x1,'class':_0x4497e8['JuxwP'],'msg':_0x5f1ca1[_0x5c059b(0x2de)]}));}finally{_0x5244ee[_0x5c059b(0x25a)]();}}),x[_0x2629e2(0x238)](X,_0xf67c0c[_0x2629e2(0x28b)],async(_0xc9b67,_0x350468)=>{const _0x291b2d=_0x2629e2,_0x5e078b={'OOlvV':function(_0x441c83,_0x4bc77e){return _0x441c83(_0x4bc77e);},'UjwOV':_0x291b2d(0x267),'EpNpf':function(_0x1501e8,_0x22a1f1){return _0x1501e8<_0x22a1f1;},'TcHGd':_0x291b2d(0x204),'XWdCW':_0x291b2d(0x246),'oZlKs':_0x291b2d(0x2cd),'xzyxe':'green','Xscfh':_0x291b2d(0x2fe)};let {userId:_0x27ab9}=_0xc9b67[_0x291b2d(0x2f4)];_0x27ab9=_0x5e078b['OOlvV'](Number,_0x27ab9);const _0x445bb0=new _0xbb1039(global[_0x291b2d(0x212)]);try{await _0x445bb0['connect']();var _0x431129=await _0x445bb0['db'](global[_0x291b2d(0x361)])[_0x291b2d(0x2b2)](global[_0x291b2d(0x310)])['findOne']({'userId':_0x27ab9});if(!_0x431129)return _0x350468[_0x291b2d(0x263)](JSON['stringify']({'isPrint':!0x1,'class':_0x5e078b[_0x291b2d(0x280)],'msg':_0x291b2d(0x216)+_0x27ab9+'\x22'}));const _0x4163e1=_0x431129['changesHistory']||[];if(_0x5e078b['EpNpf'](_0x4163e1[_0x291b2d(0x276)],0x1))return _0x350468[_0x291b2d(0x263)](JSON[_0x291b2d(0x2e9)]({'isPrint':!0x1,'class':_0x5e078b['TcHGd'],'msg':_0x5e078b[_0x291b2d(0x206)]}));const _0x538b93=_0x5f3c79[_0x291b2d(0x34d)](folderForms,_0x5e078b[_0x291b2d(0x2bb)]),_0x3ef724=await U['renderView'](_0x538b93,_0x350468,{'title':_0x291b2d(0x2f8)+_0x431129['userId']+']\x20'+_0x431129[_0x291b2d(0x2d5)]+'\x20'+_0x431129[_0x291b2d(0x1c9)]+'\x20'+_0x431129[_0x291b2d(0x35e)],'time':S[_0x291b2d(0x31e)](),'changesHistory':_0x4163e1});_0x350468[_0x291b2d(0x263)](JSON[_0x291b2d(0x2e9)]({'isPrint':!0x0,'class':_0x5e078b['xzyxe'],'htmlPage':_0x3ef724}));}catch(_0x4e6870){console[_0x291b2d(0x307)](_0x5e078b[_0x291b2d(0x31b)],_0x4e6870),_0x350468['send'](JSON[_0x291b2d(0x2e9)]({'isPrint':!0x1,'class':_0x5e078b[_0x291b2d(0x280)],'msg':_0x4e6870['message']}));}finally{_0x445bb0[_0x291b2d(0x25a)]();}});function _0xc152(){const _0x443ab5=['ryYZf','ZhVWo','uOAVu','ThYSc','renderView','dbColl_docs','bBTad','aTKEw','ITrfW','bFoiG','user_id','WrCqj','userFirstname','ZoQtT','dbColl_sessions','TXsvf','lKnWd','UylSu','Ustdl','deletedCount','deleteOne','fcxLn','DmLPP','findOne','Pujqc','QDjEP','lEkWk','console','START_PASSWORD','/upload-excel','XuPky','RkuPw','oQQJm','eTZZU','heRvM','userAuthority','usYUR','\x22\x20เรียบร้อยแล้ว\x20)','nNpYM','887227bCxPvT','sort','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','Session\x20destroy\x20error:\x20','MFWjt','gFiMq','wjTSX','minute','YRjTj','qBhBe','LvAuK','TkAfD','kkgjy','mONJe','VYhTm','Gvkrt','ogWaw','../','fWyfj','env','keys','nvsat','ptnEn','green','IPgbd','userEmail','NXbdQ','/print','2876572YXcZJc','folderForms','ewyhB','preZa','yellow','\x22\x20มีอยู่ในเอกสาร\x20','XWdCW','1076854wVOEJv','ยูสเซอร์\x20(','ZblTl','getSettingsSystem_Email','JpQVT','mZUUW','toString','BSyni','xvuaV','VVwTh','insertedId','dbUrl','/mySendmail.js','nVCZV','KwsgI','ไม่พบ\x20\x22','msnPR','bcdXa','getSettings','UJeyd','ybZhr','oRmUS','KGkUV','active','edUYa','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','SmPLv','RZKpf','jJLOF','deleteMany','updateOne','CGisR','/myData.js','tpvGT','USERNAME_DESCRIPTION','page','อัปเดท\x20\x22','fpiIl','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','call','aMzUw','BFOVj','PShQR','destroy','aggregate','KGupA','/myDateTime.js','EMAIL_PASS','qvIkG','post','Pwfjr','อีเมล/ชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','INSQB','eqGde','PpHfY','qjZlx','NDevc','EMAIL_PATTERN','?rpp=20&page=1&load_id=','UNYkx','sfTHx','kbXnq','pFtbu','ไม่พบประวัติการเปลี่ยนแปลง','qboem','mTTWO','session','__proto__','vlZjU','&load_id=','userIsActive','uAECO','HVNBJ','wClFf','AYsQM','userId','flash','EjYFu','ycZbi','รูปแบบอีเมลไม่ถูกต้อง','qrAvV','EKuwg','insertOne','close','Zpajn','wHFOk','tgxIi','tWvew','input','nsCUw','Ssxcu','getDate','send','rbses','gger','GzbzP','red','zQiwr','qwerty','limit','string','zrlcb','khGiF','userFlash','LMJjC','FicjB','nUSEN','Couzs','tCSKf','BCRYPT_NUMBER','EhelH','length','mfLhR','jYBhz','LqiCO','RGHLX','countDocuments','query','/save','_id','bsetN','UjwOV','OnhZs','RYdYY','PlYNc','HwgkH','dKDhC','wpruN','map','xcRDV','waJcQ','?sip=','isOA','2339960CMCIMm','get','HVVLm','BmvGA','$changesHistory','XtTeQ','IinaN','kBaXM','debu','OrEIQ','DpTEA','userFullname','xNBpM','eZgUq','hyPYi','dYNvu','username','kMlPN','init','BsDdf','ZZwJT','/download-excel','yJOzT','พิมพ์ข้อมูล\x20','QLdrv','toArray','uNiLA','YgAYU','zPNIs','xqGGZ','MbxOr','KhOhe','pzbKs','auDxX','nSfhy','kNFSN','eKAKs','getChangeHistory','collection','VooDr','ymOtL','acknowledged','WBtQm','wOIeq','ipINn','QCKoo','bind','oZlKs','userPassword','PImaZ','JskLn','utf8','jCeXT','kDXXZ','Not\x20Found','load_id','apply','BcLqE','manageUsers','{{sep}}ไม่สามารถลบได้','\x22\x20เรียบร้อยแล้ว','mfLUc','/manage/users','test','khzLc','changes_tableRows.ejs','zsZDO','FpJCX','{}.constructor(\x22return\x20this\x22)(\x20)','1212912GtXrxy','qHXcq','xxKyq','qpnCq','userPrefix','vvzmk','TXNwG','oWkkX','xYtWi','$userLastname','nCydw','replace','MSpTT','message','erDun','mZiFi','bsYoj','SJCZm','yrIHU','then','eClwU','dateTimeCanDelete','QOOge','hYPkB','stringify','jOdwf','catch','erUnq','fyczZ','){{sep}}(CODE\x20:\x20','TDCaQ','exception','7700880MrNCTN','SamqX','dTdIA','body','XAyVN','ยังไม่มีผู้ใช้ในระบบเลย\x20ต้องเพิ่มผู้ใช้หลักก่อน','อีเมลหรือชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','ประวัติการแก้ไขยูสเซอร์\x20:\x20[','@gmail.com','QTKSH','bFzYm','find','counter','error\x20===>\x20','teIFJ','connect','iCEdl','LVyJM','DIvaL','includes','SfxTw','ceil','log','DtLbA','yJUsK','bxvHr','zoXBh','oNHbT','prototype','gqNmy','function\x20*\x5c(\x20*\x5c)','dbColl_users','AUffG','nqRak','hash','MxMzB','iLkPY','kvbwM','YNJCy','ยูสเซอร์\x20\x22','JJLhh','unshift','Xscfh','\x5c$&','3kNWrYT','getDateTime','สร้างยูสเซอร์\x20','totqy','aAGUF','/load','ScCom','redirect','constructor','BkgQn','user_','LDPRE','YezwM','3022405LgWXMz','hTzpm','JuxwP','$dateTimeCanDelete','uejfe','AAqwO','HrvdN','xZyBo','dfEoH','uDInv','sendFile','HYnoD','czeTb','xrIQW','RFwEo','GiYnp','zDFCY','InmSe','tOetH','trace','AbPjS','pUChP','QLoEF','ไม่มีข้อมูล','$userFirstname','/changes','DDGZf','return\x20(function()\x20','hCmwz','/myModule.js','MZpoK','sPfyR','esMcj','OpMWk','zcfry','join','aanbE','error','fLMzH','CJUWY','SORwG','bJtqu','KBcoV','while\x20(true)\x20{}','vFVHZ','VlWzj','BfHFE','generatePassword','msg','EMAIL_WHOSEND','mPeyB','OJeqd','userLastname','RRtka','NCqVi','dbName','\x22\x20เรียบร้อยแล้ว{{sep}}(\x20รหัสผ่านเริ่มต้น\x20\x22','awkWR','wYNDj','sTDoZ','qjrUe','cUlND','chain','USER_AUTHORITIES','IodSv','kZvJP','VaBNy','&rpp=','GKffS','smKpM','HzOcK','iKKaQ','trim','rpp','dtfWn','AcNkP','\x22\x20)','XJgUJ','sneTN','PklIu','cDdbK','itXGZ','DXCEW','kvqeK','AbGLy','sip','sdnhh','aeOib','ErFgj','EJTSe','DxwBg','print_users.ejs','UWwLE','getSessionData','uTxMl','info','{{sep}}\x22','gmoHg','\x20ยูสเซอร์เรียบร้อยแล้ว','XznBi','LupEi','filter','BThOF','fASSh','\x20แล้ว{{sep}}แต่ไม่ได้ส่งอีเมล์\x20การตั้งค่าการส่งอิเมล์ไม่ถูกต้อง','clcwp','shift','DzLQj','oWnDQ','qeYbW','JndUe','ORUyv','rzdTz','oPqDk','NCyBj','Wmbtx','Xmexk','mtTBj','status','tKsTF'];_0xc152=function(){return _0x443ab5;};return _0xc152();}export default x;function _0x57e4(_0x45502e,_0x5cb9b6){const _0x3e37ae=_0xc152();return _0x57e4=function(_0x274df1,_0x4ffd80){_0x274df1=_0x274df1-0x1c7;let _0x3b6f95=_0x3e37ae[_0x274df1];return _0x3b6f95;},_0x57e4(_0x45502e,_0x5cb9b6);}function _0x86dd0d(_0x25e4d6){const _0x403e91=_0x2629e2,_0x5661cb={'nCydw':function(_0x35f471,_0xd719f2){return _0x35f471===_0xd719f2;},'YNJCy':_0x403e91(0x26b),'ybZhr':_0x403e91(0x355),'HYnoD':_0x403e91(0x2fd),'lEkWk':function(_0x426940,_0x503c33){return _0x426940!==_0x503c33;},'UNYkx':function(_0x20d27b,_0x40102c){return _0x20d27b+_0x40102c;},'PlYNc':function(_0xf64cf5,_0x3ead12){return _0xf64cf5/_0x3ead12;},'bCVvn':_0x403e91(0x276),'XuPky':function(_0x432f6f,_0x4a6aec){return _0x432f6f%_0x4a6aec;},'KwsgI':_0x403e91(0x294),'kMlPN':_0x403e91(0x265),'PuJja':'action','INSQB':function(_0x3d155e,_0x41508b){return _0x3d155e+_0x41508b;},'yJOzT':'stateObject','QCKoo':function(_0x29ebba,_0x3f506b){return _0x29ebba(_0x3f506b);},'yrWgf':function(_0x432c5a,_0x4aea00){return _0x432c5a(_0x4aea00);}};function _0x384108(_0x4b41ef){const _0x448b68=_0x403e91;if(_0x5661cb[_0x448b68(0x2db)](typeof _0x4b41ef,_0x5661cb[_0x448b68(0x317)]))return function(_0x5b45e0){}[_0x448b68(0x325)](_0x5661cb[_0x448b68(0x21b)])[_0x448b68(0x2c4)](_0x5661cb[_0x448b68(0x335)]);else _0x5661cb[_0x448b68(0x1d7)](_0x5661cb['UNYkx']('',_0x5661cb[_0x448b68(0x283)](_0x4b41ef,_0x4b41ef))[_0x5661cb['bCVvn']],0x1)||_0x5661cb['nCydw'](_0x5661cb[_0x448b68(0x1db)](_0x4b41ef,0x14),0x0)?function(){return!![];}['constructor'](_0x5661cb[_0x448b68(0x242)](_0x5661cb[_0x448b68(0x215)],_0x5661cb[_0x448b68(0x29d)]))[_0x448b68(0x22e)](_0x5661cb['PuJja']):function(){return![];}[_0x448b68(0x325)](_0x5661cb[_0x448b68(0x23b)](_0x5661cb['KwsgI'],_0x5661cb['kMlPN']))['apply'](_0x5661cb[_0x448b68(0x2a2)]);_0x5661cb[_0x448b68(0x2b9)](_0x384108,++_0x4b41ef);}try{if(_0x25e4d6)return _0x384108;else _0x5661cb['yrWgf'](_0x384108,0x0);}catch(_0x55dbde){}}