const _0x164bbf=_0x4f79;(function(_0x34ba55,_0x5eada5){const _0x10d89e=_0x4f79,_0x1d2819=_0x34ba55();while(!![]){try{const _0x163fbd=parseInt(_0x10d89e(0x1d8))/0x1+-parseInt(_0x10d89e(0x22d))/0x2+-parseInt(_0x10d89e(0x2f2))/0x3+parseInt(_0x10d89e(0x193))/0x4+parseInt(_0x10d89e(0x273))/0x5*(-parseInt(_0x10d89e(0x2b0))/0x6)+parseInt(_0x10d89e(0x1b6))/0x7*(parseInt(_0x10d89e(0x299))/0x8)+-parseInt(_0x10d89e(0x1c3))/0x9;if(_0x163fbd===_0x5eada5)break;else _0x1d2819['push'](_0x1d2819['shift']());}catch(_0x39ebd1){_0x1d2819['push'](_0x1d2819['shift']());}}}(_0x19c7,0x52fde));function _0x19c7(){const _0x4e38af=['uoETT','BaAVi','lIwPM','arGTP','cTLdv','&page=','fobEM','string','rALuD','maXDM','iFSLR','zZfqF','joght','/print','UHXfF','$dateTimeCanDelete','FigDf','IGsun','LndYL','nEWIz','EMAIL_PATTERN','yskYC','dbColl_sessions','yZUsj','ePGxh','YqHow','GQmMl','GijoD','PbKuc','EMAIL_PASS','rpp','destroy','TqHIz','debu','limit','NTauW','RgqEI','iFVnL','pgBHe','vcGYC','buqVu','IJtKl','sendRegisterUserEmail','fCeZh','CvzBQ','insertOne','YTtoJ','error','collection','HyCeN','sip','norew','fnEGs','OwDAT','getDate','OSnGm','manageUsers','tAhza','wjhCt','เพิ่มยูสเซอร์\x20','PLhHG','BFVYF','rmZAI','toString','return\x20(function()\x20','bnwfm','oAbrs','{}.constructor(\x22return\x20this\x22)(\x20)','vlYhq','HoeOF','ylLAD','LxOnV','aPpLx','body','IxSXv','cpcoG','awIwF','1392164pfiUJb','xfZyL','\x20ยูสเซอร์เรียบร้อยแล้ว','CKVGF','sort','prototype','hmKwQ','MiiSW','print_users.ejs','VbkEj','folderForms','Not\x20Found','Nyrwh','qLmCQ','RnGNJ','EhffP','\x22\x20เรียบร้อยแล้ว','yrUNx','Cgato','PxBOo','PSwsj','GXwww','DmTQG','\x22\x20เรียบร้อยแล้ว\x20)','lYKDE','LaVFs','EFbRi','LNjSy','stringify','dbName','red','userId','Session\x20destroy\x20error:\x20','RvekH','xwvnA','623bpTbtg','gZCLD','yellow','VIbWo','aggregate','&load_id=','IDHBv','bind','HmoyI','USERNAME_DESCRIPTION','flash','vbWpb','bcPzh','3645171ZCotMj','{{sep}}ไม่สามารถลบได้','mAaGI','PoTNt','/download-excel','pgDIF','jiwSf','constructor','START_PASSWORD','includes','eTqLt','upsertedCount','iOLfl','อีเมลหรือชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','KuRIl','cWhET','SfDki','VRqwk','LRHew','ffkjR','readFileSync','44781NFOUXP','getDateTime','length','CyBBP','EMAIL_WHOSEND','dgnjQ','gUqvU','nvpww','dbUrl','minute','ไม่พบ\x20\x22','updateOne','nXBwP','mQTcY','active','while\x20(true)\x20{}','xsPab','เพิ่มยูสเซอร์และส่งอิเมล์เรียบร้อยแล้ว\x20(','tulvf','mDjkH','qWVWI','\x22\x20ไม่มีอะไรเปลี่ยนแปลง','zkfmA','init','cxEbL','$userPrefix','NQYsc','getSettingsSystem_Email','FsKSN','fLXLf','NfBwY','gGIsB','IbyUg','ZzsCE','OvMLR','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','TmudT','RagRw','WcqOO','userAuthority','lPmRd','ZoBFv','OLwMk','$changesHistory','JQggA','yeFbp','jUOlE','SLomf','\x22\x20เรียบร้อยแล้ว{{sep}}(\x20รหัสผ่านเริ่มต้น\x20\x22','rqhrA','rldGw','find','getChangeHistory','/myModule.js','UmWiB','xpOCU','ebSpu','jjMfH','akxSB','__proto__','RKPCz','CWBGD','connect','ucUUR','EAlcm','LujGh','\x20แล้ว{{sep}}แต่ไม่ได้ส่งอีเมล์\x20การตั้งค่าการส่งอิเมล์ไม่ถูกต้อง','dPEzP','QwxIb','ประวัติการแก้ไขยูสเซอร์\x20:\x20[','oOzYR','dbColl_users','cMeOT','GHnjc','KaXTq','nUpTx','WKOOb','nhOQE','wYWyy','userFlash','QVUEX','LjgXU','bVwOK','function\x20*\x5c(\x20*\x5c)','รูปแบบอีเมลไม่ถูกต้อง','35704gVoZlF','toArray','IlCMx','wLbVN','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','deleteMany','tNYJa','sOOcH','XMEVc','DToPX','PBpTH','yvIdC','?rpp=20&page=1&load_id=','trace','flVyb','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','changesHistory','DqnSV','/mySendmail.js','blHiq','PLHzR','CSwgH','gger','IycIO','FktZR','load_id','$userFirstname','page','ScAGm','counter','UFzLT','NJtYE','tHNyL','post','ruhGR','GWkwb','WzePP','{{sep}}\x22','_id','vyjCL','username','unshift','console','Router','HluKp','QLxwr','call','tnVgV','QQQHz','../','GVYzb','อีเมล/ชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','GrtMl','/load','qpcsv','ยูสเซอร์\x20(','MYlHR','test','VUjvv','VLGVW','user_','MxxPC','acknowledged','kVSxz','IWLSJ','renderView','BCRYPT_NUMBER','ลบยูสเซอร์\x20\x22','rDhYT','FMDzI','1019625HWNoJh','?sip=','exception','redirect','ntPEn','quwud','yxUbw','VterQ','\x5c$&','filter','changes_tableRows.ejs','GUSTv','LcYch','PyAtz','ljHYU','TaDyh','qhHQX','apply','grUxX','hash','userPassword','dateTimeCanDelete','status','JstKk','lMmRm','PmdUK','query','qwerty','ZDtzG','UhuyD','IxpQA','insertedId','{{sep}}(\x20ไม่พบเซสชั่น\x20)','cNMZv','AoHYt','wzPei','lppHV','พิมพ์ข้อมูล\x20','52792xWTiOp','session','DXXcr','hCdTA','bYHgN','ycyUi','yutpT','input','error\x20===>\x20','userFullname','yXrof','ZZaUR','gORxE','tmqMp','VRVSy','HYTvG','XbWeG','USERNAME_PATTERN','{{sep}}[\x20บันทึกการแก้ไข\x20]','dRbGE','modifiedCount','pQPYL','lAKKj','6XaPNRI','HjuVw','xhTKD','lejIB','fOMii','/myData.js','message','log','aknrt','map','vqxOx','hgmIz','SoJlC','avGpL','keys','USER_AUTHORITIES','Vtdwo','replace','vefRs','ยังไม่มีผู้ใช้ในระบบเลย\x20ต้องเพิ่มผู้ใช้หลักก่อน','tJAMh','\x22\x20มีอยู่ในเอกสาร\x20','table','OqxsK','Ekxon','tgtaK','เกิดข้อผิดพลาดขณะเพิ่ม/ส่งอีเมลไปยังผู้ใช้ใหม่','ZjLqj','findOne','aZLEJ','ImNvy','green','GvgES','JUMbl','EsQeF','warn','user_id','xgCat','cVbCs','QXHvs','XnHvd','WlkHH','RfjrI','rljvn','SQtve','trim','SGfLc','action','nVnvw','/changes','HqXsS','RtyLO','hYcxc','GCYxl','userEmail','$userLastname','JkNSo','userPrefix','PoKwK','AWTqY','KGeRd','FgqoM','ยูสเซอร์\x20\x22','OhyxE','gyUEj','jZBMq','40209RsXJsR','bDVhS','join','stateObject','UWLtM','getSessionData','sendFile','Aizhh','chain','info','catch','BcSbb','FqGLM','aLYjs','generatePassword','push','LbCJY','send','jUZyV','RVvnD','WbsUh','IwSoZ','zWwyC','kcYps','wlYFk','zYDNP','phBys','deleteOne','countDocuments','fUsvm','deletedCount','tDrqQ','render','yoCiw','dhIfi','msg','&rpp=','atDSw','dqTHK','env','Kugfv','close','Jhgbr','swVKk','UyHnt','isOA','LYOmT','\x22\x20)','TPaji','JCDav','Dqmgg','TFQFB'];_0x19c7=function(){return _0x4e38af;};return _0x19c7();}const _0xb637e9=(function(){const _0x418621=_0x4f79,_0x31bd50={'QwxIb':function(_0x1b1649,_0x3b90de){return _0x1b1649!==_0x3b90de;},'MxxPC':_0x418621(0x21e),'wQOvg':_0x418621(0x2f6),'UFzLT':function(_0x192d5b,_0xd3fefa){return _0x192d5b===_0xd3fefa;},'Jhgbr':_0x418621(0x279),'MiiSW':function(_0x2a25b1,_0x48d02c){return _0x2a25b1!==_0x48d02c;},'SfDki':'pltJx'};let _0x1734b4=!![];return function(_0x5d421a,_0x26463a){const _0x4460b3=_0x418621,_0x4b9931={'jZBMq':function(_0x3745e7,_0x519d0e){const _0x1781c2=_0x4f79;return _0x31bd50[_0x1781c2(0x21c)](_0x3745e7,_0x519d0e);},'TmudT':_0x31bd50[_0x4460b3(0x26a)],'Aizhh':_0x31bd50['wQOvg'],'htcMh':function(_0x223535,_0x3270aa){const _0x12c2dd=_0x4460b3;return _0x31bd50[_0x12c2dd(0x24b)](_0x223535,_0x3270aa);},'buqVu':_0x31bd50[_0x4460b3(0x13c)]};if(_0x31bd50[_0x4460b3(0x19a)](_0x31bd50[_0x4460b3(0x1d3)],_0x31bd50[_0x4460b3(0x1d3)]))return![];else{const _0x2013be=_0x1734b4?function(){const _0x386cd4=_0x4460b3;if(_0x4b9931[_0x386cd4(0x2f1)](_0x4b9931[_0x386cd4(0x1fc)],_0x4b9931[_0x386cd4(0x2f9)])){if(_0x26463a){if(_0x4b9931['htcMh'](_0x4b9931[_0x386cd4(0x16e)],_0x4b9931[_0x386cd4(0x16e)])){const _0x37ba6c=_0x26463a[_0x386cd4(0x284)](_0x5d421a,arguments);return _0x26463a=null,_0x37ba6c;}else{_0x2ccfbb=!0x1;return;}}}else _0x1469db[_0x386cd4(0x13b)]();}:function(){};return _0x1734b4=![],_0x2013be;}};}());(function(){const _0x5e2fdb=_0x4f79,_0x2f2b1d={'ebSpu':function(_0x9daa04,_0x489912){return _0x9daa04===_0x489912;},'bcPzh':_0x5e2fdb(0x17a),'UhuyD':_0x5e2fdb(0x22b),'OOafx':_0x5e2fdb(0x23c),'atDSw':function(_0x58d338,_0x1d86fe){return _0x58d338(_0x1d86fe);},'lAKKj':_0x5e2fdb(0x1ef),'WcqOO':function(_0x287f7c,_0x11970b){return _0x287f7c+_0x11970b;},'gGIsB':'chain','RviMQ':_0x5e2fdb(0x2a0),'HjuVw':function(_0x421167,_0x38f68){return _0x421167!==_0x38f68;},'KuRIl':_0x5e2fdb(0x209),'akxSB':_0x5e2fdb(0x200),'MCBCS':function(_0x4d7476,_0xbc8eec){return _0x4d7476(_0xbc8eec);},'LjgXU':_0x5e2fdb(0x17d),'Vtdwo':function(_0x130373){return _0x130373();},'mYCht':function(_0x17aa8e,_0x3e8dca,_0x4e99aa){return _0x17aa8e(_0x3e8dca,_0x4e99aa);}};_0x2f2b1d['mYCht'](_0xb637e9,this,function(){const _0x147dc0=_0x5e2fdb;if(_0x2f2b1d[_0x147dc0(0x210)](_0x2f2b1d[_0x147dc0(0x1c2)],_0x2f2b1d[_0x147dc0(0x1c2)])){const _0x13175b=new RegExp(_0x2f2b1d[_0x147dc0(0x290)]),_0x409380=new RegExp(_0x2f2b1d['OOafx'],'i'),_0x4aecfe=_0x2f2b1d[_0x147dc0(0x137)](_0x6bda49,_0x2f2b1d[_0x147dc0(0x2af)]);if(!_0x13175b[_0x147dc0(0x266)](_0x2f2b1d[_0x147dc0(0x1fe)](_0x4aecfe,_0x2f2b1d[_0x147dc0(0x1f7)]))||!_0x409380[_0x147dc0(0x266)](_0x2f2b1d['WcqOO'](_0x4aecfe,_0x2f2b1d['RviMQ'])))_0x2f2b1d[_0x147dc0(0x2b1)](_0x2f2b1d[_0x147dc0(0x1d1)],_0x2f2b1d[_0x147dc0(0x212)])?_0x2f2b1d['MCBCS'](_0x4aecfe,'0'):_0x4a45a8['close']();else{if(_0x2f2b1d[_0x147dc0(0x210)](_0x2f2b1d['LjgXU'],_0x2f2b1d[_0x147dc0(0x229)]))_0x2f2b1d[_0x147dc0(0x2c0)](_0x6bda49);else{if(_0x294308){const _0x1a47ee=_0x1d3a60[_0x147dc0(0x284)](_0x5689f7,arguments);return _0x144007=null,_0x1a47ee;}}}}else _0x1e78b4[_0x147dc0(0x13b)]();})();}());const _0x339057=(function(){const _0x7c8527=_0x4f79,_0x29e307={'CyBBP':function(_0x44fc1f,_0xb769b7){return _0x44fc1f+_0xb769b7;},'EAlcm':_0x7c8527(0x167),'IUYCY':_0x7c8527(0x243),'DhlVa':_0x7c8527(0x2f5),'QzGqK':function(_0x5a8b7d,_0x3bc913){return _0x5a8b7d!==_0x3bc913;},'vbWpb':_0x7c8527(0x156),'TPaji':function(_0x17d271,_0x4ab4ab){return _0x17d271===_0x4ab4ab;},'vlYhq':_0x7c8527(0x12f),'YRlkc':function(_0x4fc347,_0x56d0f9){return _0x4fc347!==_0x56d0f9;},'ScAGm':_0x7c8527(0x27e),'VbkEj':'rKkMg'};let _0x4dbb0e=!![];return function(_0x1ced2a,_0x74f9b7){const _0x274d48=_0x7c8527;if(_0x29e307['YRlkc'](_0x29e307[_0x274d48(0x249)],_0x29e307[_0x274d48(0x19c)])){const _0xd8b47=_0x4dbb0e?function(){const _0x576311=_0x274d48,_0x20d58a={'yrZis':function(_0x3f48a2,_0x331ba0){const _0x32dc92=_0x4f79;return _0x29e307[_0x32dc92(0x1db)](_0x3f48a2,_0x331ba0);},'eBaHc':_0x29e307[_0x576311(0x218)],'LxOnV':_0x29e307['IUYCY'],'rmZAI':_0x29e307['DhlVa']};if(_0x29e307['QzGqK'](_0x29e307['vbWpb'],_0x29e307[_0x576311(0x1c1)]))_0x43549f['close']();else{if(_0x74f9b7){if(_0x29e307[_0x576311(0x142)](_0x29e307[_0x576311(0x18a)],_0x29e307[_0x576311(0x18a)])){const _0x3d1888=_0x74f9b7[_0x576311(0x284)](_0x1ced2a,arguments);return _0x74f9b7=null,_0x3d1888;}else(function(){return![];}['constructor'](_0x20d58a['yrZis'](_0x20d58a['eBaHc'],_0x20d58a[_0x576311(0x18d)]))[_0x576311(0x284)](_0x20d58a[_0x576311(0x184)]));}}}:function(){};return _0x4dbb0e=![],_0xd8b47;}else _0x1f1361['log'](_0x215052[_0x274d48(0x2b6)]),_0x87de1[_0x274d48(0x289)](0x194)[_0x274d48(0x2f8)](_0x5b34fe);};}()),_0x1fab3a=_0x339057(this,function(){const _0x15925b=_0x4f79,_0x4f4c16={'mDjkH':'userFlash','LRHew':function(_0x353d82,_0x5179b2){return _0x353d82>_0x5179b2;},'phBys':_0x15925b(0x2a1),'Nyrwh':_0x15925b(0x1b1),'CSwgH':function(_0x5a7707,_0x585aec){return _0x5a7707===_0x585aec;},'wjhCt':_0x15925b(0x2bb),'eXhml':'vNieZ','tAhza':function(_0x5e7c76,_0x2e68ea){return _0x5e7c76(_0x2e68ea);},'lIwPM':function(_0x13ca54,_0x15737b){return _0x13ca54+_0x15737b;},'PoKwK':'return\x20(function()\x20','yoWFJ':_0x15925b(0x189),'oxIhw':function(_0x3676ce){return _0x3676ce();},'RnGNJ':function(_0x30f464,_0x2c08f5){return _0x30f464!==_0x2c08f5;},'GXwww':_0x15925b(0x20a),'IDHBv':'log','CYnXV':'warn','FnIwh':_0x15925b(0x2fb),'VLGVW':_0x15925b(0x175),'tgtaK':_0x15925b(0x275),'lppHV':_0x15925b(0x2c6),'OhyxE':_0x15925b(0x23a),'tmqMp':function(_0x1669ec,_0xdd51cf){return _0x1669ec<_0xdd51cf;},'DqnSV':_0x15925b(0x230)};let _0x335974;try{if(_0x4f4c16[_0x15925b(0x242)](_0x4f4c16[_0x15925b(0x180)],_0x4f4c16['eXhml']))return!![];else{const _0x338a13=_0x4f4c16[_0x15925b(0x17f)](Function,_0x4f4c16[_0x15925b(0x148)](_0x4f4c16[_0x15925b(0x148)](_0x4f4c16[_0x15925b(0x2ea)],_0x4f4c16['yoWFJ']),');'));_0x335974=_0x4f4c16['oxIhw'](_0x338a13);}}catch(_0x95eeff){if(_0x4f4c16[_0x15925b(0x1a1)](_0x4f4c16[_0x15925b(0x1a8)],_0x4f4c16['GXwww'])){const _0x3d91e1=_0x1a97f4[_0x15925b(0x1c0)](_0x4f4c16[_0x15925b(0x1eb)]);_0x3d91e1&&_0x4f4c16[_0x15925b(0x1d5)](_0x3d91e1[_0x15925b(0x1da)],0x0)&&(_0x2d4216={..._0x3d91e1[0x0]});}else _0x335974=window;}const _0x15cbf3=_0x335974[_0x15925b(0x257)]=_0x335974['console']||{},_0x57670a=[_0x4f4c16[_0x15925b(0x1bc)],_0x4f4c16['CYnXV'],_0x4f4c16['FnIwh'],_0x4f4c16[_0x15925b(0x268)],_0x4f4c16[_0x15925b(0x2c9)],_0x4f4c16[_0x15925b(0x297)],_0x4f4c16[_0x15925b(0x2ef)]];for(let _0xe674e1=0x0;_0x4f4c16[_0x15925b(0x2a6)](_0xe674e1,_0x57670a[_0x15925b(0x1da)]);_0xe674e1++){if(_0x4f4c16['RnGNJ'](_0x4f4c16[_0x15925b(0x23e)],_0x4f4c16[_0x15925b(0x23e)]))_0x3f5944[_0x15925b(0x2b7)](_0x4f4c16[_0x15925b(0x12c)],_0x1a2f20),_0x3cdce4[_0x15925b(0x123)](_0x13d612[_0x15925b(0x1af)]({'isPrint':!0x1,'class':_0x4f4c16[_0x15925b(0x19f)],'msg':_0x3dc5c7[_0x15925b(0x2b6)]}));else{const _0x51e91d=_0x339057[_0x15925b(0x1ca)][_0x15925b(0x198)][_0x15925b(0x1bd)](_0x339057),_0x441fff=_0x57670a[_0xe674e1],_0x2d3fd7=_0x15cbf3[_0x441fff]||_0x51e91d;_0x51e91d['__proto__']=_0x339057[_0x15925b(0x1bd)](_0x339057),_0x51e91d['toString']=_0x2d3fd7[_0x15925b(0x185)][_0x15925b(0x1bd)](_0x2d3fd7),_0x15cbf3[_0x441fff]=_0x51e91d;}}});_0x1fab3a();import _0x5ca068 from'express';function _0x4f79(_0x2be872,_0x2b9ccc){const _0x36f34a=_0x19c7();return _0x4f79=function(_0x1fab3a,_0x339057){_0x1fab3a=_0x1fab3a-0x11e;let _0x28d455=_0x36f34a[_0x1fab3a];return _0x28d455;},_0x4f79(_0x2be872,_0x2b9ccc);}import{MongoClient as _0x24b468,ObjectId as _0x30e767}from'mongodb';import _0x4a3454 from'bcrypt';const x=_0x5ca068[_0x164bbf(0x258)]();import _0x1003f5 from'path';import _0x2e3846 from'fs';import _0x3d6e61 from'ejs';import _0x170354 from'../middleware/mainAuth.js';const U=await import(_0x164bbf(0x25e)+mymoduleFolder+_0x164bbf(0x20d)),S=await import(_0x164bbf(0x25e)+mymoduleFolder+'/myDateTime.js'),L=await import(_0x164bbf(0x25e)+mymoduleFolder+'/myUsers.js'),Z=await import(_0x164bbf(0x25e)+mymoduleFolder+_0x164bbf(0x23f)),q=await import(_0x164bbf(0x25e)+mymoduleFolder+_0x164bbf(0x2b5)),u='/manage/users',Q=u+'/save',W=u+'/new',B=u+_0x164bbf(0x262),G=u+'/delete',V=u+_0x164bbf(0x153),X=u+_0x164bbf(0x2e1),ee=u+_0x164bbf(0x1c7),se=u+'/upload-excel',te=u[_0x164bbf(0x2c1)](/\//g,'_'),oe=0x5a0*0x3c;x['get'](u,_0x170354[_0x164bbf(0x13f)],async(_0x133238,_0x1ce90e)=>{const _0x1217db=_0x164bbf,_0x449c49={'tDrqQ':_0x1217db(0x2a1),'tHNyL':function(_0x54acb4,_0x47e55d){return _0x54acb4(_0x47e55d);},'DToPX':function(_0x4f3a25,_0x54200f){return _0x4f3a25+_0x54200f;},'RfjrI':function(_0x13038d,_0x51710a){return _0x13038d+_0x51710a;},'YqHow':_0x1217db(0x186),'ukFzH':_0x1217db(0x189),'IbyUg':function(_0x146932){return _0x146932();},'HYTvG':function(_0x2e282f,_0x482cb4){return _0x2e282f===_0x482cb4;},'RvekH':_0x1217db(0x1fa),'yakkZ':_0x1217db(0x15e),'jiwSf':function(_0x48619b,_0x5677b8){return _0x48619b!==_0x5677b8;},'qznuM':function(_0x1d7546,_0x548ddd){return _0x1d7546==_0x548ddd;},'Ekxon':_0x1217db(0x135),'QVUEX':_0x1217db(0x1b1),'awIwF':function(_0x46cf77,_0x511e5e){return _0x46cf77(_0x511e5e);},'AoHYt':function(_0x1fe4eb,_0x18d4d9){return _0x1fe4eb*_0x18d4d9;},'yvIdC':function(_0x2c353c,_0x94717e){return _0x2c353c-_0x94717e;},'YTtoJ':function(_0xbcd443,_0x4418c0){return _0xbcd443===_0x4418c0;},'xhTKD':_0x1217db(0x2b3),'XBXkt':_0x1217db(0x204),'zZfqF':_0x1217db(0x1d6),'WlkHH':_0x1217db(0x27b),'VIbWo':function(_0x2217c1,_0x3b2e4a){return _0x2217c1(_0x3b2e4a);},'ZzsCE':function(_0x6b96d0,_0x5e0472){return _0x6b96d0/_0x5e0472;},'HmoyI':function(_0xb1710d,_0x5b6392){return _0xb1710d<_0x5b6392;},'DXXcr':function(_0x38f644,_0x229278){return _0x38f644-_0x229278;},'zWwyC':function(_0x57af20,_0x35f893){return _0x57af20-_0x35f893;},'PxBOo':function(_0x350d02,_0x1543a5){return _0x350d02>_0x1543a5;},'CHFWw':function(_0x3850b5,_0x2e6cf8){return _0x3850b5+_0x2e6cf8;},'nVnvw':function(_0x49c3e0,_0x3e52c9){return _0x49c3e0+_0x3e52c9;},'yutpT':function(_0x3517b1,_0x592e36){return _0x3517b1(_0x592e36);},'LmZJA':_0x1217db(0x1f1),'SQtve':_0x1217db(0x247),'gZmjX':_0x1217db(0x2e7),'ceMyD':_0x1217db(0x203),'svrby':_0x1217db(0x155),'hgHaD':_0x1217db(0x1e1),'qpcsv':function(_0x21655e,_0x19461d){return _0x21655e!==_0x19461d;},'iOLfl':_0x1217db(0x225),'LujGh':_0x1217db(0x196),'tJAMh':function(_0x39bc65,_0x20114e){return _0x39bc65(_0x20114e);},'cNMZv':_0x1217db(0x267),'blHiq':function(_0x2c06c0,_0x1c5b53){return _0x2c06c0===_0x1c5b53;},'mQTcY':_0x1217db(0x1a0),'UkjJc':_0x1217db(0x227),'uoETT':_0x1217db(0x17e),'BaAVi':_0x1217db(0x149),'aPpLx':function(_0x39aa0b,_0x2c2542){return _0x39aa0b===_0x2c2542;},'norew':_0x1217db(0x188),'kVSxz':'eaSwt'},_0x599546=_0x133238[_0x1217db(0x28d)][_0x1217db(0x178)],_0x19f87f=_0x449c49[_0x1217db(0x24d)](Number,_0x133238[_0x1217db(0x28d)][_0x1217db(0x164)])||0x14,_0x5d8b44=_0x449c49[_0x1217db(0x24d)](Number,_0x133238['query'][_0x1217db(0x248)])||0x1,_0x16dc55=_0x133238[_0x1217db(0x28d)][_0x1217db(0x246)]||'',_0x16ca8c=_0x449c49[_0x1217db(0x192)](Number,_0x449c49[_0x1217db(0x295)](_0x449c49[_0x1217db(0x238)](_0x5d8b44,0x1),_0x19f87f)),_0x5c81fa=S[_0x1217db(0x1d9)](0x0),_0xd1afc0=new _0x24b468(dbUrl);try{if(_0x449c49['YTtoJ'](_0x449c49['xhTKD'],_0x449c49[_0x1217db(0x2b2)])){await _0xd1afc0[_0x1217db(0x216)]();const _0x280b41=_0xd1afc0['db'](global[_0x1217db(0x1b0)])[_0x1217db(0x176)](global[_0x1217db(0x21f)]);if(_0x599546){if(_0x449c49[_0x1217db(0x2a8)](_0x449c49['XBXkt'],_0x449c49[_0x1217db(0x151)])){const _0x33eca1=_0x56b52c?function(){const _0x31ebb2=_0x1217db;if(_0x3eb9e3){const _0x4b4b40=_0x472eef[_0x31ebb2(0x284)](_0x559c1d,arguments);return _0x48022c=null,_0x4b4b40;}}:function(){};return _0x19b45e=![],_0x33eca1;}else{const _0x1f04a9=new RegExp(_0x599546[_0x1217db(0x2c1)](/[.*+?^${}()|[\]\\]/g,_0x449c49[_0x1217db(0x2d9)]),'i');let _0x4a28d7={};_0x449c49['tHNyL'](isNaN,_0x449c49[_0x1217db(0x1b9)](Number,_0x599546))?_0x4a28d7={'userId':{'$regex':_0x1f04a9}}:_0x4a28d7={'userId':_0x449c49[_0x1217db(0x192)](Number,_0x599546)};var _0x3d4e8b=await _0x280b41[_0x1217db(0x12e)]({'$or':[_0x4a28d7,{'username':{'$regex':_0x1f04a9}},{'userFirstname':{'$regex':_0x1f04a9}}]});}}else var _0x3d4e8b=await _0x280b41[_0x1217db(0x12e)]({});const _0x477b4c=Math['ceil'](_0x449c49[_0x1217db(0x1f9)](_0x3d4e8b,_0x19f87f)),_0x373e3e=_0x449c49[_0x1217db(0x1be)](_0x449c49[_0x1217db(0x29b)](_0x449c49['VIbWo'](Number,_0x5d8b44),0x1),0x1)?'-':_0x449c49[_0x1217db(0x128)](_0x449c49['awIwF'](Number,_0x5d8b44),0x1),_0x1b0f13=_0x449c49['VIbWo'](Number,_0x5d8b44),_0xa68d31=_0x449c49['PxBOo'](_0x449c49['CHFWw'](_0x449c49[_0x1217db(0x24d)](Number,_0x5d8b44),0x1),_0x477b4c)?'-':_0x449c49[_0x1217db(0x2e0)](_0x449c49[_0x1217db(0x29f)](Number,_0x5d8b44),0x1),_0x3b8632=[{'$project':{'_id':0x1,'userIsActive':0x1,'userId':0x1,'username':0x1,'userFullname':{'$concat':[_0x449c49['LmZJA'],'\x20',_0x449c49[_0x1217db(0x2dc)],'\x20',_0x449c49['gZmjX']]},'userAuthority':0x1,'canDelete':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x449c49['ceMyD'],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x5c81fa},'endDate':{'$toDate':_0x449c49['svrby']},'unit':_0x449c49['hgHaD']}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'userId':-0x1}},{'$skip':_0x16ca8c},{'$limit':_0x19f87f}];if(_0x599546){if(_0x449c49['qpcsv'](_0x449c49[_0x1217db(0x1cf)],_0x449c49[_0x1217db(0x219)])){const _0x15cc40=_0x599546?new RegExp(''+_0x599546,'i'):new RegExp('.*');let _0x4c496d={};_0x449c49[_0x1217db(0x24d)](isNaN,_0x449c49[_0x1217db(0x2c4)](Number,_0x599546))?_0x4c496d={'userId':{'$regex':_0x15cc40}}:_0x4c496d={'userId':_0x449c49[_0x1217db(0x24d)](Number,_0x599546)},_0x3b8632[_0x1217db(0x256)]({'$match':{'$or':[_0x4c496d,{'username':{'$regex':_0x15cc40}},{'userFirstname':{'$regex':_0x15cc40}}]}});}else _0x119e33[_0x1217db(0x2b7)](_0x449c49[_0x1217db(0x131)],_0x35c07d),_0xf9a32a[_0x1217db(0x289)](0x194)['sendFile'](_0x20e74b);}const _0x4a70b5=L[_0x1217db(0x2f7)](_0x133238),_0x3e1e8d=_0x4a70b5[_0x1217db(0x1ff)];let _0x1f583f=await _0x280b41[_0x1217db(0x1ba)](_0x3b8632)['toArray']();if(['A'][_0x1217db(0x1cc)](_0x3e1e8d)){if(_0x449c49['YTtoJ'](_0x449c49[_0x1217db(0x294)],_0x449c49[_0x1217db(0x294)])){const _0x120654=_0x4a70b5[_0x1217db(0x1b2)];_0x1f583f=_0x1f583f['filter'](_0x31be99=>{const _0x7f5f56=_0x1217db,_0x2284f2={'IJtKl':function(_0x396ee9,_0x1fbaa1){const _0x2d7c87=_0x4f79;return _0x449c49[_0x2d7c87(0x24d)](_0x396ee9,_0x1fbaa1);},'pgDIF':function(_0x1f03ef,_0x2b5489){const _0x4d483e=_0x4f79;return _0x449c49[_0x4d483e(0x236)](_0x1f03ef,_0x2b5489);},'NJtYE':function(_0x22c40c,_0x56710d){const _0x5deadf=_0x4f79;return _0x449c49[_0x5deadf(0x2da)](_0x22c40c,_0x56710d);},'BcSbb':_0x449c49[_0x7f5f56(0x15f)],'bVwOK':_0x449c49['ukFzH'],'FsKSN':function(_0xd53a87){const _0x267c2d=_0x7f5f56;return _0x449c49[_0x267c2d(0x1f8)](_0xd53a87);}};if(_0x449c49[_0x7f5f56(0x2a8)](_0x449c49[_0x7f5f56(0x1b4)],_0x449c49['yakkZ'])){const _0x1ecf18=lvunRd[_0x7f5f56(0x16f)](_0x2bf098,lvunRd[_0x7f5f56(0x1c8)](lvunRd[_0x7f5f56(0x24c)](lvunRd[_0x7f5f56(0x2fd)],lvunRd[_0x7f5f56(0x22a)]),');'));_0x1b3ef2=lvunRd[_0x7f5f56(0x1f4)](_0x1ecf18);}else{const _0x3013e4=_0x449c49[_0x7f5f56(0x1c9)](_0x31be99[_0x7f5f56(0x1ff)],'A')||_0x449c49['qznuM'](_0x31be99[_0x7f5f56(0x1b2)],_0x120654);return _0x449c49[_0x7f5f56(0x1c9)](_0x31be99[_0x7f5f56(0x1ff)],'O')&&_0x3013e4;}});}else _0x2dc211=_0x541607;}if(_0x16dc55)var _0x36f66b=await _0x280b41['findOne']({'_id':new _0x30e767(_0x16dc55)},{'projection':{'userPassword':0x0}});else var _0x36f66b={};if(_0x36f66b&&_0x449c49[_0x1217db(0x240)](Object[_0x1217db(0x2be)](_0x36f66b)['length'],0x0)){if(_0x449c49[_0x1217db(0x263)](_0x449c49[_0x1217db(0x1e5)],_0x449c49['mQTcY']))return _0x45fd24[_0x1217db(0x2b7)](_0x449c49[_0x1217db(0x131)],_0x545f48),_0x105689['flash'](_0x449c49[_0x1217db(0x2c8)],{'class':_0x449c49[_0x1217db(0x228)],'text':_0x5bdddb['message']}),_0xdc111f[_0x1217db(0x276)](_0x1c183d);else{const _0x400ef6=_0x133238[_0x1217db(0x1c0)](_0x449c49['UkjJc']);_0x400ef6&&_0x449c49[_0x1217db(0x1a6)](_0x400ef6[_0x1217db(0x1da)],0x0)&&(_0x36f66b={..._0x400ef6[0x0]});}}const _0x57df14=await U['renderView'](_0x449c49[_0x1217db(0x146)],_0x1ce90e,{'title':PAGE_MANAGE_USERS,'time':S[_0x1217db(0x17c)](),'msg':_0x133238[_0x1217db(0x1c0)](_0x449c49[_0x1217db(0x2c8)]),'user':L['getSessionData'](_0x133238),'settings':await U['getSettings'](),'load_id':_0x16dc55,'sip':_0x599546,'rpp':_0x19f87f,'page':_0x5d8b44,'pagePre':_0x373e3e,'pageAct':_0x1b0f13,'pageNxt':_0xa68d31,'pageLst':_0x477b4c,'pageRedirect':u,'data':_0x1f583f,'PATH_MAIN':u,'PATH_PRINT':V,'PATH_SAVE':Q,'PATH_NEW':W,'PATH_LOAD':B,'PATH_DELETE':G,'PATH_CHANGES':X,'PATH_DOWNLOAD_EXCEL':ee,'PATH_UPLOAD_EXCEL':se,'PREFIX':te,'USER_AUTHORITIES_JSON':JSON['stringify'](global[_0x1217db(0x2bf)]),'item':_0x36f66b});return _0x1ce90e[_0x1217db(0x123)](_0x57df14);}else{const _0x1c61c3=_0x351aa1?function(){const _0x15b8de=_0x1217db;if(_0x258a03){const _0xec744d=_0x5b902b[_0x15b8de(0x284)](_0x30172b,arguments);return _0x284894=null,_0xec744d;}}:function(){};return _0x2ab52a=![],_0x1c61c3;}}catch(_0x595b80){if(_0x449c49[_0x1217db(0x174)](_0x449c49[_0x1217db(0x147)],_0x449c49[_0x1217db(0x147)]))console[_0x1217db(0x2b7)](_0x595b80[_0x1217db(0x2b6)]),_0x1ce90e['status'](0x194)['sendFile'](file404);else{const _0x262b4f=_0xe56ecb[_0x1217db(0x284)](_0x4d61ec,arguments);return _0x442f86=null,_0x262b4f;}}finally{_0x449c49[_0x1217db(0x18e)](_0x449c49[_0x1217db(0x179)],_0x449c49[_0x1217db(0x26c)])?wBIHaI['tHNyL'](_0x50297e,'0'):_0xd1afc0[_0x1217db(0x13b)]();}}),x['post'](B,_0x170354[_0x164bbf(0x13f)],async(_0xbad1b8,_0x29b6ca)=>{const _0x493cf8=_0x164bbf,_0x2fac68={'nEWIz':function(_0x2026f8,_0x207f0c){return _0x2026f8+_0x207f0c;},'bnwfm':_0x493cf8(0x167),'aZLEJ':_0x493cf8(0x243),'OChdr':_0x493cf8(0x2df),'vqxOx':_0x493cf8(0x1e7),'AWTqY':_0x493cf8(0x24a),'jUZyV':_0x493cf8(0x2a1),'toxCD':_0x493cf8(0x1b1),'xcCXC':function(_0x4440fc,_0x4506ee){return _0x4440fc(_0x4506ee);},'cpcoG':function(_0x1dc07b,_0x14f538){return _0x1dc07b(_0x14f538);},'flVyb':function(_0x17c56b,_0x3f137e){return _0x17c56b!==_0x3f137e;},'nvpww':'wgLaK','tNYJa':'msg','fLXLf':_0x493cf8(0x19e),'vcGYC':_0x493cf8(0x261),'dRbGE':_0x493cf8(0x15b),'womPF':_0x493cf8(0x281),'FqGLM':_0x493cf8(0x20e)},_0x570f1a=_0xbad1b8[_0x493cf8(0x18f)][_0x493cf8(0x246)],_0x3c4ebd=_0xbad1b8['body'][_0x493cf8(0x178)],_0x491f14=_0x2fac68['xcCXC'](Number,_0xbad1b8['body'][_0x493cf8(0x164)])||0x14,_0x2003c6=_0x2fac68[_0x493cf8(0x191)](Number,_0xbad1b8[_0x493cf8(0x18f)]['page'])||0x1,_0x5e012c=u+_0x493cf8(0x274)+_0x3c4ebd+_0x493cf8(0x136)+_0x491f14+_0x493cf8(0x14b)+_0x2003c6+_0x493cf8(0x1bb)+_0x570f1a,_0x1e3b36=new _0x24b468(dbUrl);try{if(_0x2fac68[_0x493cf8(0x23b)](_0x2fac68[_0x493cf8(0x1df)],_0x2fac68[_0x493cf8(0x1df)]))(function(){return!![];}[_0x493cf8(0x1ca)](JOdEPe[_0x493cf8(0x159)](JOdEPe[_0x493cf8(0x187)],JOdEPe[_0x493cf8(0x2cd)]))[_0x493cf8(0x25b)](JOdEPe['OChdr']));else return await _0x1e3b36['db'](dbName)['collection'](dbColl_users)[_0x493cf8(0x2cc)]({'_id':new _0x30e767(_0x570f1a)},{'projection':{'changesHistory':0x0}})?_0xbad1b8['flash'](_0x2fac68[_0x493cf8(0x233)],null):_0xbad1b8[_0x493cf8(0x1c0)](_0x2fac68[_0x493cf8(0x233)],{'class':_0x2fac68['toxCD'],'text':new Error(_0x2fac68[_0x493cf8(0x1f5)])+_0x493cf8(0x252)+_0x570f1a+'\x22'}),_0x29b6ca[_0x493cf8(0x276)](_0x5e012c);}catch(_0x132374){return _0x2fac68['flVyb'](_0x2fac68[_0x493cf8(0x16d)],_0x2fac68[_0x493cf8(0x2ac)])?(console[_0x493cf8(0x2b7)](_0x132374['message']),_0xbad1b8[_0x493cf8(0x1c0)](_0x2fac68[_0x493cf8(0x233)],{'class':_0x2fac68['toxCD'],'text':''+_0x132374[_0x493cf8(0x2b6)]}),_0x29b6ca[_0x493cf8(0x276)](_0x5e012c)):function(_0x56b596){}['constructor'](JOdEPe[_0x493cf8(0x2ba)])[_0x493cf8(0x284)](JOdEPe[_0x493cf8(0x2eb)]);}finally{_0x2fac68[_0x493cf8(0x23b)](_0x2fac68['womPF'],_0x2fac68[_0x493cf8(0x11e)])?_0x1e3b36[_0x493cf8(0x13b)]():(_0x2cdd42[_0x493cf8(0x2b7)](_0x2fac68[_0x493cf8(0x124)],_0x2af5b7['message']),_0x1d21e8['send'](_0xb5af75['stringify']({'isPrint':!0x1,'class':_0x2fac68['toxCD'],'msg':_0xcbaaf7[_0x493cf8(0x2b6)]})));}}),x[_0x164bbf(0x24e)](Q,_0x170354[_0x164bbf(0x13f)],async(_0x403444,_0x1da538)=>{const _0x5597c8=_0x164bbf,_0x4d5a6d={'rljvn':function(_0x4a5cf3){return _0x4a5cf3();},'aLYjs':function(_0x48392a,_0x42265c){return _0x48392a!==_0x42265c;},'vyjCL':_0x5597c8(0x182),'hmKwQ':_0x5597c8(0x18b),'Cgato':function(_0x52161,_0x4985a6){return _0x52161===_0x4985a6;},'OwDAT':function(_0x579170,_0x590b29){return _0x579170!==_0x590b29;},'JUMbl':_0x5597c8(0x285),'wwuPm':function(_0x4ef11e,_0x178112,_0x21b8d6){return _0x4ef11e(_0x178112,_0x21b8d6);},'bYHgN':function(_0x1fcf73){return _0x1fcf73();},'fCeZh':function(_0x4e7448,_0x4afb10){return _0x4e7448(_0x4afb10);},'CWBGD':function(_0xf3b115,_0x381ff7){return _0xf3b115(_0x381ff7);},'vzsSk':function(_0x281210,_0x1bdb56){return _0x281210(_0x1bdb56);},'PyAtz':'msg','wYWyy':_0x5597c8(0x1b1),'fVuhL':_0x5597c8(0x22b),'IPDlL':_0x5597c8(0x23c),'LbCJY':function(_0x5b68f6,_0x25cbde){return _0x5b68f6(_0x25cbde);},'xpOCU':_0x5597c8(0x1ef),'NQYsc':function(_0x43a1fa,_0x4c8aa4){return _0x43a1fa+_0x4c8aa4;},'qhHQX':'chain','IlCMx':'input','gORxE':_0x5597c8(0x2a1),'vefRs':function(_0x401314,_0xdd5402){return _0x401314(_0xdd5402);},'LaVFs':'return\x20(function()\x20','nLwae':_0x5597c8(0x189),'TFQFB':_0x5597c8(0x2b7),'UyHnt':_0x5597c8(0x2d3),'PLHzR':'info','gsrHw':_0x5597c8(0x175),'qWVWI':_0x5597c8(0x275),'kdMAo':_0x5597c8(0x2c6),'SLomf':_0x5597c8(0x23a),'FMDzI':function(_0x3b95a5,_0xc51d36){return _0x3b95a5<_0xc51d36;},'ZZaUR':function(_0x1fb794,_0xdd7c88){return _0x1fb794==_0xdd7c88;},'IGsun':function(_0x52e838,_0x55c2dd){return _0x52e838!==_0x55c2dd;},'cUsJS':_0x5597c8(0x245),'xfZyL':_0x5597c8(0x2c7),'jjMfH':'userFlash','yrUNx':_0x5597c8(0x22c),'VRqwk':function(_0x3c89b8,_0xad4ee7){return _0x3c89b8!==_0xad4ee7;},'XbWeG':'BuYdP','ycyUi':function(_0x7d658c,_0xe49efa){return _0x7d658c===_0xe49efa;},'RgqEI':_0x5597c8(0x1c5),'xsPab':_0x5597c8(0x260),'ZjLqj':function(_0x5d9ef2,_0x92fa6a){return _0x5d9ef2==_0x92fa6a;},'yZUsj':_0x5597c8(0x1e6),'HyCeN':function(_0xb68657,_0x28f8bf){return _0xb68657==_0x28f8bf;},'avGpL':function(_0x44d78b,_0x53ace3){return _0x44d78b==_0x53ace3;},'IWLSJ':_0x5597c8(0x251),'IxSXv':_0x5597c8(0x2de),'GQmMl':function(_0x53ee05,_0x458bf2){return _0x53ee05>_0x458bf2;},'maXDM':_0x5597c8(0x28b),'jycMs':_0x5597c8(0x2ab),'yBjBx':function(_0x157740,_0x8a5fee){return _0x157740!==_0x8a5fee;},'PZsKl':_0x5597c8(0x296),'cWhET':_0x5597c8(0x2bc),'HoOgI':_0x5597c8(0x293),'xwvnA':function(_0x7e87e3,_0x29bc8a){return _0x7e87e3==_0x29bc8a;},'sOhWj':function(_0x1e1512,_0x290fa5){return _0x1e1512===_0x290fa5;},'joght':_0x5597c8(0x2d6),'HluKp':_0x5597c8(0x28f),'PmdUK':_0x5597c8(0x2cf),'LNjSy':function(_0x4d5de8,_0x193ca3){return _0x4d5de8<_0x193ca3;},'yeFbp':_0x5597c8(0x1b8),'Kugfv':'Not\x20Found','QLxwr':_0x5597c8(0x16c),'tOrpN':_0x5597c8(0x1f0),'XMEVc':_0x5597c8(0x1d0),'swVKk':function(_0x487447,_0x513c2d){return _0x487447===_0x513c2d;},'XFWSA':'zUzrZ','VVKvK':function(_0x2a06d2,_0x1b6d96){return _0x2a06d2>_0x1b6d96;},'ucUUR':'EeODv','PbKuc':_0x5597c8(0x2ca),'kcYps':'Vcvwb','aknrt':_0x5597c8(0x2ae),'jWONr':_0x5597c8(0x183),'KaXTq':_0x5597c8(0x144)},_0x56bf6b=[];let _0x2af883=!0x1;const _0x4f588c=async()=>{const _0x57940b=_0x5597c8;if(_0x4d5a6d[_0x57940b(0x11f)](_0x4d5a6d[_0x57940b(0x254)],_0x4d5a6d[_0x57940b(0x199)])){if(_0x4d5a6d[_0x57940b(0x1a5)](_0x56bf6b[_0x57940b(0x1da)],0x0)){if(_0x4d5a6d[_0x57940b(0x17b)](_0x4d5a6d[_0x57940b(0x2d1)],_0x4d5a6d[_0x57940b(0x2d1)]))mZNxpT['rljvn'](_0x49647d);else{_0x2af883=!0x1;return;}}_0x2af883=!0x0;const {req:_0x5c825b,res:_0x3e97a0}=_0x56bf6b['shift']();await _0x4d5a6d['wwuPm'](_0x41daf1,_0x5c825b,_0x3e97a0),_0x4d5a6d[_0x57940b(0x29d)](_0x4f588c);}else _0x1fe8a5[_0x57940b(0x13b)]();},_0x41daf1=async(_0x1e2e4c,_0xb2bbbd)=>{const _0x513952=_0x5597c8,_0x2b5f4a={'VterQ':_0x4d5a6d[_0x513952(0x280)],'iFVnL':_0x4d5a6d[_0x513952(0x226)],'kaeOO':_0x4d5a6d['fVuhL'],'jUOlE':_0x4d5a6d['IPDlL'],'Dkbzz':function(_0x4c9872,_0x21c318){const _0x4931bf=_0x513952;return _0x4d5a6d[_0x4931bf(0x122)](_0x4c9872,_0x21c318);},'HqXsS':_0x4d5a6d[_0x513952(0x20f)],'EhffP':function(_0x24b9a9,_0x4eddb3){const _0x57da9e=_0x513952;return _0x4d5a6d[_0x57da9e(0x1f2)](_0x24b9a9,_0x4eddb3);},'PSwsj':_0x4d5a6d[_0x513952(0x283)],'KGeRd':_0x4d5a6d[_0x513952(0x22f)],'XnHvd':function(_0x4511b5,_0x2c8af2){const _0x441c23=_0x513952;return _0x4d5a6d[_0x441c23(0x171)](_0x4511b5,_0x2c8af2);},'jfKjL':function(_0x709a6d){const _0x55e34c=_0x513952;return _0x4d5a6d[_0x55e34c(0x29d)](_0x709a6d);},'dqTHK':_0x4d5a6d[_0x513952(0x2a5)],'JkNSo':function(_0x14debf,_0x4e809d){const _0x745d55=_0x513952;return _0x4d5a6d[_0x745d55(0x2c2)](_0x14debf,_0x4e809d);},'gyUEj':_0x4d5a6d[_0x513952(0x1ac)],'QQQHz':_0x4d5a6d['nLwae'],'tnVgV':function(_0x88b426){const _0x3270eb=_0x513952;return _0x4d5a6d[_0x3270eb(0x2db)](_0x88b426);},'muNVG':_0x4d5a6d[_0x513952(0x145)],'WKOOb':_0x4d5a6d[_0x513952(0x13e)],'gUqvU':_0x4d5a6d[_0x513952(0x241)],'QXHvs':_0x4d5a6d['gsrHw'],'gxUdk':_0x4d5a6d[_0x513952(0x1ec)],'LYOmT':_0x4d5a6d['kdMAo'],'OLwMk':_0x4d5a6d[_0x513952(0x207)],'PoTNt':function(_0x3e9a8d,_0x191843){const _0x1b5c6b=_0x513952;return _0x4d5a6d[_0x1b5c6b(0x272)](_0x3e9a8d,_0x191843);},'NzNkr':function(_0x4ec697,_0x13cf57){const _0x34134e=_0x513952;return _0x4d5a6d[_0x34134e(0x17b)](_0x4ec697,_0x13cf57);},'EFbRi':function(_0x91a8b8,_0x3834ae){const _0x4df64d=_0x513952;return _0x4d5a6d[_0x4df64d(0x2a4)](_0x91a8b8,_0x3834ae);},'RtyLO':function(_0x436e06,_0xf3ff2f){return _0x4d5a6d['OwDAT'](_0x436e06,_0xf3ff2f);}};if(_0x4d5a6d[_0x513952(0x157)](_0x4d5a6d['cUsJS'],_0x4d5a6d[_0x513952(0x194)])){const _0xd8ebbd=_0x1e2e4c[_0x513952(0x18f)]['_id'];delete _0x1e2e4c[_0x513952(0x18f)][_0x513952(0x253)];const _0x422d57=_0x1e2e4c['body'][_0x513952(0x178)],_0x1ca385=_0x4d5a6d[_0x513952(0x122)](Number,_0x1e2e4c[_0x513952(0x18f)]['rpp'])||0x14,_0x182576=_0x4d5a6d[_0x513952(0x171)](Number,_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x248)])||0x1;delete _0x1e2e4c[_0x513952(0x18f)]['rpp'],delete _0x1e2e4c[_0x513952(0x18f)][_0x513952(0x178)],delete _0x1e2e4c['body'][_0x513952(0x248)],_0x1e2e4c['body'][_0x513952(0x1b2)]=_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x1b2)]?_0x4d5a6d['CWBGD'](Number,_0x1e2e4c['body'][_0x513952(0x1b2)]):_0x1e2e4c[_0x513952(0x18f)]['userId'];const _0x570e5e=_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x255)]?.['trim'](),_0x2c12d9=_0x1e2e4c[_0x513952(0x18f)]['userEmail']?.[_0x513952(0x2dd)](),_0x24224c=_0x1e2e4c['body'][_0x513952(0x1b2)],_0x122f08=''+u,_0x166a8e=u+_0x513952(0x274)+_0x422d57+_0x513952(0x136)+_0x1ca385+_0x513952(0x14b)+_0x182576+_0x513952(0x1bb)+_0xd8ebbd;if(!new RegExp(global[_0x513952(0x2aa)])[_0x513952(0x266)](_0x570e5e))return _0x1e2e4c['flash'](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c[_0x513952(0x18f)]),_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d['PyAtz'],{'class':_0x4d5a6d['wYWyy'],'text':global[_0x513952(0x1bf)]}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e);if(_0x2c12d9&&!new RegExp(global[_0x513952(0x15a)])[_0x513952(0x266)](_0x2c12d9))return _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c['body']),_0x1e2e4c['flash'](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x226)],'text':_0x4d5a6d[_0x513952(0x1a4)]}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e);const _0xb28278=new _0x24b468(dbUrl);try{if(_0x4d5a6d[_0x513952(0x1d4)](_0x4d5a6d[_0x513952(0x2a9)],_0x4d5a6d['XbWeG'])){const _0x4b2fd1=_0x694e1f?new _0x176ba9(''+_0x3da2ab,'i'):new _0x5a9b54('.*');let _0xec7b64={};_0x4d5a6d[_0x513952(0x171)](_0x742330,_0x4d5a6d[_0x513952(0x215)](_0x1c2731,_0x37e87e))?_0xec7b64={'userId':{'$regex':_0x4b2fd1}}:_0xec7b64={'userId':_0x4d5a6d[_0x513952(0x171)](_0x14e968,_0x1509d3)},_0x31e182['unshift']({'$match':{'$or':[_0xec7b64,{'username':{'$regex':_0x4b2fd1}},{'userFirstname':{'$regex':_0x4b2fd1}}]}});}else{await _0xb28278['connect']();const _0x6d78d9=_0xb28278['db'](dbName),_0x5a9b48=_0x6d78d9[_0x513952(0x176)](dbColl_users);if(_0xd8ebbd){if(_0x4d5a6d[_0x513952(0x29e)](_0x4d5a6d[_0x513952(0x16a)],_0x4d5a6d[_0x513952(0x16a)])){var _0x5d539a=await _0x5a9b48[_0x513952(0x2cc)]({'_id':{'$ne':new _0x30e767(_0xd8ebbd)},'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x2c12d9+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x570e5e+'$','i')}},{'userId':_0x24224c}]});if(_0x5d539a)return _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c[_0x513952(0x18f)]),_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d['PyAtz'],{'class':_0x4d5a6d['wYWyy'],'text':_0x4d5a6d[_0x513952(0x1e8)]}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e);const _0x28b272=await _0x5a9b48['findOne']({'_id':new _0x30e767(_0xd8ebbd)}),_0x2ceaaa=[_0x4d5a6d['ZjLqj'](_0x1e2e4c['body']['userIsActive'],_0x4d5a6d[_0x513952(0x15d)]),_0x4d5a6d[_0x513952(0x2a4)](_0x28b272[_0x513952(0x255)],_0x1e2e4c['body'][_0x513952(0x255)]),_0x4d5a6d[_0x513952(0x2cb)](_0x28b272[_0x513952(0x2e6)],_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x2e6)]),_0x4d5a6d[_0x513952(0x177)](_0x28b272[_0x513952(0x1ff)],_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x1ff)])],_0x1a4178={'$set':_0x1e2e4c[_0x513952(0x18f)]},_0x461305=await _0x5a9b48['updateOne']({'_id':new _0x30e767(_0xd8ebbd)},_0x1a4178,{'upsert':!0x1});if(_0x461305['acknowledged']&&_0x4d5a6d[_0x513952(0x2bd)](_0x461305['modifiedCount'],0x1)){if(_0x4d5a6d['Cgato'](_0x4d5a6d[_0x513952(0x26d)],_0x4d5a6d[_0x513952(0x190)]))mZNxpT['vzsSk'](_0x540656,0x0);else{const _0x4ebf67=L[_0x513952(0x2f7)](_0x1e2e4c);let _0x34d847='อัปเดท\x20\x22'+_0x24224c+_0x513952(0x1a3);const _0x33b838=q[_0x513952(0x20c)](_0x28b272,_0x1e2e4c[_0x513952(0x18f)]);if(_0x33b838&&_0x4d5a6d[_0x513952(0x160)](_0x33b838[_0x513952(0x1da)],0x0)){if(_0x4d5a6d['Cgato'](_0x4d5a6d[_0x513952(0x14f)],_0x4d5a6d[_0x513952(0x14f)])){const _0x326dbb={'dateTime':S[_0x513952(0x1d9)](),'userId':_0x4ebf67[_0x513952(0x1b2)],'userFullname':_0x4ebf67[_0x513952(0x2a2)],'changes':_0x33b838};await _0x5a9b48[_0x513952(0x1e3)]({'userId':_0x24224c},{'$push':{'changesHistory':{'$each':[_0x326dbb],'$position':0x0}}}),_0x34d847+=_0x4d5a6d['jycMs'];}else{_0x107ff4[_0x513952(0x29a)][_0x513952(0x165)](_0x3ed537=>(_0x3ed537&&_0x1ab110[_0x513952(0x2b7)](_0x513952(0x1b3),_0x3ed537),_0x33f939[_0x513952(0x276)]('/')));return;}}if(_0x2ceaaa[_0x513952(0x1cc)](!0x1)){if(_0x4d5a6d['yBjBx'](_0x4d5a6d['PZsKl'],_0x4d5a6d[_0x513952(0x1d2)])){const _0x9968aa=await _0x6d78d9[_0x513952(0x176)](global[_0x513952(0x15c)])[_0x513952(0x232)]({'session.user_id':_0xd8ebbd});_0x9968aa['acknowledged']&&_0x4d5a6d[_0x513952(0x160)](_0x9968aa[_0x513952(0x130)],0x0)?_0x34d847+=_0x513952(0x1fb)+_0x9968aa[_0x513952(0x130)]+_0x513952(0x1aa):_0x34d847+=_0x4d5a6d['HoOgI'];}else _0x562ea6[_0x513952(0x13b)]();}if(_0x2ceaaa[_0x513952(0x1cc)](!0x1)&&_0x4d5a6d[_0x513952(0x1b5)](_0x4ebf67[_0x513952(0x2d4)],_0xd8ebbd)){if(_0x4d5a6d['sOhWj'](_0x4d5a6d[_0x513952(0x152)],_0x4d5a6d[_0x513952(0x259)]))return _0x179712['log'](_0x2fb80b[_0x513952(0x2b6)]),_0x34452f[_0x513952(0x1c0)](_0x2b5f4a[_0x513952(0x27a)],{'class':_0x2b5f4a[_0x513952(0x16b)],'text':''+_0x21913c[_0x513952(0x2b6)]}),_0x2220c1[_0x513952(0x276)](_0x1c48dd);else{_0x1e2e4c[_0x513952(0x29a)][_0x513952(0x165)](_0x1161dc=>(_0x1161dc&&console[_0x513952(0x2b7)](_0x513952(0x1b3),_0x1161dc),_0xb2bbbd[_0x513952(0x276)]('/')));return;}}else return _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x28c)],'text':_0x34d847}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e);}}else return _0x461305[_0x513952(0x26b)]&&(_0x4d5a6d[_0x513952(0x1ae)](_0x461305[_0x513952(0x2ad)],0x1)||_0x4d5a6d[_0x513952(0x272)](_0x461305[_0x513952(0x1ce)],0x1))?(_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x205)],'text':'\x22'+_0x24224c+_0x513952(0x1ed)}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e)):(_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c['body']),_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x226)],'text':new Error(_0x4d5a6d[_0x513952(0x13a)])+_0x513952(0x252)+_0x24224c+'\x22'}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e));}else{const _0x5793b7=new _0x58e581(AZbTZU['kaeOO']),_0x3567ae=new _0x886e0a(AZbTZU[_0x513952(0x206)],'i'),_0x34e8d9=AZbTZU['Dkbzz'](_0xcd75e9,AZbTZU[_0x513952(0x2e2)]);!_0x5793b7[_0x513952(0x266)](AZbTZU[_0x513952(0x1a2)](_0x34e8d9,AZbTZU[_0x513952(0x1a7)]))||!_0x3567ae[_0x513952(0x266)](AZbTZU[_0x513952(0x1a2)](_0x34e8d9,AZbTZU[_0x513952(0x2ec)]))?AZbTZU[_0x513952(0x2d8)](_0x34e8d9,'0'):AZbTZU['jfKjL'](_0x4892e1);}}else{if(_0x4d5a6d[_0x513952(0x1a5)](_0x4d5a6d[_0x513952(0x25a)],_0x4d5a6d['tOrpN']))_0x18a71e[_0x513952(0x2b7)](_0x2b5f4a[_0x513952(0x138)],_0x4534e7),_0x3e2aa9['status'](0x194)[_0x513952(0x2f8)](_0x5f0c4d);else{if(await _0x5a9b48[_0x513952(0x2cc)]({'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x2c12d9+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x570e5e+'$','i')}}]}))return _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c['body']),_0x1e2e4c['flash'](_0x4d5a6d['PyAtz'],{'class':_0x4d5a6d['wYWyy'],'text':_0x4d5a6d[_0x513952(0x235)]}),_0xb2bbbd[_0x513952(0x276)](_0x166a8e);const _0x3e08a9=await _0x5a9b48['find']({},{'projection':{'userId':0x1}})['sort']({'userId':-0x1})[_0x513952(0x168)](0x1)[_0x513952(0x22e)](),_0x2cd2b6=_0x4d5a6d['GQmMl'](_0x3e08a9[_0x513952(0x1da)],0x0)?_0x4d5a6d['NQYsc'](_0x3e08a9[0x0][_0x513952(0x1b2)],0x1):0x3e8;_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x1b2)]=_0x2cd2b6,_0x1e2e4c[_0x513952(0x18f)][_0x513952(0x288)]=S[_0x513952(0x1d9)](0x5a0);const _0x30c11b=U[_0x513952(0x120)]();_0x1e2e4c['body'][_0x513952(0x287)]=await _0x4a3454[_0x513952(0x286)](_0x30c11b,global[_0x513952(0x26f)]);const _0xb23b78=await _0x5a9b48[_0x513952(0x173)](_0x1e2e4c[_0x513952(0x18f)]);if(_0xb23b78[_0x513952(0x26b)]&&_0xb23b78[_0x513952(0x292)]){if(_0x4d5a6d[_0x513952(0x13d)](_0x4d5a6d['XFWSA'],_0x4d5a6d['XFWSA'])){const _0x4df07e=_0xb23b78[_0x513952(0x292)][_0x513952(0x185)](),_0x5b3e4b=u+_0x513952(0x274)+_0x422d57+_0x513952(0x136)+_0x1ca385+_0x513952(0x14b)+_0x182576+'&load_id='+_0x4df07e,_0x49e855={..._0x1e2e4c['body']};if(delete _0x49e855[_0x513952(0x287)],_0x2c12d9[_0x513952(0x1cc)]('@')&&_0x2c12d9[_0x513952(0x1cc)]('.')&&_0x4d5a6d['VVKvK'](_0x2c12d9[_0x513952(0x1da)],0x5)){if(_0x4d5a6d['Cgato'](_0x4d5a6d[_0x513952(0x217)],_0x4d5a6d[_0x513952(0x217)])){const _0x3c71c8=await U[_0x513952(0x1f3)]();if(!_0x3c71c8||!_0x3c71c8[_0x513952(0x1dc)]||!_0x3c71c8[_0x513952(0x163)])return _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x205)],'text':'สร้างยูสเซอร์\x20'+_0x2cd2b6+_0x513952(0x21a)}),_0xb2bbbd[_0x513952(0x276)](_0x5b3e4b);Z[_0x513952(0x170)](_0x49e855,_0x30c11b)['then'](_0x2afffc=>(_0x1e2e4c[_0x513952(0x1c0)](_0x513952(0x135),{'class':_0x513952(0x2cf),'text':_0x513952(0x1e9)+_0x2c12d9+'){{sep}}(CODE\x20:\x20'+_0x2afffc['response']+')'}),_0xb2bbbd[_0x513952(0x276)](_0x5b3e4b)))[_0x513952(0x2fc)](_0x20731c=>(_0x1e2e4c[_0x513952(0x1c0)](_0x513952(0x227),_0x1e2e4c['body']),_0x1e2e4c[_0x513952(0x1c0)](_0x513952(0x135),{'class':_0x513952(0x1b1),'text':''+_0x20731c['message']}),_0xb2bbbd[_0x513952(0x276)](_0x5b3e4b)));}else{let _0x498812;try{const _0x44ad43=AZbTZU[_0x513952(0x2e8)](_0x561c07,AZbTZU[_0x513952(0x1a2)](AZbTZU[_0x513952(0x1a2)](AZbTZU[_0x513952(0x2f0)],AZbTZU[_0x513952(0x25d)]),');'));_0x498812=AZbTZU[_0x513952(0x25c)](_0x44ad43);}catch(_0xe19c5c){_0x498812=_0x20eb8e;}const _0x456352=_0x498812['console']=_0x498812[_0x513952(0x257)]||{},_0x2fd198=[AZbTZU['muNVG'],AZbTZU[_0x513952(0x224)],AZbTZU[_0x513952(0x1de)],AZbTZU[_0x513952(0x2d7)],AZbTZU['gxUdk'],AZbTZU[_0x513952(0x140)],AZbTZU[_0x513952(0x202)]];for(let _0x4b0f2f=0x0;AZbTZU[_0x513952(0x1c6)](_0x4b0f2f,_0x2fd198[_0x513952(0x1da)]);_0x4b0f2f++){const _0x330eee=_0x204f89[_0x513952(0x1ca)][_0x513952(0x198)]['bind'](_0x31630d),_0x1080d2=_0x2fd198[_0x4b0f2f],_0x36b4e4=_0x456352[_0x1080d2]||_0x330eee;_0x330eee[_0x513952(0x213)]=_0x5b3e75['bind'](_0x240add),_0x330eee[_0x513952(0x185)]=_0x36b4e4[_0x513952(0x185)][_0x513952(0x1bd)](_0x36b4e4),_0x456352[_0x1080d2]=_0x330eee;}}}else return _0x1e2e4c['flash'](_0x4d5a6d[_0x513952(0x211)],_0x1e2e4c[_0x513952(0x18f)]),_0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d[_0x513952(0x28c)],'text':_0x513952(0x181)+_0x2c12d9}),_0xb2bbbd['redirect'](_0x5b3e4b);}else{const _0x3919f3=_0x16580d[_0x513952(0x1b2)];_0x4fba8c=_0x3f298a[_0x513952(0x27c)](_0x1f362b=>{const _0x45e225=_0x513952,_0x4a44f1=_0x2b5f4a['NzNkr'](_0x1f362b[_0x45e225(0x1ff)],'A')||_0x2b5f4a[_0x45e225(0x1ad)](_0x1f362b[_0x45e225(0x1b2)],_0x3919f3);return _0x2b5f4a[_0x45e225(0x2e3)](_0x1f362b[_0x45e225(0x1ff)],'O')&&_0x4a44f1;});}}else _0x1e2e4c[_0x513952(0x1c0)](_0x4d5a6d[_0x513952(0x280)],{'class':_0x4d5a6d['wYWyy'],'text':_0x4d5a6d[_0x513952(0x162)]}),_0xb2bbbd[_0x513952(0x276)](_0x122f08);}}}}catch(_0x1673ad){if(_0x4d5a6d[_0x513952(0x13d)](_0x4d5a6d[_0x513952(0x129)],_0x4d5a6d[_0x513952(0x2b8)])){const _0xc504d5=_0x1c248e[_0x513952(0x1ca)][_0x513952(0x198)][_0x513952(0x1bd)](_0x5f06b6),_0x3f06a0=_0x3e785b[_0xe19465],_0x39102a=_0x2fd171[_0x3f06a0]||_0xc504d5;_0xc504d5[_0x513952(0x213)]=_0x6dda25[_0x513952(0x1bd)](_0x2810b5),_0xc504d5[_0x513952(0x185)]=_0x39102a['toString']['bind'](_0x39102a),_0x36f5b1[_0x3f06a0]=_0xc504d5;}else console[_0x513952(0x2b7)](_0x4d5a6d[_0x513952(0x2a5)],_0x1673ad),_0xb2bbbd['status'](0x194)['sendFile'](file404);}finally{if(_0x4d5a6d[_0x513952(0x11f)](_0x4d5a6d['jWONr'],_0x4d5a6d[_0x513952(0x222)]))_0xb28278[_0x513952(0x13b)]();else return _0x227091;}}else{const _0x3d806a=_0x2b5f4a[_0x513952(0x2e3)](_0x1ea991[_0x513952(0x1ff)],'A')||_0x2b5f4a[_0x513952(0x1ad)](_0x2ce75c[_0x513952(0x1b2)],_0xa482bb);return _0x2b5f4a[_0x513952(0x2e3)](_0x1e6a0d[_0x513952(0x1ff)],'O')&&_0x3d806a;}};_0x56bf6b[_0x5597c8(0x121)]({'req':_0x403444,'res':_0x1da538}),_0x2af883||_0x4d5a6d[_0x5597c8(0x2db)](_0x4f588c);}),x[_0x164bbf(0x24e)](W,_0x170354[_0x164bbf(0x13f)],async(_0x2a66ff,_0x5ae725)=>{const _0x1a5143=_0x164bbf,_0x4633aa={'vPaqh':_0x1a5143(0x22b),'PBpTH':_0x1a5143(0x23c),'NTauW':function(_0x5737a6,_0x352ea5){return _0x5737a6(_0x352ea5);},'nUpTx':'init','MYlHR':function(_0x4e05be,_0xa5aee7){return _0x4e05be+_0xa5aee7;},'sOOcH':_0x1a5143(0x2fa),'RagRw':'input','FgqoM':function(_0x243203,_0x31832e){return _0x243203(_0x31832e);},'JCDav':function(_0x1c58a7){return _0x1c58a7();},'SPcWP':function(_0x5baa73,_0xe7eb49,_0x549a44){return _0x5baa73(_0xe7eb49,_0x549a44);},'bDVhS':function(_0x3a28da,_0x5aed8c){return _0x3a28da(_0x5aed8c);},'yoCiw':function(_0x525ac3,_0x1d7ecf){return _0x525ac3===_0x1d7ecf;},'IwSoZ':_0x1a5143(0x28a),'EKsPJ':_0x1a5143(0x1ea),'ylLAD':function(_0x34a1b2,_0x3da16e){return _0x34a1b2>_0x3da16e;},'IycIO':function(_0x435073,_0x16d1d7){return _0x435073+_0x16d1d7;},'nJAVK':_0x1a5143(0x2c3),'APdol':_0x1a5143(0x28e),'NfBwY':_0x1a5143(0x1e6),'NvjuU':'เกิดข้อผิดพลาดขณะเพิ่มผู้ใช้ใหม่','uarhn':function(_0x3d3a2a,_0x18e658){return _0x3d3a2a!==_0x18e658;},'RKPCz':_0x1a5143(0x221),'llbTd':_0x1a5143(0x2a1),'TqHIz':function(_0x339096,_0x472e79){return _0x339096===_0x472e79;},'UHXfF':_0x1a5143(0x150),'VRVSy':_0x1a5143(0x27f)},_0x5de234=new _0x24b468(dbUrl),_0x4caab1=''+u;try{if(_0x4633aa[_0x1a5143(0x133)](_0x4633aa[_0x1a5143(0x127)],_0x4633aa['EKsPJ']))TEImVs['SPcWP'](_0x54999b,this,function(){const _0x2249ec=_0x1a5143,_0x55a4e7=new _0x54be28(TEImVs['vPaqh']),_0x3f4ff9=new _0x1b6908(TEImVs[_0x2249ec(0x237)],'i'),_0x1b358d=TEImVs[_0x2249ec(0x169)](_0x4153ae,TEImVs[_0x2249ec(0x223)]);!_0x55a4e7[_0x2249ec(0x266)](TEImVs[_0x2249ec(0x265)](_0x1b358d,TEImVs[_0x2249ec(0x234)]))||!_0x3f4ff9['test'](TEImVs[_0x2249ec(0x265)](_0x1b358d,TEImVs[_0x2249ec(0x1fd)]))?TEImVs[_0x2249ec(0x2ed)](_0x1b358d,'0'):TEImVs[_0x2249ec(0x143)](_0x5707c2);})();else{await _0x5de234['connect']();const _0x27bb72=_0x5de234['db'](dbName)[_0x1a5143(0x176)](dbColl_users);var _0x57ee06=await _0x27bb72[_0x1a5143(0x20b)]({})[_0x1a5143(0x197)]({'userId':-0x1})['limit'](0x1)[_0x1a5143(0x22e)](),_0x1e37aa=0x0;if(_0x4633aa[_0x1a5143(0x18c)](_0x57ee06[_0x1a5143(0x1da)],0x0))_0x1e37aa=_0x4633aa[_0x1a5143(0x244)](_0x57ee06[0x0]['userId'],0x1);else return _0x5ae725['send']({'isCreate':!0x1,'msg':_0x4633aa['nJAVK'],'redirectUrl':_0x4caab1});const _0x10df86=process[_0x1a5143(0x139)][_0x1a5143(0x1cb)]||_0x4633aa['APdol'],_0x4b55e8={'userId':_0x1e37aa,'userEmail':'user_'+_0x1e37aa+'@gmail.com','username':'user_'+_0x1e37aa,'userPrefix':'','userFirstname':_0x1a5143(0x269)+_0x1e37aa,'userLastname':'','userAuthority':'U','userIsActive':_0x4633aa[_0x1a5143(0x1f6)],'userPassword':await _0x4a3454[_0x1a5143(0x286)](_0x10df86,global['BCRYPT_NUMBER']),'dateTimeCanDelete':S['getDateTime'](oe)},_0x1eaca5=await _0x27bb72['insertOne'](_0x4b55e8);return _0x1eaca5['acknowledged']&&_0x1eaca5[_0x1a5143(0x292)]?_0x5ae725[_0x1a5143(0x123)]({'isCreate':!0x0,'msg':'สร้างผู้ใช้ใหม่\x20\x22'+_0x4b55e8[_0x1a5143(0x255)]+_0x1a5143(0x208)+_0x10df86+_0x1a5143(0x141),'redirectUrl':u+_0x1a5143(0x239)+_0x1eaca5[_0x1a5143(0x292)]['toString']()}):_0x5ae725[_0x1a5143(0x123)]({'isCreate':!0x1,'msg':_0x4633aa['NvjuU'],'redirectUrl':_0x4caab1});}}catch(_0x4f3aa2){if(_0x4633aa['uarhn'](_0x4633aa[_0x1a5143(0x214)],_0x4633aa[_0x1a5143(0x214)])){if(_0x219b30)return _0x5adb22;else TEImVs[_0x1a5143(0x2f3)](_0x166240,0x0);}else console[_0x1a5143(0x2b7)](_0x4633aa['llbTd'],_0x4f3aa2),_0x5ae725[_0x1a5143(0x289)](0x194)[_0x1a5143(0x2f8)](_0x4caab1);}finally{if(_0x4633aa[_0x1a5143(0x166)](_0x4633aa[_0x1a5143(0x154)],_0x4633aa[_0x1a5143(0x2a7)])){const _0x76e540=_0x406042['apply'](_0x7fa21d,arguments);return _0xb01df7=null,_0x76e540;}else _0x5de234['close']();}}),x[_0x164bbf(0x24e)](G,_0x170354[_0x164bbf(0x13f)],async(_0x18ed49,_0x5f19eb)=>{const _0x3d7af0=_0x164bbf,_0x478d00={'fobEM':function(_0x2bb202,_0x2ad781){return _0x2bb202(_0x2ad781);},'WbsUh':function(_0x3cb518,_0x49b2b3){return _0x3cb518(_0x49b2b3);},'ZMxEX':function(_0x13cf52,_0x1dc872){return _0x13cf52!=_0x1dc872;},'ZoBFv':'userId','TaDyh':function(_0x57c29b,_0x6790b1){return _0x57c29b!==_0x6790b1;},'dhIfi':_0x3d7af0(0x25f),'lYKDE':_0x3d7af0(0x135),'IxpQA':_0x3d7af0(0x1b1),'XJgnG':function(_0x391014,_0x9b9674){return _0x391014===_0x9b9674;},'maKSC':function(_0x2eb0ec,_0x377a09){return _0x2eb0ec===_0x377a09;},'RKfmA':'UVtXs','GijoD':_0x3d7af0(0x21b),'DmTQG':function(_0x340bea,_0x38db09){return _0x340bea>_0x38db09;},'fOMii':_0x3d7af0(0x293),'zkfmA':_0x3d7af0(0x2cf),'cTLdv':'error\x20===>\x20'};let {_id_toDelete:_0xf3da4,load_id:_0x39c6b3,sip:_0x2f4c25,Id_toDelete:_0x3a430c}=_0x18ed49[_0x3d7af0(0x18f)];const _0x209e80=_0x478d00[_0x3d7af0(0x14c)](Number,_0x18ed49[_0x3d7af0(0x18f)][_0x3d7af0(0x164)])||0x14,_0x3caf32=_0x478d00[_0x3d7af0(0x14c)](Number,_0x18ed49[_0x3d7af0(0x18f)][_0x3d7af0(0x248)])||0x1;_0x3a430c=_0x478d00[_0x3d7af0(0x126)](Number,_0x3a430c);const _0x38ee72=_0xf3da4&&_0x478d00['ZMxEX'](_0xf3da4,_0x39c6b3)?_0x3d7af0(0x1bb)+_0xf3da4:'',_0x15f1fc=u+'?sip='+_0x2f4c25+_0x3d7af0(0x136)+_0x209e80+_0x3d7af0(0x14b)+_0x3caf32+_0x38ee72,_0x314418=new _0x24b468(global[_0x3d7af0(0x1e0)]);try{await _0x314418[_0x3d7af0(0x216)]();const _0x1ea89b=_0x314418['db'](global[_0x3d7af0(0x1b0)]),_0x3464a1=_0x1ea89b[_0x3d7af0(0x176)](global['dbColl_users']),_0x43c009=[{'coll':_0x1ea89b[_0x3d7af0(0x176)](global['dbColl_docs']),'name':global['dbColl_docs'],'key':_0x478d00[_0x3d7af0(0x201)]}];for(const {coll:_0x38183c,name:_0x4cf3d3,key:_0x208010}of _0x43c009){if(_0x478d00[_0x3d7af0(0x282)](_0x478d00['dhIfi'],_0x478d00[_0x3d7af0(0x134)]))_0x14d3a2['close']();else{const _0x409808={};if(_0x409808[_0x208010]=_0x3a430c,await _0x38183c[_0x3d7af0(0x2cc)](_0x409808))return await _0x3464a1[_0x3d7af0(0x1e3)]({'userId':_0x3a430c},{'$set':{'canDelete':!0x1}}),_0x18ed49[_0x3d7af0(0x1c0)](_0x478d00[_0x3d7af0(0x1ab)],{'class':_0x478d00['IxpQA'],'text':_0x3d7af0(0x2ee)+_0x3a430c+_0x3d7af0(0x2c5)+_0x4cf3d3+_0x3d7af0(0x1c4)}),_0x5f19eb['redirect'](_0x15f1fc);}}if(_0x478d00['XJgnG']((await _0x3464a1[_0x3d7af0(0x12d)]({'_id':new _0x30e767(_0xf3da4)}))[_0x3d7af0(0x130)],0x1)){if(_0x478d00['maKSC'](_0x478d00['RKfmA'],_0x478d00[_0x3d7af0(0x161)])){if(_0x48bbf3){const _0x36f9d1=_0x3619e7[_0x3d7af0(0x284)](_0xb4aa3f,arguments);return _0x153953=null,_0x36f9d1;}}else{const _0x422a97=await _0x1ea89b[_0x3d7af0(0x176)](global[_0x3d7af0(0x15c)])[_0x3d7af0(0x232)]({'session.user_id':_0xf3da4});if(_0x422a97['acknowledged']&&_0x478d00[_0x3d7af0(0x1a9)](_0x422a97[_0x3d7af0(0x130)],0x0))var _0xd873ce=_0x3d7af0(0x1fb)+_0x422a97[_0x3d7af0(0x130)]+_0x3d7af0(0x1aa);else var _0xd873ce=_0x478d00[_0x3d7af0(0x2b4)];_0x18ed49[_0x3d7af0(0x1c0)](_0x478d00['lYKDE'],{'class':_0x478d00[_0x3d7af0(0x1ee)],'text':_0x3d7af0(0x270)+_0x3a430c+_0x3d7af0(0x1a3)+_0xd873ce});}}else _0x18ed49['flash'](_0x478d00['lYKDE'],{'class':_0x478d00[_0x3d7af0(0x291)],'text':_0x3d7af0(0x1e2)+_0x3a430c+_0x3d7af0(0x231)});return _0x5f19eb[_0x3d7af0(0x276)](_0x15f1fc);}catch(_0x1d5ebf){return console['log'](_0x478d00[_0x3d7af0(0x14a)],_0x1d5ebf),_0x18ed49['flash'](_0x478d00[_0x3d7af0(0x1ab)],{'class':_0x478d00['IxpQA'],'text':_0x1d5ebf[_0x3d7af0(0x2b6)]}),_0x5f19eb[_0x3d7af0(0x276)](_0x15f1fc);}finally{_0x314418[_0x3d7af0(0x13b)]();}}),x['post'](V,_0x170354['isOA'],async(_0x1a3ffa,_0x3a3343)=>{const _0x4d33bc=_0x164bbf,_0x4a6e0c={'xgCat':function(_0x343568,_0x32f476){return _0x343568==_0x32f476;},'GvgES':_0x4d33bc(0x1b1),'hYcxc':'ไม่มีข้อมูล','rALuD':_0x4d33bc(0x19b),'qeZfG':'utf8','wlYFk':'green','RVvnD':_0x4d33bc(0x2a1)},{_idArr:_0x3b08f5}=_0x1a3ffa[_0x4d33bc(0x18f)],_0x47f83c=new _0x24b468(dbUrl);try{await _0x47f83c[_0x4d33bc(0x216)]();const _0x269c3f=await _0x47f83c['db'](dbName)[_0x4d33bc(0x176)](dbColl_users)[_0x4d33bc(0x1ba)]([{'$match':{'_id':{'$in':_0x3b08f5[_0x4d33bc(0x2b9)](_0x158024=>new _0x30e767(_0x158024))}}},{'$project':{'branchInfo':0x0}}])[_0x4d33bc(0x22e)]();if(_0x4a6e0c[_0x4d33bc(0x2d5)](_0x269c3f[_0x4d33bc(0x1da)],0x0))return _0x3a3343[_0x4d33bc(0x123)](JSON[_0x4d33bc(0x1af)]({'isPrint':!0x1,'class':_0x4a6e0c[_0x4d33bc(0x2d0)],'msg':_0x4a6e0c[_0x4d33bc(0x2e4)]}));const _0x503627=_0x1003f5[_0x4d33bc(0x2f4)](global[_0x4d33bc(0x19d)],_0x4a6e0c[_0x4d33bc(0x14e)]),_0x5e8ea8=_0x2e3846[_0x4d33bc(0x1d7)](_0x503627,_0x4a6e0c['qeZfG']),_0x355d53=_0x3d6e61[_0x4d33bc(0x132)](_0x5e8ea8,{'time':S[_0x4d33bc(0x17c)](),'title':_0x4d33bc(0x264)+_0x269c3f['length']+')','dateTime':S[_0x4d33bc(0x1d9)](),'usersFind':_0x269c3f});_0x3a3343[_0x4d33bc(0x123)](JSON[_0x4d33bc(0x1af)]({'isPrint':!0x0,'class':_0x4a6e0c[_0x4d33bc(0x12a)],'msg':_0x4d33bc(0x298)+_0x269c3f[_0x4d33bc(0x1da)]+_0x4d33bc(0x195),'htmlPage':_0x355d53}));}catch(_0x4c90a0){console[_0x4d33bc(0x2b7)](_0x4a6e0c[_0x4d33bc(0x125)],_0x4c90a0[_0x4d33bc(0x2b6)]),_0x3a3343[_0x4d33bc(0x123)](JSON['stringify']({'isPrint':!0x1,'class':_0x4a6e0c[_0x4d33bc(0x2d0)],'msg':_0x4c90a0[_0x4d33bc(0x2b6)]}));}finally{_0x47f83c[_0x4d33bc(0x13b)]();}}),x[_0x164bbf(0x24e)](X,_0x170354[_0x164bbf(0x13f)],async(_0x43b5c4,_0x5e08c2)=>{const _0x5c4c65=_0x164bbf,_0x14e22b={'GCYxl':function(_0x4aeeba,_0x86e4ff){return _0x4aeeba(_0x86e4ff);},'fVcDq':_0x5c4c65(0x1b1),'gpSNy':function(_0x258bf1,_0x51a466){return _0x258bf1<_0x51a466;},'hCdTA':_0x5c4c65(0x1b8),'rDhYT':'ไม่พบประวัติการเปลี่ยนแปลง','cMeOT':_0x5c4c65(0x27d),'nXBwP':_0x5c4c65(0x2cf),'quwud':'error\x20===>\x20'};let {userId:_0x3d2538}=_0x43b5c4[_0x5c4c65(0x18f)];_0x3d2538=_0x14e22b[_0x5c4c65(0x2e5)](Number,_0x3d2538);const _0x52ef59=new _0x24b468(global[_0x5c4c65(0x1e0)]);try{await _0x52ef59[_0x5c4c65(0x216)]();var _0x44ce9b=await _0x52ef59['db'](global['dbName'])[_0x5c4c65(0x176)](global[_0x5c4c65(0x21f)])['findOne']({'userId':_0x3d2538});if(!_0x44ce9b)return _0x5e08c2['send'](JSON[_0x5c4c65(0x1af)]({'isPrint':!0x1,'class':_0x14e22b['fVcDq'],'msg':'ไม่พบ\x20\x22'+_0x3d2538+'\x22'}));const _0x7b8eb1=_0x44ce9b[_0x5c4c65(0x23d)]||[];if(_0x14e22b['gpSNy'](_0x7b8eb1['length'],0x1))return _0x5e08c2[_0x5c4c65(0x123)](JSON[_0x5c4c65(0x1af)]({'isPrint':!0x1,'class':_0x14e22b[_0x5c4c65(0x29c)],'msg':_0x14e22b[_0x5c4c65(0x271)]}));const _0x404f46=_0x1003f5[_0x5c4c65(0x2f4)](folderForms,_0x14e22b[_0x5c4c65(0x220)]),_0x436a84=await U[_0x5c4c65(0x26e)](_0x404f46,_0x5e08c2,{'title':_0x5c4c65(0x21d)+_0x44ce9b['userId']+']\x20'+_0x44ce9b[_0x5c4c65(0x2e9)]+'\x20'+_0x44ce9b['userFirstname']+'\x20'+_0x44ce9b['userLastname'],'time':S[_0x5c4c65(0x1d9)](),'changesHistory':_0x7b8eb1});_0x5e08c2[_0x5c4c65(0x123)](JSON[_0x5c4c65(0x1af)]({'isPrint':!0x0,'class':_0x14e22b[_0x5c4c65(0x1e4)],'htmlPage':_0x436a84}));}catch(_0x16bf2c){console[_0x5c4c65(0x2b7)](_0x14e22b[_0x5c4c65(0x278)],_0x16bf2c),_0x5e08c2[_0x5c4c65(0x123)](JSON['stringify']({'isPrint':!0x1,'class':_0x14e22b['fVcDq'],'msg':_0x16bf2c['message']}));}finally{_0x52ef59[_0x5c4c65(0x13b)]();}});export default x;function _0x6bda49(_0x2630eb){const _0x4fafb9=_0x164bbf,_0x59f074={'uDXqM':function(_0x309990,_0x262b61){return _0x309990===_0x262b61;},'YmLVj':_0x4fafb9(0x14d),'zYDNP':_0x4fafb9(0x1e7),'eTqLt':'counter','NIhgj':function(_0x256432,_0x529292){return _0x256432!==_0x529292;},'LxudO':function(_0xa48ac7,_0x17ab64){return _0xa48ac7+_0x17ab64;},'CvzBQ':function(_0x58e63d,_0x307c65){return _0x58e63d/_0x307c65;},'LndYL':_0x4fafb9(0x1da),'GWkwb':function(_0x1eec08,_0x58d962){return _0x1eec08===_0x58d962;},'dgnjQ':function(_0x48b812,_0x3b4697){return _0x48b812%_0x3b4697;},'ruhGR':function(_0x1d7469,_0xcb594c){return _0x1d7469+_0xcb594c;},'yXrof':_0x4fafb9(0x167),'EsQeF':_0x4fafb9(0x243),'ntPEn':_0x4fafb9(0x2df),'ImNvy':_0x4fafb9(0x2f5),'gZCLD':function(_0x3c3780,_0x5c587b){return _0x3c3780(_0x5c587b);}};function _0x44ad70(_0x50484a){const _0x424141=_0x4fafb9;if(_0x59f074['uDXqM'](typeof _0x50484a,_0x59f074['YmLVj']))return function(_0x29bb3f){}[_0x424141(0x1ca)](_0x59f074[_0x424141(0x12b)])[_0x424141(0x284)](_0x59f074[_0x424141(0x1cd)]);else _0x59f074['NIhgj'](_0x59f074['LxudO']('',_0x59f074[_0x424141(0x172)](_0x50484a,_0x50484a))[_0x59f074[_0x424141(0x158)]],0x1)||_0x59f074[_0x424141(0x250)](_0x59f074[_0x424141(0x1dd)](_0x50484a,0x14),0x0)?function(){return!![];}[_0x424141(0x1ca)](_0x59f074[_0x424141(0x24f)](_0x59f074['yXrof'],_0x59f074[_0x424141(0x2d2)]))[_0x424141(0x25b)](_0x59f074[_0x424141(0x277)]):function(){return![];}['constructor'](_0x59f074['ruhGR'](_0x59f074[_0x424141(0x2a3)],_0x59f074['EsQeF']))[_0x424141(0x284)](_0x59f074[_0x424141(0x2ce)]);_0x59f074[_0x424141(0x1b7)](_0x44ad70,++_0x50484a);}try{if(_0x2630eb)return _0x44ad70;else _0x59f074[_0x4fafb9(0x1b7)](_0x44ad70,0x0);}catch(_0x2dd606){}}