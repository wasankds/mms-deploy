const _0x3f8f54=_0x2069;(function(_0x330a08,_0x2cb034){const _0x547603=_0x2069,_0x208d9f=_0x330a08();while(!![]){try{const _0x30d5c4=-parseInt(_0x547603(0x15d))/0x1+-parseInt(_0x547603(0x1d5))/0x2+parseInt(_0x547603(0x165))/0x3*(-parseInt(_0x547603(0x219))/0x4)+parseInt(_0x547603(0x18b))/0x5+parseInt(_0x547603(0x234))/0x6*(-parseInt(_0x547603(0x1ea))/0x7)+-parseInt(_0x547603(0x189))/0x8*(parseInt(_0x547603(0x2ad))/0x9)+-parseInt(_0x547603(0x29a))/0xa*(-parseInt(_0x547603(0x204))/0xb);if(_0x30d5c4===_0x2cb034)break;else _0x208d9f['push'](_0x208d9f['shift']());}catch(_0x4948e6){_0x208d9f['push'](_0x208d9f['shift']());}}}(_0x33fd,0x28e14));function _0x33fd(){const _0x16bd18=['MiqzK','NFcVa','$userLastname','kWanH','HAeWJ','vWpUU','dbColl_users','gSjEU','DPkfu','manageUsers','cvDIu','hJeTc','jtUQl','277963qJrfEN','Ebnvg','ojqKz','MKUzH','\x22\x20)','alyKt','VIrfI','user_id','8976ztbFAg','jnWIq','XKVSd','YNGtq','oeDmt','init','aCLEj','LisDW','orElT','AFjPW','ssMKF','WhNOL','TbCYo','getChangeHistory','modifiedCount','xUdjm','tFFiC','IIssE','MmHtX','VVXMh','@gmail.com','exWUt','qwerty','AoaIe','USER_AUTHORITIES','BEgpZ','debu','FBKQT','gger','ประวัติการแก้ไขยูสเซอร์\x20:\x20[','pPeQp','status','map','IQxsB','gkIAl','SLTeQ','8FcvAfp','พิมพ์ข้อมูล\x20','1479895CesWDe','CcEOk','get','HuHCr','BtwRy','rqTEm','QuxfA','mDOxn','sYkSZ','EeoZv','yQzOM','includes','test','shift','IKnRW','tBMuS','mseyf','bVuag','QDBvB','rrKEf','toArray','JJgez','xQJHp','\x22\x20เรียบร้อยแล้ว','/myModule.js','อีเมล/ชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','SreRq','hDSRt','YHvQa','?rpp=20&page=1&load_id=','fWZrP','zNYhA','changes_tableRows.ejs','yGEqJ','unshift','\x22\x20เรียบร้อยแล้ว{{sep}}(\x20รหัสผ่านเริ่มต้น\x20\x22','FxuXq','IULtJ','Zlkzb','XszGi','qIpJK','ไม่พบ\x20\x22','XSfft','VuLzt','DXtuf','jMnAE','replace','LDpHi','qGRNl','ntyrh','gARzR','USERNAME_DESCRIPTION','HmPIT','rdiHe','rWtGh','GWATz','sendFile','return\x20(function()\x20','dbName','action','__proto__','wcygm','HbvNj','$userPrefix','FQUIA','QLEIY','PGuaB','connect','XPYpf','userPrefix','getSettings','COMDs','oJLJT','username','238826BIaTQe','reZFo','focjX','mOWUq','CPZbu','../','nTCCZ','env','hTHEZ','KsADR','LyOXZ','page','kRwho','/manage/users','YPPOj','cZMtH','HxTKm','FQpKC','VqDeh','ZJxRI','EMAIL_WHOSEND','24962rMQFFt','join','IXSMy','ยูสเซอร์\x20\x22','red','BJSlL','EMAIL_PATTERN','userId','getSettingsSystem_Email','ZalkB','pwYcP','OHpYT','response','seBad','gGcLc','deleteMany','session','upsertedCount','Gyjnz','hPzAZ','QYFzY','insertOne','รูปแบบอีเมลไม่ถูกต้อง','kDaOz','tODQs','RADvI','587246OgglVM','RyojW','DXJbT','สร้างผู้ใช้ใหม่\x20\x22','oILKl','RvInS','booMn','YPCCD','QrKqb','/download-excel','aojZF','Obzef','ExTsr','WLPCA','{{sep}}(\x20ไม่พบเซสชั่น\x20)','pRGlL','/mySendmail.js','kEKUX','getDateTime','QnEqN','KVwIV','248CNQrBm','zWwfU','userFirstname','PwwJF','message','ywPEY','/upload-excel','hHgTh','constructor','/myData.js','renderView','bXOTV','PtgCo','flash','JvLIw','toString','hxcfV','sAUmA','call','MjOVc','yellow','$dateTimeCanDelete','\x22\x20เรียบร้อยแล้ว\x20)','close','dZhpx','qeThg','LNfZY','480mOHYgZ','prototype','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','IUdLe','bDmtj','acknowledged','KnERf','XraKD','เกิดข้อผิดพลาดขณะเพิ่มผู้ใช้ใหม่','SmMUc','getDate','changesHistory','bcNvr','kPzDy','userEmail','AqFUA','xjDKU','wJocC','FiQzk','afmQd','send','readFileSync','ZOQGe','EtKSe','WZPHL','findOne','sip','fmEQg','YNgdQ','cegGP','pnIgG','UWPFd','QSkpu','console','uTOPe','NjkXb','mRSWi','log','find','apply','/new','then','kkRMx','query','LFidT','Mddqr','mnmLX','MtLBm','dnTUo','QtmkV','filter','\x5c$&','limit','YhddM','NbbtB','/save','function\x20*\x5c(\x20*\x5c)','bWrFV','ลบยูสเซอร์\x20\x22','bNcFl','LHSuz','mSrNO','lslYW','qlQlm','bind','SivYq','ZjOxW','ankXf','vvprB','hTQvG','yKVAJ','rMCoF','input','error\x20===>\x20','exception','{{sep}}[\x20บันทึกการแก้ไข\x20]','umHSC','VHYsH','xxxHu','XAXrI','fMeuo','destroy','fwfQK','mwtbe','redirect','getSessionData','counter','iYcYQ','BCRYPT_NUMBER','{}.constructor(\x22return\x20this\x22)(\x20)','dbColl_sessions','info','oAhql','rZqAO','EUrpq','HyMcA','trace','bxymk','MyAvU','ยังไม่มีผู้ใช้ในระบบเลย\x20ต้องเพิ่มผู้ใช้หลักก่อน','HmTab','post','190JiDTyQ','nfPLX','smqyD','_id','sort','active','&rpp=','kaXVl','stringify','BFMeH','RMuRi','\x20แล้ว{{sep}}แต่ไม่ได้ส่งอีเมล์\x20การตั้งค่าการส่งอิเมล์ไม่ถูกต้อง','aggregate','BWiGE','uMHSi','dvsaj','){{sep}}(CODE\x20:\x20','wDosa','DnYyU','2472381OkoyJd','nrTnX','/delete','rpp','generatePassword','Router','dbColl_docs','VIgfS','uvacz','JbNtg','trim','qkQlB','table','sUzIl','Nzcwr','wqfUd','zDgnI','COXsx','RHerX','chain','eijoO','countDocuments','DVBqR','xMKJs','EoFqE','userLastname','lWovx','hash','yvyTF','TfEdj','ZZTdo','userIsActive','pMogo','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','dateTimeCanDelete','qnzkR','zGLjB','wPTqy','while\x20(true)\x20{}','&load_id=','user_','yOTJB','ZwTZD','pHifK','alaEI','error','gFpnu','UhcFV','สร้างยูสเซอร์\x20','?sip=','KLsAN','userAuthority','QOhjy','ECLou','length','aiXTY','JstXI','DetFy','GxqQs','oWZgF','/print','kvBYg','afKtM','stateObject','zqvXA','rlnSK','pcQlc','ifUMZ','rdCmo','userFlash','yjNbg','gfhTg','BMQcr','EMAIL_PASS','keys','อีเมลหรือชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','vlcjB','rzNcb','insertedId','LLRuZ','updateOne','msg','{{sep}}\x22','AsZjb','EoZbX','gUGar','dbUrl','DBKeF','&page=','load_id','Eachh','เกิดข้อผิดพลาดขณะเพิ่ม/ส่งอีเมลไปยังผู้ใช้ใหม่','TzKrR','isOA','BJVme','BzVIa','/changes','deletedCount','yuYny','nEwwU','Zwhxn','PNkwf','NiBrg','uyjOv','Not\x20Found','hNWSl','KSGJF','tosHF','vzKeH','green','body','PIESr','aUAGj','collection','UgNnJ','Session\x20destroy\x20error:\x20','MPglf','APDGL'];_0x33fd=function(){return _0x16bd18;};return _0x33fd();}const _0x342f48=(function(){const _0x4c87d3=_0x2069,_0x3b5960={'rdiHe':function(_0x5858c6,_0x20483d){return _0x5858c6!==_0x20483d;},'ywPEY':_0x4c87d3(0x250),'wJocC':_0x4c87d3(0x117),'QYFzY':_0x4c87d3(0x104),'NiBrg':function(_0x10b05c,_0x227ff6){return _0x10b05c===_0x227ff6;},'HxTKm':_0x4c87d3(0x2ac)};let _0x44afc5=!![];return function(_0xe848e8,_0x5e96e3){const _0x50870e=_0x4c87d3;if(_0x3b5960[_0x50870e(0x140)](_0x3b5960[_0x50870e(0x1e5)],_0x3b5960['HxTKm'])){const _0x2ff016=_0x44afc5?function(){const _0x4e89b4=_0x50870e;if(_0x3b5960[_0x4e89b4(0x1c0)](_0x3b5960[_0x4e89b4(0x21e)],_0x3b5960[_0x4e89b4(0x245)])){if(_0x5e96e3){if(_0x3b5960[_0x4e89b4(0x1c0)](_0x3b5960[_0x4e89b4(0x1fe)],_0x3b5960[_0x4e89b4(0x1fe)]))return!![];else{const _0x2bacc5=_0x5e96e3['apply'](_0xe848e8,arguments);return _0x5e96e3=null,_0x2bacc5;}}}else{const _0x22a41e=_0x542a48[_0x4e89b4(0x221)][_0x4e89b4(0x235)][_0x4e89b4(0x274)](_0x40fafa),_0x41ac5d=_0x5996ab[_0x8e1a6f],_0x24a0ca=_0x32c7ca[_0x41ac5d]||_0x22a41e;_0x22a41e[_0x4e89b4(0x1c7)]=_0x1830a7[_0x4e89b4(0x274)](_0x300df3),_0x22a41e[_0x4e89b4(0x228)]=_0x24a0ca[_0x4e89b4(0x228)][_0x4e89b4(0x274)](_0x24a0ca),_0x482571[_0x41ac5d]=_0x22a41e;}}:function(){};return _0x44afc5=![],_0x2ff016;}else{_0x37d99c=!0x1;return;}};}());function _0x2069(_0x194881,_0x4e487b){const _0x2d918e=_0x33fd();return _0x2069=function(_0x4e35fe,_0xfc28e9){_0x4e35fe=_0x4e35fe-0x103;let _0x1ed468=_0x2d918e[_0x4e35fe];return _0x1ed468;},_0x2069(_0x194881,_0x4e487b);}(function(){const _0x16a785=_0x2069,_0x1232db={'TbCYo':function(_0x4300a5,_0x2587ef){return _0x4300a5(_0x2587ef);},'QhQpI':function(_0x2bca0e,_0x5b3559){return _0x2bca0e(_0x5b3559);},'LHSuz':function(_0x22130b,_0x5d49cf){return _0x22130b(_0x5d49cf);},'hTQvG':function(_0x4a141b,_0x40127a){return _0x4a141b===_0x40127a;},'kTehz':_0x16a785(0x1fd),'xxxHu':'function\x20*\x5c(\x20*\x5c)','oeDmt':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','Obzef':_0x16a785(0x16a),'UWPFd':function(_0x10e7d3,_0x8be227){return _0x10e7d3+_0x8be227;},'VqDeh':_0x16a785(0x2c0),'ldgJZ':_0x16a785(0x27c),'HdqzW':function(_0x2e4606,_0x1af5a9){return _0x2e4606===_0x1af5a9;},'kDaOz':_0x16a785(0x1aa),'lljCX':_0x16a785(0x2a4),'xQJHp':function(_0x29a385,_0x7b780f){return _0x29a385(_0x7b780f);},'VIgfS':_0x16a785(0x213),'mRSWi':function(_0x3c02cd){return _0x3c02cd();},'BtwRy':function(_0x116981,_0x4c7b18,_0x1dc951){return _0x116981(_0x4c7b18,_0x1dc951);}};_0x1232db[_0x16a785(0x18f)](_0x342f48,this,function(){const _0x53f1b8=_0x16a785;if(_0x1232db[_0x53f1b8(0x279)](_0x1232db['kTehz'],_0x1232db['kTehz'])){const _0x314324=new RegExp(_0x1232db[_0x53f1b8(0x282)]),_0x14129f=new RegExp(_0x1232db[_0x53f1b8(0x169)],'i'),_0x1e4588=_0x1232db[_0x53f1b8(0x171)](_0x1a7516,_0x1232db[_0x53f1b8(0x20f)]);!_0x314324[_0x53f1b8(0x197)](_0x1232db[_0x53f1b8(0x253)](_0x1e4588,_0x1232db[_0x53f1b8(0x1e7)]))||!_0x14129f['test'](_0x1232db[_0x53f1b8(0x253)](_0x1e4588,_0x1232db['ldgJZ']))?_0x1232db['HdqzW'](_0x1232db[_0x53f1b8(0x201)],_0x1232db['lljCX'])?_0x1a89e3[_0x53f1b8(0x230)]():_0x1232db[_0x53f1b8(0x1a1)](_0x1e4588,'0'):_0x1232db[_0x53f1b8(0x279)](_0x1232db[_0x53f1b8(0x2b4)],_0x1232db['VIgfS'])?_0x1232db[_0x53f1b8(0x258)](_0x1a7516):_0x256172=_0x3a7aa7;}else{const _0x4a799a=_0x38ddb0?new _0x9e8a87(''+_0x422d5e,'i'):new _0x3e510c('.*');let _0x43e7a5={};_0x1232db[_0x53f1b8(0x171)](_0x245ac0,_0x1232db['QhQpI'](_0x1582a0,_0x2ca970))?_0x43e7a5={'userId':{'$regex':_0x4a799a}}:_0x43e7a5={'userId':_0x1232db[_0x53f1b8(0x270)](_0x1955a4,_0x5330ea)},_0x52615a[_0x53f1b8(0x1ad)]({'$match':{'$or':[_0x43e7a5,{'username':{'$regex':_0x4a799a}},{'userFirstname':{'$regex':_0x4a799a}}]}});}})();}());const _0xfc28e9=(function(){const _0x2b7e87=_0x2069,_0x1455e9={'gfhTg':function(_0x41bbe4){return _0x41bbe4();},'YPPOj':_0x2b7e87(0x27d),'sYkSZ':function(_0x5d73ad,_0x4e3452){return _0x5d73ad===_0x4e3452;},'VmFOP':_0x2b7e87(0x254),'jnWIq':function(_0x4d3f6b,_0x454a66){return _0x4d3f6b!==_0x454a66;},'gARzR':_0x2b7e87(0x244),'PtgCo':_0x2b7e87(0x1ee),'vtKqW':function(_0x45bfee,_0x1c6816){return _0x45bfee!==_0x1c6816;},'psDLO':_0x2b7e87(0x2c4),'wWgMs':_0x2b7e87(0x276)};let _0x63ee84=!![];return function(_0x13384a,_0x3085e9){const _0x379d1d=_0x2b7e87;if(_0x1455e9['vtKqW'](_0x1455e9['psDLO'],_0x1455e9['wWgMs'])){const _0x1bf980=_0x63ee84?function(){const _0x4262d0=_0x2069,_0x1914bb={'PNkwf':function(_0x494465){const _0x4326bc=_0x2069;return _0x1455e9[_0x4326bc(0x121)](_0x494465);},'hDSRt':_0x1455e9['YPPOj']};if(_0x1455e9[_0x4262d0(0x193)](_0x1455e9['VmFOP'],_0x1455e9['VmFOP'])){if(_0x3085e9){if(_0x1455e9[_0x4262d0(0x166)](_0x1455e9[_0x4262d0(0x1bd)],_0x1455e9[_0x4262d0(0x1bd)]))_0x1914bb[_0x4262d0(0x13f)](_0x3484ad);else{const _0x336e1c=_0x3085e9[_0x4262d0(0x25b)](_0x13384a,arguments);return _0x3085e9=null,_0x336e1c;}}}else _0x703184[_0x4262d0(0x259)](_0x1914bb[_0x4262d0(0x1a6)],_0x3c46ab),_0x269740[_0x4262d0(0x184)](0x194)[_0x4262d0(0x1c3)](_0x1a5ac0);}:function(){};return _0x63ee84=![],_0x1bf980;}else _0x3ee294[_0x379d1d(0x259)](_0x1455e9[_0x379d1d(0x1e3)],_0x904c22),_0x45ff1f[_0x379d1d(0x248)](_0x31a7b9[_0x379d1d(0x2a2)]({'isPrint':!0x1,'class':_0x1455e9[_0x379d1d(0x225)],'msg':_0x49d13a[_0x379d1d(0x21d)]}));};}()),_0x4e35fe=_0xfc28e9(this,function(){const _0x26e21d=_0x2069,_0x15e71e={'QrKqb':function(_0x5d5233,_0x2db5c1){return _0x5d5233!==_0x2db5c1;},'tFFiC':_0x26e21d(0x192),'bDmtj':_0x26e21d(0x229),'TzKrR':function(_0x9f00d7,_0x72c6c1){return _0x9f00d7(_0x72c6c1);},'AqFUA':function(_0x1f6f19,_0xf60a3f){return _0x1f6f19+_0xf60a3f;},'EtKSe':function(_0x2c9e42,_0x4f9f98){return _0x2c9e42+_0x4f9f98;},'jtUQl':_0x26e21d(0x1c4),'VuLzt':_0x26e21d(0x28d),'qnzkR':function(_0x32ed07){return _0x32ed07();},'kRwho':function(_0x7739f7,_0x28565d){return _0x7739f7!==_0x28565d;},'EoFqE':_0x26e21d(0x16f),'gPtzJ':'log','FxuXq':'warn','hNWSl':_0x26e21d(0x28f),'gUGar':_0x26e21d(0x107),'zDgnI':_0x26e21d(0x27e),'seBad':_0x26e21d(0x2b9),'MiqzK':_0x26e21d(0x294),'Mddqr':function(_0x253172,_0x41e7bd){return _0x253172<_0x41e7bd;},'GxqQs':function(_0x44b030,_0x45adf8){return _0x44b030===_0x45adf8;},'nyUvq':_0x26e21d(0x22a),'lslYW':_0x26e21d(0x271)};let _0x29eac6;try{if(_0x15e71e[_0x26e21d(0x20c)](_0x15e71e[_0x26e21d(0x175)],_0x15e71e[_0x26e21d(0x238)])){const _0x3f9f57=_0x15e71e[_0x26e21d(0x136)](Function,_0x15e71e[_0x26e21d(0x243)](_0x15e71e[_0x26e21d(0x24b)](_0x15e71e[_0x26e21d(0x15c)],_0x15e71e[_0x26e21d(0x1b6)]),');'));_0x29eac6=_0x15e71e[_0x26e21d(0x2d0)](_0x3f9f57);}else{const _0x2ebc40=_0xe453dd[_0x26e21d(0x25b)](_0x283480,arguments);return _0x5664d0=null,_0x2ebc40;}}catch(_0xad7642){if(_0x15e71e[_0x26e21d(0x1e1)](_0x15e71e[_0x26e21d(0x2c5)],_0x15e71e[_0x26e21d(0x2c5)])){const _0x129fc0=_0x2c3632[_0x26e21d(0x25b)](_0x2e0c2c,arguments);return _0x22ed01=null,_0x129fc0;}else _0x29eac6=window;}const _0x542633=_0x29eac6[_0x26e21d(0x255)]=_0x29eac6['console']||{},_0x4a5b09=[_0x15e71e['gPtzJ'],_0x15e71e[_0x26e21d(0x1af)],_0x15e71e[_0x26e21d(0x143)],_0x15e71e[_0x26e21d(0x12f)],_0x15e71e[_0x26e21d(0x2bd)],_0x15e71e[_0x26e21d(0x1f7)],_0x15e71e[_0x26e21d(0x150)]];for(let _0x2f71db=0x0;_0x15e71e[_0x26e21d(0x261)](_0x2f71db,_0x4a5b09[_0x26e21d(0x110)]);_0x2f71db++){if(_0x15e71e[_0x26e21d(0x114)](_0x15e71e['nyUvq'],_0x15e71e[_0x26e21d(0x272)])){_0xae4a2[_0x26e21d(0x1fa)][_0x26e21d(0x285)](_0x1ee07b=>(_0x1ee07b&&_0x1d4898[_0x26e21d(0x259)](_0x26e21d(0x14d),_0x1ee07b),_0x8fd246[_0x26e21d(0x288)]('/')));return;}else{const _0x4dc6b2=_0xfc28e9[_0x26e21d(0x221)][_0x26e21d(0x235)][_0x26e21d(0x274)](_0xfc28e9),_0x249dc4=_0x4a5b09[_0x2f71db],_0x315b42=_0x542633[_0x249dc4]||_0x4dc6b2;_0x4dc6b2[_0x26e21d(0x1c7)]=_0xfc28e9[_0x26e21d(0x274)](_0xfc28e9),_0x4dc6b2['toString']=_0x315b42[_0x26e21d(0x228)][_0x26e21d(0x274)](_0x315b42),_0x542633[_0x249dc4]=_0x4dc6b2;}}});_0x4e35fe();import _0x39bfc0 from'express';import{MongoClient as _0x57b4db,ObjectId as _0x58cf4b}from'mongodb';import _0x34f7c0 from'bcrypt';const x=_0x39bfc0[_0x3f8f54(0x2b2)]();import _0x5c5d4a from'path';import _0x1420c4 from'fs';import _0x4520fb from'ejs';import _0x3d94cb from'../middleware/mainAuth.js';const U=await import(_0x3f8f54(0x1da)+mymoduleFolder+_0x3f8f54(0x1a3)),S=await import('../'+mymoduleFolder+'/myDateTime.js'),L=await import(_0x3f8f54(0x1da)+mymoduleFolder+'/myUsers.js'),Z=await import(_0x3f8f54(0x1da)+mymoduleFolder+_0x3f8f54(0x214)),q=await import(_0x3f8f54(0x1da)+mymoduleFolder+_0x3f8f54(0x222)),u=_0x3f8f54(0x1e2),Q=u+_0x3f8f54(0x26b),W=u+_0x3f8f54(0x25c),B=u+'/load',G=u+_0x3f8f54(0x2af),V=u+_0x3f8f54(0x116),X=u+_0x3f8f54(0x13a),ee=u+_0x3f8f54(0x20d),se=u+_0x3f8f54(0x21f),te=u[_0x3f8f54(0x1b9)](/\//g,'_'),oe=0x5a0*0x3c;x[_0x3f8f54(0x18d)](u,_0x3d94cb[_0x3f8f54(0x137)],async(_0x23d124,_0x1bebf8)=>{const _0x9248b5=_0x3f8f54,_0x1ced1d={'HuHCr':_0x9248b5(0x26c),'exWUt':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ExTsr':function(_0x22794e,_0x5c1f2c){return _0x22794e(_0x5c1f2c);},'ankXf':'init','ntyrh':function(_0xbfc34a,_0x1308da){return _0xbfc34a+_0x1308da;},'aiXTY':_0x9248b5(0x2c0),'phwDF':_0x9248b5(0x27c),'YhddM':function(_0x5640c8){return _0x5640c8();},'pMdmi':function(_0x20cccd,_0x30dfa9){return _0x20cccd(_0x30dfa9);},'rzNcb':function(_0xadd140,_0x4f1d36){return _0xadd140+_0x4f1d36;},'DVBqR':_0x9248b5(0x1c4),'jmFkB':'{}.constructor(\x22return\x20this\x22)(\x20)','WzWrw':function(_0x5b8277){return _0x5b8277();},'uMHSi':_0x9248b5(0x2d3),'nrTnX':'counter','bVuag':function(_0x4fe9e7,_0x48234d){return _0x4fe9e7!==_0x48234d;},'bXOTV':_0x9248b5(0x10e),'FQUIA':function(_0x20b03d,_0x44587b){return _0x20b03d!==_0x44587b;},'mseyf':function(_0x18a40b,_0x143535){return _0x18a40b==_0x143535;},'BEgpZ':function(_0x131c38,_0x113be6){return _0x131c38!==_0x113be6;},'HmTab':_0x9248b5(0x27d),'MtLBm':function(_0x1a3d65,_0x476e1c){return _0x1a3d65!==_0x476e1c;},'gfBeG':function(_0x4bc0eb,_0x2187be){return _0x4bc0eb==_0x2187be;},'rqTEm':function(_0xfa7e9a,_0x38308b){return _0xfa7e9a(_0x38308b);},'HbvNj':function(_0x142680,_0x23350f){return _0x142680(_0x23350f);},'zWwfU':function(_0x26b5a9,_0x43c4f8){return _0x26b5a9*_0x43c4f8;},'gSjEU':function(_0x13e53c,_0x8dad49){return _0x13e53c-_0x8dad49;},'cegGP':'pzJAk','kPzDy':function(_0x24b25d,_0xf51741){return _0x24b25d!==_0xf51741;},'COndP':_0x9248b5(0x231),'VIrfI':_0x9248b5(0x267),'KVwIV':function(_0x1cd0d9,_0x1b9f74){return _0x1cd0d9(_0x1b9f74);},'CsvWy':function(_0x17d788,_0x14a8be){return _0x17d788/_0x14a8be;},'SivYq':function(_0xd396d4,_0x2ee772){return _0xd396d4<_0x2ee772;},'cvDIu':function(_0x515de2,_0x4bee39){return _0x515de2-_0x4bee39;},'gGcLc':function(_0x26f6ef,_0x5021aa){return _0x26f6ef-_0x5021aa;},'tODQs':function(_0x50d5ac,_0x3f5c31){return _0x50d5ac(_0x3f5c31);},'aBIkr':function(_0x5a5ae0,_0x465b91){return _0x5a5ae0(_0x465b91);},'MPglf':function(_0x9e7a74,_0x5e0186){return _0x9e7a74>_0x5e0186;},'HmPIT':function(_0x4d89c9,_0x1c8fd2){return _0x4d89c9(_0x1c8fd2);},'qlQlm':function(_0x1eb56a,_0x129338){return _0x1eb56a+_0x129338;},'rzFwM':function(_0x36afb8,_0x3b5e66){return _0x36afb8(_0x3b5e66);},'COXsx':_0x9248b5(0x1ca),'yGEqJ':'$userFirstname','LLRuZ':_0x9248b5(0x152),'focjX':'$changesHistory','BPXtL':_0x9248b5(0x22e),'aCLEj':'minute','ifUMZ':function(_0x38805b,_0x157370){return _0x38805b===_0x157370;},'HAeWJ':_0x9248b5(0x11c),'hPfQN':function(_0x567190,_0x6f8c5c){return _0x567190(_0x6f8c5c);},'MmHtX':function(_0x4d4206,_0x5ee84f){return _0x4d4206(_0x5ee84f);},'YHvQa':function(_0x24378f,_0x56e487){return _0x24378f===_0x56e487;},'DXJbT':'MAoYR','qkQlB':'fvgJb','LNfZY':_0x9248b5(0x176),'qIpJK':'userFlash','tBMuS':_0x9248b5(0x159),'mwtbe':_0x9248b5(0x12b),'QtmkV':_0x9248b5(0x29b),'SmMUc':_0x9248b5(0x232),'oJLJT':_0x9248b5(0x167)},_0x3b437c=_0x23d124[_0x9248b5(0x25f)][_0x9248b5(0x24e)],_0x267cce=_0x1ced1d[_0x9248b5(0x190)](Number,_0x23d124['query']['rpp'])||0x14,_0x68ce32=_0x1ced1d['HbvNj'](Number,_0x23d124['query'][_0x9248b5(0x1e0)])||0x1,_0x1b8d72=_0x23d124[_0x9248b5(0x25f)][_0x9248b5(0x133)]||'',_0x39d82f=_0x1ced1d[_0x9248b5(0x190)](Number,_0x1ced1d[_0x9248b5(0x21a)](_0x1ced1d[_0x9248b5(0x157)](_0x68ce32,0x1),_0x267cce)),_0x2f05b5=S[_0x9248b5(0x216)](0x0),_0x504502=new _0x57b4db(dbUrl);try{if(_0x1ced1d[_0x9248b5(0x19c)](_0x1ced1d['cegGP'],_0x1ced1d[_0x9248b5(0x251)])){const _0x39e52d=new _0x5745db(ikIuuW[_0x9248b5(0x18e)]),_0x2cc5ac=new _0x4c1d80(ikIuuW[_0x9248b5(0x17a)],'i'),_0x4fd917=ikIuuW['ExTsr'](_0x5ca98f,ikIuuW[_0x9248b5(0x277)]);!_0x39e52d['test'](ikIuuW[_0x9248b5(0x1bc)](_0x4fd917,ikIuuW[_0x9248b5(0x111)]))||!_0x2cc5ac[_0x9248b5(0x197)](ikIuuW[_0x9248b5(0x1bc)](_0x4fd917,ikIuuW['phwDF']))?ikIuuW[_0x9248b5(0x210)](_0x4fd917,'0'):ikIuuW[_0x9248b5(0x269)](_0x5e99a1);}else{await _0x504502[_0x9248b5(0x1ce)]();const _0xfd9887=_0x504502['db'](global[_0x9248b5(0x1c5)])[_0x9248b5(0x14b)](global[_0x9248b5(0x156)]);if(_0x3b437c){if(_0x1ced1d[_0x9248b5(0x241)](_0x1ced1d['COndP'],_0x1ced1d['COndP'])){const _0x207cb3=_0x358f9e?function(){if(_0x2be7ff){const _0x2d4d48=_0xcf0bf1['apply'](_0x48c052,arguments);return _0x2613bc=null,_0x2d4d48;}}:function(){};return _0x17294b=![],_0x207cb3;}else{const _0x4e22c1=new RegExp(_0x3b437c['replace'](/[.*+?^${}()|[\]\\]/g,_0x1ced1d[_0x9248b5(0x163)]),'i');let _0x31a2e2={};_0x1ced1d[_0x9248b5(0x1c9)](isNaN,_0x1ced1d[_0x9248b5(0x1c9)](Number,_0x3b437c))?_0x31a2e2={'userId':{'$regex':_0x4e22c1}}:_0x31a2e2={'userId':_0x1ced1d[_0x9248b5(0x218)](Number,_0x3b437c)};var _0x350130=await _0xfd9887[_0x9248b5(0x2c2)]({'$or':[_0x31a2e2,{'username':{'$regex':_0x4e22c1}},{'userFirstname':{'$regex':_0x4e22c1}}]});}}else var _0x350130=await _0xfd9887['countDocuments']({});const _0x134596=Math['ceil'](_0x1ced1d['CsvWy'](_0x350130,_0x267cce)),_0x89eefe=_0x1ced1d[_0x9248b5(0x275)](_0x1ced1d[_0x9248b5(0x15a)](_0x1ced1d[_0x9248b5(0x210)](Number,_0x68ce32),0x1),0x1)?'-':_0x1ced1d[_0x9248b5(0x1f8)](_0x1ced1d[_0x9248b5(0x202)](Number,_0x68ce32),0x1),_0x4504c9=_0x1ced1d['aBIkr'](Number,_0x68ce32),_0x545146=_0x1ced1d[_0x9248b5(0x14e)](_0x1ced1d['ntyrh'](_0x1ced1d[_0x9248b5(0x1bf)](Number,_0x68ce32),0x1),_0x134596)?'-':_0x1ced1d[_0x9248b5(0x273)](_0x1ced1d['rzFwM'](Number,_0x68ce32),0x1),_0x4464cb=[{'$project':{'_id':0x1,'userIsActive':0x1,'userId':0x1,'username':0x1,'userFullname':{'$concat':[_0x1ced1d[_0x9248b5(0x2be)],'\x20',_0x1ced1d[_0x9248b5(0x1ac)],'\x20',_0x1ced1d[_0x9248b5(0x129)]]},'userAuthority':0x1,'canDelete':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x1ced1d[_0x9248b5(0x1d7)],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x2f05b5},'endDate':{'$toDate':_0x1ced1d['BPXtL']},'unit':_0x1ced1d[_0x9248b5(0x16b)]}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'userId':-0x1}},{'$skip':_0x39d82f},{'$limit':_0x267cce}];if(_0x3b437c){if(_0x1ced1d['ifUMZ'](_0x1ced1d['HAeWJ'],_0x1ced1d[_0x9248b5(0x154)])){const _0x334971=_0x3b437c?new RegExp(''+_0x3b437c,'i'):new RegExp('.*');let _0x182dea={};_0x1ced1d['hPfQN'](isNaN,_0x1ced1d[_0x9248b5(0x177)](Number,_0x3b437c))?_0x182dea={'userId':{'$regex':_0x334971}}:_0x182dea={'userId':_0x1ced1d[_0x9248b5(0x218)](Number,_0x3b437c)},_0x4464cb['unshift']({'$match':{'$or':[_0x182dea,{'username':{'$regex':_0x334971}},{'userFirstname':{'$regex':_0x334971}}]}});}else{const _0xa7bfc1=ikIuuW['pMdmi'](_0x203e7a,ikIuuW[_0x9248b5(0x127)](ikIuuW[_0x9248b5(0x127)](ikIuuW[_0x9248b5(0x2c3)],ikIuuW['jmFkB']),');'));_0x1c9a9f=ikIuuW['WzWrw'](_0xa7bfc1);}}const _0x27015e=L[_0x9248b5(0x289)](_0x23d124),_0x4c2101=_0x27015e[_0x9248b5(0x10d)];let _0x1df34e=await _0xfd9887[_0x9248b5(0x2a6)](_0x4464cb)['toArray']();if(['A'][_0x9248b5(0x196)](_0x4c2101)){if(_0x1ced1d[_0x9248b5(0x1a7)](_0x1ced1d['DXJbT'],_0x1ced1d[_0x9248b5(0x206)])){const _0x350370=_0x27015e[_0x9248b5(0x1f1)];_0x1df34e=_0x1df34e['filter'](_0x59936e=>{const _0x522589=_0x9248b5,_0x50d6af={'dvsaj':_0x1ced1d[_0x522589(0x2a8)],'XAXrI':_0x1ced1d[_0x522589(0x2ae)]};if(_0x1ced1d['bVuag'](_0x1ced1d[_0x522589(0x224)],_0x1ced1d[_0x522589(0x224)]))return function(_0x1d9c42){}['constructor'](ZvVZqf[_0x522589(0x2a9)])[_0x522589(0x25b)](ZvVZqf[_0x522589(0x283)]);else{const _0xd18faf=_0x1ced1d[_0x522589(0x1cb)](_0x59936e[_0x522589(0x10d)],'A')||_0x1ced1d[_0x522589(0x19b)](_0x59936e[_0x522589(0x1f1)],_0x350370);return _0x1ced1d[_0x522589(0x17e)](_0x59936e[_0x522589(0x10d)],'O')&&_0xd18faf;}});}else _0xd2a672[_0x9248b5(0x230)]();}if(_0x1b8d72)var _0x29014f=await _0xfd9887['findOne']({'_id':new _0x58cf4b(_0x1b8d72)},{'projection':{'userPassword':0x0}});else var _0x29014f={};if(_0x29014f&&_0x1ced1d[_0x9248b5(0x11d)](Object[_0x9248b5(0x124)](_0x29014f)['length'],0x0)){if(_0x1ced1d[_0x9248b5(0x241)](_0x1ced1d[_0x9248b5(0x2b8)],_0x1ced1d[_0x9248b5(0x233)])){const _0x37a01e=_0x23d124[_0x9248b5(0x226)](_0x1ced1d[_0x9248b5(0x1b3)]);_0x37a01e&&_0x1ced1d[_0x9248b5(0x14e)](_0x37a01e['length'],0x0)&&(_0x29014f={..._0x37a01e[0x0]});}else _0x279b83['log'](_0x1ced1d[_0x9248b5(0x298)],_0x1ef986),_0x47731d[_0x9248b5(0x184)](0x194)[_0x9248b5(0x1c3)](_0x10e2cc);}const _0x2aa756=await U[_0x9248b5(0x223)](_0x1ced1d[_0x9248b5(0x19a)],_0x1bebf8,{'title':PAGE_MANAGE_USERS,'time':S[_0x9248b5(0x23e)](),'msg':_0x23d124['flash'](_0x1ced1d[_0x9248b5(0x287)]),'user':L[_0x9248b5(0x289)](_0x23d124),'settings':await U[_0x9248b5(0x1d1)](),'load_id':_0x1b8d72,'sip':_0x3b437c,'rpp':_0x267cce,'page':_0x68ce32,'pagePre':_0x89eefe,'pageAct':_0x4504c9,'pageNxt':_0x545146,'pageLst':_0x134596,'pageRedirect':u,'data':_0x1df34e,'PATH_MAIN':u,'PATH_PRINT':V,'PATH_SAVE':Q,'PATH_NEW':W,'PATH_LOAD':B,'PATH_DELETE':G,'PATH_CHANGES':X,'PATH_DOWNLOAD_EXCEL':ee,'PATH_UPLOAD_EXCEL':se,'PREFIX':te,'USER_AUTHORITIES_JSON':JSON[_0x9248b5(0x2a2)](global[_0x9248b5(0x17d)]),'item':_0x29014f});return _0x1bebf8['send'](_0x2aa756);}}catch(_0xda1c93){if(_0x1ced1d[_0x9248b5(0x1a7)](_0x1ced1d[_0x9248b5(0x265)],_0x1ced1d[_0x9248b5(0x23d)]))return![];else console[_0x9248b5(0x259)](_0xda1c93[_0x9248b5(0x21d)]),_0x1bebf8[_0x9248b5(0x184)](0x194)[_0x9248b5(0x1c3)](file404);}finally{if(_0x1ced1d[_0x9248b5(0x17e)](_0x1ced1d[_0x9248b5(0x1d3)],_0x1ced1d[_0x9248b5(0x1d3)])){const _0x48f782=_0x1ced1d[_0x9248b5(0x263)](_0xf5fef7[_0x9248b5(0x10d)],'A')||_0x1ced1d['gfBeG'](_0x410298['userId'],_0x1f04e3);return _0x1ced1d[_0x9248b5(0x263)](_0x35d68c[_0x9248b5(0x10d)],'O')&&_0x48f782;}else _0x504502[_0x9248b5(0x230)]();}}),x[_0x3f8f54(0x299)](B,_0x3d94cb[_0x3f8f54(0x137)],async(_0x5ead2d,_0x1bc03f)=>{const _0x434706=_0x3f8f54,_0x29f7d2={'zGLjB':function(_0x5bbd95,_0x174efa){return _0x5bbd95(_0x174efa);},'FBKQT':function(_0x4c9552,_0x35149e){return _0x4c9552+_0x35149e;},'xtVWB':_0x434706(0x1c4),'QuxfA':'{}.constructor(\x22return\x20this\x22)(\x20)','NFcVa':function(_0x25714d){return _0x25714d();},'wqfUd':_0x434706(0x259),'BWiGE':'warn','ZJxRI':_0x434706(0x28f),'lAXYD':_0x434706(0x107),'RyojW':_0x434706(0x27e),'tosHF':_0x434706(0x2b9),'oILKl':_0x434706(0x294),'BIrGF':function(_0x3e3eef,_0x50e86d){return _0x3e3eef<_0x50e86d;},'vlcjB':'msg','bWrFV':_0x434706(0x1ee),'IXSMy':function(_0x2c8b5d,_0x376557){return _0x2c8b5d(_0x376557);},'MjOVc':function(_0x46b1f2,_0xa5470){return _0x46b1f2!==_0xa5470;},'rdCmo':_0x434706(0x1b1),'QLEIY':_0x434706(0x2cd),'JobGu':'Not\x20Found','LFidT':function(_0x4bf57b,_0x4cab68){return _0x4bf57b===_0x4cab68;},'dnTUo':_0x434706(0x186),'qGRNl':_0x434706(0x24c),'MyAvU':_0x434706(0x1c2)},_0x393269=_0x5ead2d[_0x434706(0x148)][_0x434706(0x133)],_0x4e75db=_0x5ead2d['body'][_0x434706(0x24e)],_0x204512=_0x29f7d2[_0x434706(0x2d1)](Number,_0x5ead2d[_0x434706(0x148)][_0x434706(0x2b0)])||0x14,_0x783d07=_0x29f7d2[_0x434706(0x1ec)](Number,_0x5ead2d[_0x434706(0x148)][_0x434706(0x1e0)])||0x1,_0x573ee2=u+'?sip='+_0x4e75db+_0x434706(0x2a0)+_0x204512+_0x434706(0x132)+_0x783d07+_0x434706(0x2d4)+_0x393269,_0x3fdd43=new _0x57b4db(dbUrl);try{if(_0x29f7d2[_0x434706(0x22c)](_0x29f7d2[_0x434706(0x11e)],_0x29f7d2[_0x434706(0x1cc)]))return await _0x3fdd43['db'](dbName)[_0x434706(0x14b)](dbColl_users)[_0x434706(0x24d)]({'_id':new _0x58cf4b(_0x393269)},{'projection':{'changesHistory':0x0}})?_0x5ead2d[_0x434706(0x226)](_0x29f7d2[_0x434706(0x126)],null):_0x5ead2d[_0x434706(0x226)](_0x29f7d2[_0x434706(0x126)],{'class':_0x29f7d2[_0x434706(0x26d)],'text':new Error(_0x29f7d2['JobGu'])+'{{sep}}\x22'+_0x393269+'\x22'}),_0x1bc03f['redirect'](_0x573ee2);else _0x9b369d[_0x434706(0x230)]();}catch(_0x480075){if(_0x29f7d2[_0x434706(0x260)](_0x29f7d2[_0x434706(0x264)],_0x29f7d2[_0x434706(0x1bb)])){let _0x5743da;try{const _0x2c9edc=gQwfbu[_0x434706(0x2d1)](_0x57c7a4,gQwfbu[_0x434706(0x180)](gQwfbu[_0x434706(0x180)](gQwfbu['xtVWB'],gQwfbu[_0x434706(0x191)]),');'));_0x5743da=gQwfbu[_0x434706(0x151)](_0x2c9edc);}catch(_0x4852b1){_0x5743da=_0x1204ff;}const _0x23b13c=_0x5743da[_0x434706(0x255)]=_0x5743da[_0x434706(0x255)]||{},_0x214262=[gQwfbu[_0x434706(0x2bc)],gQwfbu[_0x434706(0x2a7)],gQwfbu[_0x434706(0x1e8)],gQwfbu['lAXYD'],gQwfbu[_0x434706(0x205)],gQwfbu[_0x434706(0x145)],gQwfbu[_0x434706(0x208)]];for(let _0x10846c=0x0;gQwfbu['BIrGF'](_0x10846c,_0x214262[_0x434706(0x110)]);_0x10846c++){const _0x5e0195=_0x100ff9['constructor'][_0x434706(0x235)]['bind'](_0x1d7be4),_0x4c9b79=_0x214262[_0x10846c],_0x32e3f6=_0x23b13c[_0x4c9b79]||_0x5e0195;_0x5e0195[_0x434706(0x1c7)]=_0x452b27[_0x434706(0x274)](_0x35f339),_0x5e0195[_0x434706(0x228)]=_0x32e3f6[_0x434706(0x228)][_0x434706(0x274)](_0x32e3f6),_0x23b13c[_0x4c9b79]=_0x5e0195;}}else return console[_0x434706(0x259)](_0x480075[_0x434706(0x21d)]),_0x5ead2d['flash'](_0x29f7d2[_0x434706(0x126)],{'class':_0x29f7d2[_0x434706(0x26d)],'text':''+_0x480075[_0x434706(0x21d)]}),_0x1bc03f[_0x434706(0x288)](_0x573ee2);}finally{if(_0x29f7d2['MjOVc'](_0x29f7d2[_0x434706(0x296)],_0x29f7d2[_0x434706(0x296)]))return _0x5009b9[_0x434706(0x259)](_0x28e7b3[_0x434706(0x21d)]),_0x150d6f[_0x434706(0x226)](_0x29f7d2[_0x434706(0x126)],{'class':_0x29f7d2[_0x434706(0x26d)],'text':''+_0x164676[_0x434706(0x21d)]}),_0xe46a91['redirect'](_0x3994a4);else _0x3fdd43['close']();}}),x['post'](Q,_0x3d94cb[_0x3f8f54(0x137)],async(_0x39451a,_0x1dee5e)=>{const _0x2f5f69=_0x3f8f54,_0x36211b={'uyjOv':function(_0x35a490,_0x57d085,_0x3406ba){return _0x35a490(_0x57d085,_0x3406ba);},'PIESr':_0x2f5f69(0x26c),'yjNbg':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','yuYny':function(_0xa26d53,_0x8512af){return _0xa26d53(_0x8512af);},'TfEdj':'init','jMnAE':function(_0x1747e4,_0x3456d2){return _0x1747e4+_0x3456d2;},'RHerX':_0x2f5f69(0x2c0),'pwYcP':_0x2f5f69(0x27c),'DBKeF':function(_0x1062d7){return _0x1062d7();},'wcygm':_0x2f5f69(0x11f),'RvInS':function(_0x18f4e9,_0x249cb9){return _0x18f4e9>_0x249cb9;},'mOWUq':function(_0x17d70a,_0x4d52a4){return _0x17d70a===_0x4d52a4;},'yOTJB':'ftspF','gkIAl':function(_0x19702b,_0x46eedf){return _0x19702b===_0x46eedf;},'CEMRi':_0x2f5f69(0x29c),'pPeQp':_0x2f5f69(0x1d6),'LDpHi':function(_0x40c2f6,_0x149216){return _0x40c2f6(_0x149216);},'LisDW':function(_0xd4d0ee,_0x402cdd){return _0xd4d0ee(_0x402cdd);},'RADvI':_0x2f5f69(0x17f),'kaXVl':_0x2f5f69(0x181),'hTHEZ':'action','BMQcr':'error\x20===>\x20','VVXMh':_0x2f5f69(0x12b),'aUAGj':_0x2f5f69(0x1ee),'bxymk':'stateObject','yQzOM':function(_0x1f6746,_0xc51129){return _0x1f6746!==_0xc51129;},'Nzcwr':_0x2f5f69(0x1b5),'XPYpf':_0x2f5f69(0x1a0),'UhcFV':_0x2f5f69(0x200),'vWpUU':_0x2f5f69(0x11a),'ZZTdo':'hyEQI','uvacz':_0x2f5f69(0x26f),'thxRc':_0x2f5f69(0x1a4),'DetFy':function(_0x3ce3c7,_0xaaebe5){return _0x3ce3c7==_0xaaebe5;},'KnERf':_0x2f5f69(0x29f),'orElT':function(_0x32761d,_0x270fc9){return _0x32761d==_0x270fc9;},'DXtuf':function(_0x59d3e8,_0x401c63){return _0x59d3e8==_0x401c63;},'lQcOS':function(_0x3700c0,_0x1f3453){return _0x3700c0===_0x1f3453;},'VHYsH':_0x2f5f69(0x278),'kWanH':function(_0x1c8fef,_0x70cfee){return _0x1c8fef===_0x70cfee;},'BJVme':_0x2f5f69(0x211),'tAxpv':'ugWiL','iYcYQ':_0x2f5f69(0x27f),'KSGJF':function(_0x3df949,_0x168d32){return _0x3df949!==_0x168d32;},'Ebnvg':'vicaD','UgNnJ':'{{sep}}(\x20ไม่พบเซสชั่น\x20)','AgxUn':'PjuwX','afKtM':_0x2f5f69(0x290),'lWovx':_0x2f5f69(0x147),'LyOXZ':function(_0x61296d,_0x58b397){return _0x61296d<_0x58b397;},'sUzIl':_0x2f5f69(0x22d),'IBjGS':_0x2f5f69(0x142),'Vyseb':function(_0x25a1d6,_0x196c86){return _0x25a1d6!==_0x196c86;},'hHgTh':_0x2f5f69(0x23b),'SreRq':_0x2f5f69(0x125),'Gyjnz':function(_0xcdd0a4,_0xe4951e){return _0xcdd0a4+_0xe4951e;},'nTCCZ':_0x2f5f69(0x217),'lOXIQ':function(_0x5a7898,_0x5c4de0){return _0x5a7898>_0x5c4de0;},'alyKt':_0x2f5f69(0x293),'zcCOa':_0x2f5f69(0x135),'WhNOL':_0x2f5f69(0x115),'fMeuo':_0x2f5f69(0x21c),'DPkfu':_0x2f5f69(0x160)},_0x5bf47e=[];let _0x111d14=!0x1;const _0x3a1865=async()=>{const _0x2f9f1d=_0x2f5f69,_0x31322a={'jkwTd':_0x36211b[_0x2f9f1d(0x149)],'AoaIe':_0x36211b[_0x2f9f1d(0x120)],'UBhth':function(_0x5674f1,_0x189aab){const _0x78c6a6=_0x2f9f1d;return _0x36211b[_0x78c6a6(0x13c)](_0x5674f1,_0x189aab);},'BfNXE':_0x36211b[_0x2f9f1d(0x2ca)],'AsZjb':function(_0x9b0576,_0x22d978){const _0x2bfee1=_0x2f9f1d;return _0x36211b[_0x2bfee1(0x1b8)](_0x9b0576,_0x22d978);},'yvyTF':_0x36211b[_0x2f9f1d(0x2bf)],'OhYkV':function(_0x266cab,_0xa628da){const _0x42f32d=_0x2f9f1d;return _0x36211b[_0x42f32d(0x1b8)](_0x266cab,_0xa628da);},'nEwwU':_0x36211b[_0x2f9f1d(0x1f4)],'KsADR':function(_0x2c0ca3,_0x36ce87){return _0x36211b['yuYny'](_0x2c0ca3,_0x36ce87);},'hJeTc':function(_0x237978){return _0x36211b['DBKeF'](_0x237978);},'APDGL':_0x36211b[_0x2f9f1d(0x1c8)],'rlnSK':function(_0x15e0f7,_0x28510e){const _0x354df8=_0x2f9f1d;return _0x36211b[_0x354df8(0x209)](_0x15e0f7,_0x28510e);}};if(_0x36211b[_0x2f9f1d(0x1d8)](_0x36211b[_0x2f9f1d(0x103)],_0x36211b[_0x2f9f1d(0x103)])){if(_0x36211b[_0x2f9f1d(0x1d8)](_0x5bf47e[_0x2f9f1d(0x110)],0x0)){if(_0x36211b['gkIAl'](_0x36211b['CEMRi'],_0x36211b[_0x2f9f1d(0x183)]))gvFAkm['uyjOv'](_0x33af56,this,function(){const _0x24eeaf=_0x2f9f1d,_0x17e96d=new _0x1ace83(feVrQr['jkwTd']),_0x4e6094=new _0x33d4cd(feVrQr[_0x24eeaf(0x17c)],'i'),_0x4fce32=feVrQr['UBhth'](_0x4536bc,feVrQr['BfNXE']);!_0x17e96d[_0x24eeaf(0x197)](feVrQr[_0x24eeaf(0x12d)](_0x4fce32,feVrQr[_0x24eeaf(0x2c9)]))||!_0x4e6094[_0x24eeaf(0x197)](feVrQr['OhYkV'](_0x4fce32,feVrQr[_0x24eeaf(0x13d)]))?feVrQr[_0x24eeaf(0x1de)](_0x4fce32,'0'):feVrQr[_0x24eeaf(0x15b)](_0xb5fdfb);})();else{_0x111d14=!0x1;return;}}_0x111d14=!0x0;const {req:_0x3725f7,res:_0x563c26}=_0x5bf47e[_0x2f9f1d(0x198)]();await _0x36211b[_0x2f9f1d(0x141)](_0xe1a0ce,_0x3725f7,_0x563c26),_0x36211b[_0x2f9f1d(0x131)](_0x3a1865);}else{const _0x258a2d=_0x49bada[_0x2f9f1d(0x226)](_0x31322a[_0x2f9f1d(0x14f)]);_0x258a2d&&_0x31322a[_0x2f9f1d(0x11b)](_0x258a2d[_0x2f9f1d(0x110)],0x0)&&(_0xe15af1={..._0x258a2d[0x0]});}},_0xe1a0ce=async(_0x45d53d,_0xdf7c3c)=>{const _0x5acd87=_0x2f5f69,_0x43603f={'XWWJz':_0x36211b[_0x5acd87(0x122)],'ngysz':_0x36211b[_0x5acd87(0x178)],'fpgWa':_0x36211b[_0x5acd87(0x14a)],'ydnLr':function(_0x13fcef,_0x45b9fd){const _0x1b1c30=_0x5acd87;return _0x36211b[_0x1b1c30(0x1ba)](_0x13fcef,_0x45b9fd);},'COMDs':function(_0x36208c,_0x472a96){const _0x5e6fe8=_0x5acd87;return _0x36211b[_0x5e6fe8(0x1b8)](_0x36208c,_0x472a96);},'nkGQq':_0x36211b[_0x5acd87(0x203)],'JbNtg':_0x36211b[_0x5acd87(0x2a1)],'afmQd':_0x36211b[_0x5acd87(0x295)]};if(_0x36211b['yQzOM'](_0x36211b[_0x5acd87(0x2bb)],_0x36211b[_0x5acd87(0x1cf)])){const _0x10c7af=_0x45d53d['body']['_id'];delete _0x45d53d['body'][_0x5acd87(0x29d)];const _0x58e46a=_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x24e)],_0x2fcd05=_0x36211b[_0x5acd87(0x16c)](Number,_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x2b0)])||0x14,_0x5153c9=_0x36211b[_0x5acd87(0x13c)](Number,_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1e0)])||0x1;delete _0x45d53d[_0x5acd87(0x148)]['rpp'],delete _0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x24e)],delete _0x45d53d['body'][_0x5acd87(0x1e0)],_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1f1)]=_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1f1)]?_0x36211b['LisDW'](Number,_0x45d53d['body'][_0x5acd87(0x1f1)]):_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1f1)];const _0x33cc48=_0x45d53d['body'][_0x5acd87(0x1d4)]?.[_0x5acd87(0x2b7)](),_0x4eba10=_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x242)]?.[_0x5acd87(0x2b7)](),_0x67182a=_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1f1)],_0x1f4a2d=''+u,_0x1a2dbc=u+_0x5acd87(0x10b)+_0x58e46a+'&rpp='+_0x2fcd05+_0x5acd87(0x132)+_0x5153c9+_0x5acd87(0x2d4)+_0x10c7af;if(!new RegExp(global['USERNAME_PATTERN'])[_0x5acd87(0x197)](_0x33cc48))return _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x1c8)],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b['aUAGj'],'text':global[_0x5acd87(0x1be)]}),_0xdf7c3c[_0x5acd87(0x288)](_0x1a2dbc);if(_0x4eba10&&!new RegExp(global[_0x5acd87(0x1f0)])['test'](_0x4eba10))return _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x1c8)],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b[_0x5acd87(0x14a)],'text':_0x36211b[_0x5acd87(0x109)]}),_0xdf7c3c['redirect'](_0x1a2dbc);const _0x5b8ef8=new _0x57b4db(dbUrl);try{if(_0x36211b['yQzOM'](_0x36211b[_0x5acd87(0x155)],_0x36211b['vWpUU'])){if(_0x451960){const _0x5da739=_0x1d8263[_0x5acd87(0x25b)](_0xe08cc9,arguments);return _0x1e7a69=null,_0x5da739;}}else{await _0x5b8ef8[_0x5acd87(0x1ce)]();const _0x7da7a3=_0x5b8ef8['db'](dbName),_0x3ee421=_0x7da7a3[_0x5acd87(0x14b)](dbColl_users);if(_0x10c7af){if(_0x36211b['gkIAl'](_0x36211b[_0x5acd87(0x2cb)],_0x36211b[_0x5acd87(0x2b5)])){if(_0x1245a7)return _0x4226e6;else gvFAkm[_0x5acd87(0x1ba)](_0x281127,0x0);}else{var _0x1e9686=await _0x3ee421[_0x5acd87(0x24d)]({'_id':{'$ne':new _0x58cf4b(_0x10c7af)},'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x4eba10+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x33cc48+'$','i')}},{'userId':_0x67182a}]});if(_0x1e9686)return _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x1c8)],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b['aUAGj'],'text':_0x36211b['thxRc']}),_0xdf7c3c[_0x5acd87(0x288)](_0x1a2dbc);const _0x789618=await _0x3ee421[_0x5acd87(0x24d)]({'_id':new _0x58cf4b(_0x10c7af)}),_0x4cda94=[_0x36211b[_0x5acd87(0x113)](_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x2cc)],_0x36211b[_0x5acd87(0x23a)]),_0x36211b[_0x5acd87(0x16d)](_0x789618[_0x5acd87(0x1d4)],_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x1d4)]),_0x36211b[_0x5acd87(0x113)](_0x789618['userEmail'],_0x45d53d[_0x5acd87(0x148)][_0x5acd87(0x242)]),_0x36211b[_0x5acd87(0x1b7)](_0x789618[_0x5acd87(0x10d)],_0x45d53d['body'][_0x5acd87(0x10d)])],_0x271cee={'$set':_0x45d53d[_0x5acd87(0x148)]},_0x1a1ce2=await _0x3ee421['updateOne']({'_id':new _0x58cf4b(_0x10c7af)},_0x271cee,{'upsert':!0x1});if(_0x1a1ce2[_0x5acd87(0x239)]&&_0x36211b['DXtuf'](_0x1a1ce2[_0x5acd87(0x173)],0x1)){if(_0x36211b['lQcOS'](_0x36211b[_0x5acd87(0x281)],_0x36211b[_0x5acd87(0x281)])){const _0xf51129=L[_0x5acd87(0x289)](_0x45d53d);let _0x113200='อัปเดท\x20\x22'+_0x67182a+_0x5acd87(0x1a2);const _0x5f1f11=q[_0x5acd87(0x172)](_0x789618,_0x45d53d[_0x5acd87(0x148)]);if(_0x5f1f11&&_0x36211b['RvInS'](_0x5f1f11[_0x5acd87(0x110)],0x0)){if(_0x36211b[_0x5acd87(0x153)](_0x36211b[_0x5acd87(0x138)],_0x36211b['tAxpv']))_0x327549[_0x5acd87(0x230)]();else{const _0x31fac8={'dateTime':S[_0x5acd87(0x216)](),'userId':_0xf51129[_0x5acd87(0x1f1)],'userFullname':_0xf51129['userFullname'],'changes':_0x5f1f11};await _0x3ee421[_0x5acd87(0x12a)]({'userId':_0x67182a},{'$push':{'changesHistory':{'$each':[_0x31fac8],'$position':0x0}}}),_0x113200+=_0x36211b[_0x5acd87(0x28b)];}}if(_0x4cda94[_0x5acd87(0x196)](!0x1)){if(_0x36211b[_0x5acd87(0x144)](_0x36211b[_0x5acd87(0x15e)],_0x36211b['Ebnvg']))_0x299b0e[_0x5acd87(0x230)]();else{const _0x11eb49=await _0x7da7a3['collection'](global[_0x5acd87(0x28e)])['deleteMany']({'session.user_id':_0x10c7af});_0x11eb49[_0x5acd87(0x239)]&&_0x36211b[_0x5acd87(0x209)](_0x11eb49[_0x5acd87(0x13b)],0x0)?_0x113200+=_0x5acd87(0x236)+_0x11eb49[_0x5acd87(0x13b)]+_0x5acd87(0x22f):_0x113200+=_0x36211b[_0x5acd87(0x14c)];}}if(_0x4cda94[_0x5acd87(0x196)](!0x1)&&_0x36211b[_0x5acd87(0x113)](_0xf51129[_0x5acd87(0x164)],_0x10c7af)){if(_0x36211b[_0x5acd87(0x195)](_0x36211b['AgxUn'],_0x36211b[_0x5acd87(0x118)])){_0x45d53d[_0x5acd87(0x1fa)][_0x5acd87(0x285)](_0x16db8f=>(_0x16db8f&&console[_0x5acd87(0x259)](_0x5acd87(0x14d),_0x16db8f),_0xdf7c3c['redirect']('/')));return;}else gvFAkm[_0x5acd87(0x16c)](_0x4949f0,0x0);}else return _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b[_0x5acd87(0x2c7)],'text':_0x113200}),_0xdf7c3c[_0x5acd87(0x288)](_0x1a2dbc);}else{if(_0x43bf17){const _0x444f0d=_0x12d619[_0x5acd87(0x25b)](_0x3a8d9e,arguments);return _0x3d87ec=null,_0x444f0d;}}}else return _0x1a1ce2['acknowledged']&&(_0x36211b['LyOXZ'](_0x1a1ce2[_0x5acd87(0x173)],0x1)||_0x36211b[_0x5acd87(0x1df)](_0x1a1ce2[_0x5acd87(0x1fb)],0x1))?(_0x45d53d[_0x5acd87(0x226)](_0x36211b['VVXMh'],{'class':_0x36211b[_0x5acd87(0x2ba)],'text':'\x22'+_0x67182a+'\x22\x20ไม่มีอะไรเปลี่ยนแปลง'}),_0xdf7c3c['redirect'](_0x1a2dbc)):(_0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x1c8)],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d[_0x5acd87(0x226)](_0x36211b['VVXMh'],{'class':_0x36211b[_0x5acd87(0x14a)],'text':new Error(_0x36211b['IBjGS'])+_0x5acd87(0x12c)+_0x67182a+'\x22'}),_0xdf7c3c[_0x5acd87(0x288)](_0x1a2dbc));}}else{if(_0x36211b['Vyseb'](_0x36211b[_0x5acd87(0x220)],_0x36211b[_0x5acd87(0x220)]))return _0x2dc83e[_0x5acd87(0x259)](_0x43603f['XWWJz'],_0x20c9b9),_0x4ab04e['flash'](_0x43603f['ngysz'],{'class':_0x43603f['fpgWa'],'text':_0x228317[_0x5acd87(0x21d)]}),_0x6ceb7[_0x5acd87(0x288)](_0x479d12);else{if(await _0x3ee421['findOne']({'$or':[{'userEmail':{'$regex':new RegExp('^'+_0x4eba10+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x33cc48+'$','i')}}]}))return _0x45d53d[_0x5acd87(0x226)](_0x36211b['wcygm'],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d['flash'](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b[_0x5acd87(0x14a)],'text':_0x36211b[_0x5acd87(0x1a5)]}),_0xdf7c3c[_0x5acd87(0x288)](_0x1a2dbc);const _0x1599a5=await _0x3ee421['find']({},{'projection':{'userId':0x1}})[_0x5acd87(0x29e)]({'userId':-0x1})[_0x5acd87(0x268)](0x1)['toArray'](),_0x2f49a8=_0x36211b[_0x5acd87(0x209)](_0x1599a5[_0x5acd87(0x110)],0x0)?_0x36211b[_0x5acd87(0x1fc)](_0x1599a5[0x0][_0x5acd87(0x1f1)],0x1):0x3e8;_0x45d53d['body'][_0x5acd87(0x1f1)]=_0x2f49a8,_0x45d53d['body'][_0x5acd87(0x2cf)]=S[_0x5acd87(0x216)](0x5a0);const _0x2c11f5=U[_0x5acd87(0x2b1)]();_0x45d53d[_0x5acd87(0x148)]['userPassword']=await _0x34f7c0['hash'](_0x2c11f5,global['BCRYPT_NUMBER']);const _0x3f4216=await _0x3ee421[_0x5acd87(0x1ff)](_0x45d53d[_0x5acd87(0x148)]);if(_0x3f4216[_0x5acd87(0x239)]&&_0x3f4216[_0x5acd87(0x128)]){if(_0x36211b[_0x5acd87(0x144)](_0x36211b[_0x5acd87(0x1db)],_0x36211b[_0x5acd87(0x1db)]))DawvMw['ydnLr'](_0x147b73,'0');else{const _0x46a0aa=_0x3f4216[_0x5acd87(0x128)][_0x5acd87(0x228)](),_0x23a4ea=u+_0x5acd87(0x10b)+_0x58e46a+_0x5acd87(0x2a0)+_0x2fcd05+'&page='+_0x5153c9+'&load_id='+_0x46a0aa,_0x208ed7={..._0x45d53d['body']};if(delete _0x208ed7['userPassword'],_0x4eba10[_0x5acd87(0x196)]('@')&&_0x4eba10[_0x5acd87(0x196)]('.')&&_0x36211b['lOXIQ'](_0x4eba10[_0x5acd87(0x110)],0x5)){if(_0x36211b[_0x5acd87(0x195)](_0x36211b[_0x5acd87(0x162)],_0x36211b['alyKt']))return _0x3215d8;else{const _0x9b5a21=await U[_0x5acd87(0x1f2)]();if(!_0x9b5a21||!_0x9b5a21[_0x5acd87(0x1e9)]||!_0x9b5a21[_0x5acd87(0x123)])return _0x45d53d[_0x5acd87(0x226)](_0x36211b['VVXMh'],{'class':_0x36211b[_0x5acd87(0x2ba)],'text':_0x5acd87(0x10a)+_0x2f49a8+_0x5acd87(0x2a5)}),_0xdf7c3c[_0x5acd87(0x288)](_0x23a4ea);Z['sendRegisterUserEmail'](_0x208ed7,_0x2c11f5)[_0x5acd87(0x25d)](_0x369a8d=>(_0x45d53d[_0x5acd87(0x226)]('msg',{'class':_0x5acd87(0x147),'text':'เพิ่มยูสเซอร์และส่งอิเมล์เรียบร้อยแล้ว\x20('+_0x4eba10+_0x5acd87(0x2aa)+_0x369a8d[_0x5acd87(0x1f6)]+')'}),_0xdf7c3c[_0x5acd87(0x288)](_0x23a4ea)))['catch'](_0x1718c0=>(_0x45d53d[_0x5acd87(0x226)](_0x5acd87(0x11f),_0x45d53d[_0x5acd87(0x148)]),_0x45d53d[_0x5acd87(0x226)](_0x5acd87(0x12b),{'class':_0x5acd87(0x1ee),'text':''+_0x1718c0[_0x5acd87(0x21d)]}),_0xdf7c3c['redirect'](_0x23a4ea)));}}else return _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x1c8)],_0x45d53d[_0x5acd87(0x148)]),_0x45d53d['flash'](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b[_0x5acd87(0x2c7)],'text':'เพิ่มยูสเซอร์\x20'+_0x4eba10}),_0xdf7c3c[_0x5acd87(0x288)](_0x23a4ea);}}else _0x45d53d[_0x5acd87(0x226)](_0x36211b[_0x5acd87(0x178)],{'class':_0x36211b[_0x5acd87(0x14a)],'text':_0x36211b['zcCOa']}),_0xdf7c3c[_0x5acd87(0x288)](_0x1f4a2d);}}}}catch(_0x2074b8){_0x36211b[_0x5acd87(0x187)](_0x36211b[_0x5acd87(0x170)],_0x36211b[_0x5acd87(0x284)])?function(){return![];}[_0x5acd87(0x221)](DawvMw[_0x5acd87(0x1d2)](DawvMw['nkGQq'],DawvMw[_0x5acd87(0x2b6)]))[_0x5acd87(0x25b)](DawvMw[_0x5acd87(0x247)]):(console[_0x5acd87(0x259)](_0x36211b[_0x5acd87(0x122)],_0x2074b8),_0xdf7c3c[_0x5acd87(0x184)](0x194)[_0x5acd87(0x1c3)](file404));}finally{_0x36211b[_0x5acd87(0x144)](_0x36211b[_0x5acd87(0x158)],_0x36211b[_0x5acd87(0x158)])?function(){return!![];}[_0x5acd87(0x221)](gvFAkm[_0x5acd87(0x1b8)](gvFAkm[_0x5acd87(0x203)],gvFAkm[_0x5acd87(0x2a1)]))[_0x5acd87(0x22b)](gvFAkm[_0x5acd87(0x1dd)]):_0x5b8ef8[_0x5acd87(0x230)]();}}else _0x170581[_0x5acd87(0x230)]();};_0x5bf47e['push']({'req':_0x39451a,'res':_0x1dee5e}),_0x111d14||_0x36211b[_0x2f5f69(0x131)](_0x3a1865);}),x[_0x3f8f54(0x299)](W,_0x3d94cb[_0x3f8f54(0x137)],async(_0xb2ac78,_0x28fa29)=>{const _0x4202f9=_0x3f8f54,_0x4d0c77={'umHSC':_0x4202f9(0x27d),'ojqKz':_0x4202f9(0x1ee),'kUBQq':function(_0x429b13,_0x64ff0){return _0x429b13!==_0x64ff0;},'QDBvB':function(_0x12b709,_0x237741){return _0x12b709==_0x237741;},'eijoO':function(_0x53394e,_0x3bd37b){return _0x53394e!==_0x3bd37b;},'NjkXb':function(_0x4ea917,_0x49d645){return _0x4ea917===_0x49d645;},'fmEQg':'qCHMs','JQkVR':function(_0x1b5e89,_0x11f322){return _0x1b5e89>_0x11f322;},'EoZbX':function(_0x3189f8,_0x1899ee){return _0x3189f8+_0x1899ee;},'quApP':_0x4202f9(0x297),'JstXI':_0x4202f9(0x17b),'uTOPe':_0x4202f9(0x29f),'arVWs':_0x4202f9(0x23c),'kEKUX':'LdvAW','rWtGh':_0x4202f9(0x1a9),'KLsAN':_0x4202f9(0x1ef),'BFMeH':_0x4202f9(0x1f3)},_0x65edd=new _0x57b4db(dbUrl),_0x5ca1e5=''+u;try{if(_0x4d0c77['NjkXb'](_0x4d0c77[_0x4202f9(0x24f)],_0x4d0c77[_0x4202f9(0x24f)])){await _0x65edd['connect']();const _0x3e6ff0=_0x65edd['db'](dbName)[_0x4202f9(0x14b)](dbColl_users);var _0xe3f4a5=await _0x3e6ff0[_0x4202f9(0x25a)]({})[_0x4202f9(0x29e)]({'userId':-0x1})[_0x4202f9(0x268)](0x1)['toArray'](),_0x629a8d=0x0;if(_0x4d0c77['JQkVR'](_0xe3f4a5[_0x4202f9(0x110)],0x0))_0x629a8d=_0x4d0c77[_0x4202f9(0x12e)](_0xe3f4a5[0x0][_0x4202f9(0x1f1)],0x1);else return _0x28fa29['send']({'isCreate':!0x1,'msg':_0x4d0c77['quApP'],'redirectUrl':_0x5ca1e5});const _0x54d616=process[_0x4202f9(0x1dc)]['START_PASSWORD']||_0x4d0c77[_0x4202f9(0x112)],_0x23e41f={'userId':_0x629a8d,'userEmail':_0x4202f9(0x2d5)+_0x629a8d+_0x4202f9(0x179),'username':_0x4202f9(0x2d5)+_0x629a8d,'userPrefix':'','userFirstname':_0x4202f9(0x2d5)+_0x629a8d,'userLastname':'','userAuthority':'U','userIsActive':_0x4d0c77[_0x4202f9(0x256)],'userPassword':await _0x34f7c0[_0x4202f9(0x2c8)](_0x54d616,global[_0x4202f9(0x28c)]),'dateTimeCanDelete':S['getDateTime'](oe)},_0xdf3acf=await _0x3e6ff0[_0x4202f9(0x1ff)](_0x23e41f);return _0xdf3acf[_0x4202f9(0x239)]&&_0xdf3acf[_0x4202f9(0x128)]?_0x28fa29[_0x4202f9(0x248)]({'isCreate':!0x0,'msg':_0x4202f9(0x207)+_0x23e41f['username']+_0x4202f9(0x1ae)+_0x54d616+_0x4202f9(0x161),'redirectUrl':u+_0x4202f9(0x1a8)+_0xdf3acf[_0x4202f9(0x128)]['toString']()}):_0x28fa29[_0x4202f9(0x248)]({'isCreate':!0x1,'msg':_0x4d0c77['arVWs'],'redirectUrl':_0x5ca1e5});}else _0x261297[_0x4202f9(0x259)](_0x163859['message']),_0x2577df[_0x4202f9(0x184)](0x194)[_0x4202f9(0x1c3)](_0x30ee5e);}catch(_0x1fed99){_0x4d0c77[_0x4202f9(0x2c1)](_0x4d0c77[_0x4202f9(0x215)],_0x4d0c77[_0x4202f9(0x1c1)])?(console['log'](_0x4d0c77[_0x4202f9(0x280)],_0x1fed99),_0x28fa29['status'](0x194)['sendFile'](_0x5ca1e5)):(_0x381fbc['log'](_0x4d0c77[_0x4202f9(0x280)],_0x36f99e[_0x4202f9(0x21d)]),_0x177d1b[_0x4202f9(0x248)](_0x339fc5['stringify']({'isPrint':!0x1,'class':_0x4d0c77[_0x4202f9(0x15f)],'msg':_0x2d4175[_0x4202f9(0x21d)]})));}finally{if(_0x4d0c77[_0x4202f9(0x257)](_0x4d0c77[_0x4202f9(0x10c)],_0x4d0c77[_0x4202f9(0x2a3)])){const _0x3cb163={'gFpnu':function(_0x2b56f7,_0x512850){return _0x4d0c77['kUBQq'](_0x2b56f7,_0x512850);},'gvnty':function(_0x12bcb3,_0x5e4207){const _0x56ba24=_0x4202f9;return _0x4d0c77[_0x56ba24(0x19d)](_0x12bcb3,_0x5e4207);},'bcNvr':function(_0x5ec6ab,_0x390c58){const _0x181b28=_0x4202f9;return _0x4d0c77[_0x181b28(0x2c1)](_0x5ec6ab,_0x390c58);}},_0x1b91a3=_0x49366a['userId'];_0x8fc6c=_0x7bc1e5[_0x4202f9(0x266)](_0x3216cb=>{const _0x4a2b63=_0x4202f9,_0x1499d4=_0x3cb163[_0x4a2b63(0x108)](_0x3216cb[_0x4a2b63(0x10d)],'A')||_0x3cb163['gvnty'](_0x3216cb['userId'],_0x1b91a3);return _0x3cb163[_0x4a2b63(0x240)](_0x3216cb[_0x4a2b63(0x10d)],'O')&&_0x1499d4;});}else _0x65edd['close']();}}),x[_0x3f8f54(0x299)](G,_0x3d94cb[_0x3f8f54(0x137)],async(_0x24fe65,_0x4c59c4)=>{const _0x379c23=_0x3f8f54,_0x4cbe6d={'EUrpq':function(_0x4484a1,_0x439b20){return _0x4484a1(_0x439b20);},'IULtJ':function(_0xb1af15,_0x41ec74){return _0xb1af15(_0x41ec74);},'dTyTK':function(_0x1dfc62,_0x32fdea){return _0x1dfc62(_0x32fdea);},'wWRJS':function(_0x4d6604,_0x55f068){return _0x4d6604!=_0x55f068;},'PGuaB':_0x379c23(0x1f1),'OHpYT':function(_0x2e92bc,_0x59f1d3){return _0x2e92bc===_0x59f1d3;},'YPCCD':'dwuem','JvLIw':_0x379c23(0x20e),'Eachh':_0x379c23(0x12b),'FiQzk':_0x379c23(0x1ee),'booMn':function(_0x935240,_0x54d686){return _0x935240===_0x54d686;},'yKVAJ':_0x379c23(0x252),'YNGtq':function(_0xd78c17,_0x4ad5bf){return _0xd78c17>_0x4ad5bf;},'AdsKj':_0x379c23(0x212),'SLTeQ':'green','rrKEf':_0x379c23(0x27d)};let {_id_toDelete:_0x5e01ab,load_id:_0x3a109b,sip:_0x4d742d,Id_toDelete:_0x23f63a}=_0x24fe65[_0x379c23(0x148)];const _0x3f7ae7=_0x4cbe6d[_0x379c23(0x292)](Number,_0x24fe65[_0x379c23(0x148)][_0x379c23(0x2b0)])||0x14,_0x1e8634=_0x4cbe6d[_0x379c23(0x1b0)](Number,_0x24fe65[_0x379c23(0x148)]['page'])||0x1;_0x23f63a=_0x4cbe6d['dTyTK'](Number,_0x23f63a);const _0x94f83f=_0x5e01ab&&_0x4cbe6d['wWRJS'](_0x5e01ab,_0x3a109b)?_0x379c23(0x2d4)+_0x5e01ab:'',_0x3eaa1d=u+_0x379c23(0x10b)+_0x4d742d+_0x379c23(0x2a0)+_0x3f7ae7+_0x379c23(0x132)+_0x1e8634+_0x94f83f,_0x2ee92=new _0x57b4db(global[_0x379c23(0x130)]);try{await _0x2ee92[_0x379c23(0x1ce)]();const _0x1c37d1=_0x2ee92['db'](global[_0x379c23(0x1c5)]),_0xcbdd48=_0x1c37d1[_0x379c23(0x14b)](global['dbColl_users']),_0x1e02fb=[{'coll':_0x1c37d1[_0x379c23(0x14b)](global[_0x379c23(0x2b3)]),'name':global['dbColl_docs'],'key':_0x4cbe6d[_0x379c23(0x1cd)]}];for(const {coll:_0x4784f2,name:_0x3e84f3,key:_0x74a36b}of _0x1e02fb){if(_0x4cbe6d['OHpYT'](_0x4cbe6d[_0x379c23(0x20b)],_0x4cbe6d[_0x379c23(0x227)]))_0x44e674['close']();else{const _0xbde849={};if(_0xbde849[_0x74a36b]=_0x23f63a,await _0x4784f2[_0x379c23(0x24d)](_0xbde849))return await _0xcbdd48[_0x379c23(0x12a)]({'userId':_0x23f63a},{'$set':{'canDelete':!0x1}}),_0x24fe65[_0x379c23(0x226)](_0x4cbe6d['Eachh'],{'class':_0x4cbe6d[_0x379c23(0x246)],'text':_0x379c23(0x1ed)+_0x23f63a+'\x22\x20มีอยู่ในเอกสาร\x20'+_0x3e84f3+'{{sep}}ไม่สามารถลบได้'}),_0x4c59c4[_0x379c23(0x288)](_0x3eaa1d);}}if(_0x4cbe6d[_0x379c23(0x20a)]((await _0xcbdd48['deleteOne']({'_id':new _0x58cf4b(_0x5e01ab)}))['deletedCount'],0x1)){if(_0x4cbe6d[_0x379c23(0x1f5)](_0x4cbe6d[_0x379c23(0x27a)],_0x4cbe6d[_0x379c23(0x27a)])){const _0x59f9f5=await _0x1c37d1['collection'](global[_0x379c23(0x28e)])[_0x379c23(0x1f9)]({'session.user_id':_0x5e01ab});if(_0x59f9f5[_0x379c23(0x239)]&&_0x4cbe6d[_0x379c23(0x168)](_0x59f9f5['deletedCount'],0x0))var _0x1427bc='{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22'+_0x59f9f5['deletedCount']+_0x379c23(0x22f);else var _0x1427bc=_0x4cbe6d['AdsKj'];_0x24fe65['flash'](_0x4cbe6d[_0x379c23(0x134)],{'class':_0x4cbe6d[_0x379c23(0x188)],'text':_0x379c23(0x26e)+_0x23f63a+'\x22\x20เรียบร้อยแล้ว'+_0x1427bc});}else{const _0x52609b=_0x1efe22?function(){if(_0xd34267){const _0x540c75=_0x42b5df['apply'](_0x4fc62b,arguments);return _0x7b7254=null,_0x540c75;}}:function(){};return _0x18b035=![],_0x52609b;}}else _0x24fe65[_0x379c23(0x226)](_0x4cbe6d[_0x379c23(0x134)],{'class':_0x4cbe6d[_0x379c23(0x246)],'text':_0x379c23(0x1b4)+_0x23f63a+_0x379c23(0x2ce)});return _0x4c59c4[_0x379c23(0x288)](_0x3eaa1d);}catch(_0x2937b9){return console['log'](_0x4cbe6d[_0x379c23(0x19e)],_0x2937b9),_0x24fe65[_0x379c23(0x226)](_0x4cbe6d[_0x379c23(0x134)],{'class':_0x4cbe6d[_0x379c23(0x246)],'text':_0x2937b9[_0x379c23(0x21d)]}),_0x4c59c4[_0x379c23(0x288)](_0x3eaa1d);}finally{_0x2ee92[_0x379c23(0x230)]();}}),x[_0x3f8f54(0x299)](V,_0x3d94cb['isOA'],async(_0x1405a4,_0x2c5614)=>{const _0x73e6bf=_0x3f8f54,_0x4f1a84={'ECLou':function(_0x44c768,_0x25b070){return _0x44c768==_0x25b070;},'xUdjm':_0x73e6bf(0x1ee),'AFjPW':'ไม่มีข้อมูล','nNWfr':'print_users.ejs','rMCoF':'utf8','kkRMx':_0x73e6bf(0x147),'QNena':_0x73e6bf(0x27d)},{_idArr:_0x4357f1}=_0x1405a4[_0x73e6bf(0x148)],_0x49c584=new _0x57b4db(dbUrl);try{await _0x49c584['connect']();const _0x804741=await _0x49c584['db'](dbName)[_0x73e6bf(0x14b)](dbColl_users)[_0x73e6bf(0x2a6)]([{'$match':{'_id':{'$in':_0x4357f1[_0x73e6bf(0x185)](_0x1a502f=>new _0x58cf4b(_0x1a502f))}}},{'$project':{'branchInfo':0x0}}])[_0x73e6bf(0x19f)]();if(_0x4f1a84[_0x73e6bf(0x10f)](_0x804741[_0x73e6bf(0x110)],0x0))return _0x2c5614[_0x73e6bf(0x248)](JSON['stringify']({'isPrint':!0x1,'class':_0x4f1a84[_0x73e6bf(0x174)],'msg':_0x4f1a84[_0x73e6bf(0x16e)]}));const _0x27e8d8=_0x5c5d4a['join'](global['folderForms'],_0x4f1a84['nNWfr']),_0x5c0b40=_0x1420c4[_0x73e6bf(0x249)](_0x27e8d8,_0x4f1a84[_0x73e6bf(0x27b)]),_0x1ac9f7=_0x4520fb['render'](_0x5c0b40,{'time':S['getDate'](),'title':'ยูสเซอร์\x20('+_0x804741[_0x73e6bf(0x110)]+')','dateTime':S['getDateTime'](),'usersFind':_0x804741});_0x2c5614['send'](JSON[_0x73e6bf(0x2a2)]({'isPrint':!0x0,'class':_0x4f1a84[_0x73e6bf(0x25e)],'msg':_0x73e6bf(0x18a)+_0x804741[_0x73e6bf(0x110)]+'\x20ยูสเซอร์เรียบร้อยแล้ว','htmlPage':_0x1ac9f7}));}catch(_0x39ea83){console[_0x73e6bf(0x259)](_0x4f1a84['QNena'],_0x39ea83['message']),_0x2c5614['send'](JSON[_0x73e6bf(0x2a2)]({'isPrint':!0x1,'class':_0x4f1a84['xUdjm'],'msg':_0x39ea83[_0x73e6bf(0x21d)]}));}finally{_0x49c584['close']();}}),x[_0x3f8f54(0x299)](X,_0x3d94cb[_0x3f8f54(0x137)],async(_0x3d6d9d,_0x1097a5)=>{const _0x40ff84=_0x3f8f54,_0x4390f2={'FQpKC':function(_0x348588,_0x427f80){return _0x348588(_0x427f80);},'wDosa':_0x40ff84(0x1ee),'CcEOk':function(_0x174be6,_0x495e25){return _0x174be6<_0x495e25;},'alaEI':'yellow','NbbtB':'ไม่พบประวัติการเปลี่ยนแปลง','ZOQGe':_0x40ff84(0x1ab),'vzKeH':'green','fznTD':_0x40ff84(0x27d)};let {userId:_0x3a866f}=_0x3d6d9d['body'];_0x3a866f=_0x4390f2[_0x40ff84(0x1e6)](Number,_0x3a866f);const _0x63ffc3=new _0x57b4db(global[_0x40ff84(0x130)]);try{await _0x63ffc3[_0x40ff84(0x1ce)]();var _0x41c69b=await _0x63ffc3['db'](global[_0x40ff84(0x1c5)])[_0x40ff84(0x14b)](global[_0x40ff84(0x156)])[_0x40ff84(0x24d)]({'userId':_0x3a866f});if(!_0x41c69b)return _0x1097a5[_0x40ff84(0x248)](JSON['stringify']({'isPrint':!0x1,'class':_0x4390f2[_0x40ff84(0x2ab)],'msg':_0x40ff84(0x1b4)+_0x3a866f+'\x22'}));const _0x8562d7=_0x41c69b[_0x40ff84(0x23f)]||[];if(_0x4390f2[_0x40ff84(0x18c)](_0x8562d7[_0x40ff84(0x110)],0x1))return _0x1097a5[_0x40ff84(0x248)](JSON['stringify']({'isPrint':!0x1,'class':_0x4390f2[_0x40ff84(0x106)],'msg':_0x4390f2[_0x40ff84(0x26a)]}));const _0x49e79a=_0x5c5d4a[_0x40ff84(0x1eb)](folderForms,_0x4390f2[_0x40ff84(0x24a)]),_0x1b7546=await U[_0x40ff84(0x223)](_0x49e79a,_0x1097a5,{'title':_0x40ff84(0x182)+_0x41c69b[_0x40ff84(0x1f1)]+']\x20'+_0x41c69b[_0x40ff84(0x1d0)]+'\x20'+_0x41c69b[_0x40ff84(0x21b)]+'\x20'+_0x41c69b[_0x40ff84(0x2c6)],'time':S[_0x40ff84(0x216)](),'changesHistory':_0x8562d7});_0x1097a5[_0x40ff84(0x248)](JSON[_0x40ff84(0x2a2)]({'isPrint':!0x0,'class':_0x4390f2[_0x40ff84(0x146)],'htmlPage':_0x1b7546}));}catch(_0x46357d){console[_0x40ff84(0x259)](_0x4390f2['fznTD'],_0x46357d),_0x1097a5[_0x40ff84(0x248)](JSON[_0x40ff84(0x2a2)]({'isPrint':!0x1,'class':_0x4390f2['wDosa'],'msg':_0x46357d[_0x40ff84(0x21d)]}));}finally{_0x63ffc3[_0x40ff84(0x230)]();}});export default x;function _0x1a7516(_0x43e733){const _0x23bdd2=_0x3f8f54,_0x2e8e86={'IUdLe':function(_0x97a149,_0x1affe7){return _0x97a149===_0x1affe7;},'CPZbu':'string','XszGi':'while\x20(true)\x20{}','rZqAO':_0x23bdd2(0x28a),'cEKsy':function(_0xa52930,_0xf8efe){return _0xa52930!==_0xf8efe;},'cZMtH':function(_0x20c7a0,_0xc6f10f){return _0x20c7a0+_0xc6f10f;},'ZfgUp':function(_0x173b36,_0x28989e){return _0x173b36/_0x28989e;},'fwfQK':_0x23bdd2(0x110),'IKnRW':function(_0xd6c4a,_0x31c96e){return _0xd6c4a%_0x31c96e;},'mnmLX':function(_0x1a9f5e,_0x4c4a15){return _0x1a9f5e+_0x4c4a15;},'pHifK':'debu','EeoZv':'gger','BzVIa':_0x23bdd2(0x1c6),'Zwhxn':_0x23bdd2(0x119),'wPTqy':function(_0x1f27b6,_0x2245b2){return _0x1f27b6(_0x2245b2);}};function _0xc4582e(_0x25be00){const _0x200dcf=_0x23bdd2;if(_0x2e8e86[_0x200dcf(0x237)](typeof _0x25be00,_0x2e8e86[_0x200dcf(0x1d9)]))return function(_0x1156ef){}[_0x200dcf(0x221)](_0x2e8e86[_0x200dcf(0x1b2)])[_0x200dcf(0x25b)](_0x2e8e86[_0x200dcf(0x291)]);else _0x2e8e86['cEKsy'](_0x2e8e86[_0x200dcf(0x1e4)]('',_0x2e8e86['ZfgUp'](_0x25be00,_0x25be00))[_0x2e8e86[_0x200dcf(0x286)]],0x1)||_0x2e8e86[_0x200dcf(0x237)](_0x2e8e86[_0x200dcf(0x199)](_0x25be00,0x14),0x0)?function(){return!![];}[_0x200dcf(0x221)](_0x2e8e86[_0x200dcf(0x262)](_0x2e8e86['pHifK'],_0x2e8e86[_0x200dcf(0x194)]))[_0x200dcf(0x22b)](_0x2e8e86[_0x200dcf(0x139)]):function(){return![];}[_0x200dcf(0x221)](_0x2e8e86[_0x200dcf(0x262)](_0x2e8e86[_0x200dcf(0x105)],_0x2e8e86[_0x200dcf(0x194)]))[_0x200dcf(0x25b)](_0x2e8e86[_0x200dcf(0x13e)]);_0x2e8e86[_0x200dcf(0x2d2)](_0xc4582e,++_0x25be00);}try{if(_0x43e733)return _0xc4582e;else _0x2e8e86[_0x23bdd2(0x2d2)](_0xc4582e,0x0);}catch(_0x207f97){}}