const _0x6e54e1=_0x9146;(function(_0x7bffef,_0x5bc33e){const _0x32f68d=_0x9146,_0x3bef74=_0x7bffef();while(!![]){try{const _0x124755=-parseInt(_0x32f68d(0x2a4))/0x1*(parseInt(_0x32f68d(0x22e))/0x2)+parseInt(_0x32f68d(0x281))/0x3+parseInt(_0x32f68d(0x24e))/0x4+parseInt(_0x32f68d(0x1ed))/0x5+parseInt(_0x32f68d(0x1a3))/0x6*(parseInt(_0x32f68d(0x22a))/0x7)+parseInt(_0x32f68d(0x299))/0x8*(parseInt(_0x32f68d(0x1e9))/0x9)+-parseInt(_0x32f68d(0x1c6))/0xa;if(_0x124755===_0x5bc33e)break;else _0x3bef74['push'](_0x3bef74['shift']());}catch(_0x38632e){_0x3bef74['push'](_0x3bef74['shift']());}}}(_0x46ef,0xcbdb0));const _0xdcc693=(function(){const _0x510124=_0x9146,_0x298bd8={'dXUDb':function(_0x137b3d,_0x2019fa){return _0x137b3d+_0x2019fa;},'OkHFF':_0x510124(0x1c4),'tkBzc':_0x510124(0x26b),'gdrXX':_0x510124(0x1f1),'zUqOn':_0x510124(0x2a6),'HKFzv':function(_0x7b0406,_0x3bc48d){return _0x7b0406(_0x3bc48d);},'yPNjz':function(_0x12e3bd,_0x1f2ba3){return _0x12e3bd+_0x1f2ba3;},'lXMGU':_0x510124(0x260),'nGXhz':_0x510124(0x27b),'IKAcP':function(_0x495235){return _0x495235();},'ewfmw':function(_0x511c96,_0x170f7c){return _0x511c96!==_0x170f7c;},'aWWJD':_0x510124(0x199),'uukbg':_0x510124(0x21a),'KLUjf':_0x510124(0x23d),'UPkPH':_0x510124(0x202),'pRTyh':function(_0x1ac651,_0x34ca05){return _0x1ac651!==_0x34ca05;},'magVy':_0x510124(0x2a0),'osRtj':'BeFKf'};let _0x3ce8b1=!![];return function(_0x5dcfd5,_0x5d629a){const _0x839d99=_0x510124,_0x3b84f5={'lgfNQ':_0x298bd8[_0x839d99(0x248)],'IZdmY':function(_0x285e23,_0x2da03c){return _0x298bd8['HKFzv'](_0x285e23,_0x2da03c);},'CUnQp':function(_0x118099,_0x1c144e){const _0x31367a=_0x839d99;return _0x298bd8[_0x31367a(0x1a7)](_0x118099,_0x1c144e);},'SzTda':_0x298bd8[_0x839d99(0x21e)],'dXTGz':_0x298bd8[_0x839d99(0x24d)],'lqXEr':function(_0x292ac7){const _0x1f2616=_0x839d99;return _0x298bd8[_0x1f2616(0x226)](_0x292ac7);},'dlQty':function(_0x452d09,_0x4341c3){const _0x21d85d=_0x839d99;return _0x298bd8[_0x21d85d(0x279)](_0x452d09,_0x4341c3);},'MCest':_0x298bd8['aWWJD'],'mdfnl':_0x298bd8[_0x839d99(0x25c)],'zdQCR':_0x298bd8[_0x839d99(0x21d)],'JwQTZ':_0x298bd8[_0x839d99(0x211)]};if(_0x298bd8[_0x839d99(0x203)](_0x298bd8[_0x839d99(0x1e4)],_0x298bd8[_0x839d99(0x1b5)])){const _0x2ae0af=_0x3ce8b1?function(){const _0xc51497=_0x839d99;if(_0x3b84f5[_0xc51497(0x26f)](_0x3b84f5[_0xc51497(0x1d1)],_0x3b84f5[_0xc51497(0x272)])){if(_0x5d629a){if(_0x3b84f5[_0xc51497(0x26f)](_0x3b84f5[_0xc51497(0x1ae)],_0x3b84f5['JwQTZ'])){const _0x1678f5=_0x5d629a['apply'](_0x5dcfd5,arguments);return _0x5d629a=null,_0x1678f5;}else _0x51645a[_0xc51497(0x1b4)](_0x5b9e28),_0x4caefa[_0xc51497(0x1a5)](0x1f4)[_0xc51497(0x1af)]({'status':_0x3b84f5[_0xc51497(0x213)],'msg':_0x5d67a[_0xc51497(0x19d)]});}}else{const _0x4fdae2=_0x3b84f5[_0xc51497(0x29b)](_0x211947,_0x3b84f5[_0xc51497(0x234)](_0x3b84f5['CUnQp'](_0x3b84f5[_0xc51497(0x1a9)],_0x3b84f5[_0xc51497(0x1a2)]),');'));_0xf1285c=_0x3b84f5[_0xc51497(0x215)](_0x4fdae2);}}:function(){};return _0x3ce8b1=![],_0x2ae0af;}else(function(){return![];}[_0x839d99(0x1c3)](_0x298bd8[_0x839d99(0x26c)](_0x298bd8[_0x839d99(0x1e2)],_0x298bd8[_0x839d99(0x284)]))[_0x839d99(0x1de)](_0x298bd8[_0x839d99(0x221)]));};}());(function(){const _0x3b913c=_0x9146,_0x59a1a1={'sfopV':function(_0x77d644,_0x454f68){return _0x77d644(_0x454f68);},'iAstV':_0x3b913c(0x250),'vNssq':_0x3b913c(0x2a3),'CVeSW':function(_0x4e6ce7,_0x539ec){return _0x4e6ce7(_0x539ec);},'tQiBM':_0x3b913c(0x29f),'fAJsn':function(_0xf3f514,_0x15ea88){return _0xf3f514+_0x15ea88;},'DVCOT':_0x3b913c(0x20a),'nFsCG':'input','mxprJ':function(_0x12b5c1){return _0x12b5c1();},'GzRfm':function(_0x6b1596,_0x207a0f){return _0x6b1596!==_0x207a0f;},'abjVA':_0x3b913c(0x200),'jaciR':'lkovr','IVEyO':_0x3b913c(0x266),'UQfVX':function(_0x3c9d45,_0x3b5704){return _0x3c9d45===_0x3b5704;},'xJtea':'nfRDU','sUxHl':function(_0x7a909c){return _0x7a909c();},'UYvXV':function(_0x3a0dff,_0x488ce4,_0x1b1f3c){return _0x3a0dff(_0x488ce4,_0x1b1f3c);}};_0x59a1a1[_0x3b913c(0x20d)](_0xdcc693,this,function(){const _0x2684a0=_0x3b913c,_0x199122={'yDWXD':_0x59a1a1[_0x2684a0(0x1fa)],'rBQcu':_0x59a1a1['vNssq'],'paVam':function(_0x4af30f,_0x6ab37){const _0xd1d9d1=_0x2684a0;return _0x59a1a1[_0xd1d9d1(0x1cf)](_0x4af30f,_0x6ab37);},'dLqTe':_0x59a1a1[_0x2684a0(0x1e0)],'YZmtP':function(_0x5a0249,_0x2f01a9){const _0x48f259=_0x2684a0;return _0x59a1a1[_0x48f259(0x27e)](_0x5a0249,_0x2f01a9);},'VvrqY':_0x59a1a1[_0x2684a0(0x296)],'gNnFa':_0x59a1a1['nFsCG'],'tcJSg':function(_0x372fd4,_0x1880f8){return _0x59a1a1['CVeSW'](_0x372fd4,_0x1880f8);},'buRQe':function(_0x3e760b){const _0x126510=_0x2684a0;return _0x59a1a1[_0x126510(0x1c7)](_0x3e760b);}};if(_0x59a1a1['GzRfm'](_0x59a1a1[_0x2684a0(0x212)],_0x59a1a1[_0x2684a0(0x212)])){const _0x2c21d6=new _0x125b05(_0x199122[_0x2684a0(0x1c0)]),_0x41574f=new _0x2a0eab(_0x199122[_0x2684a0(0x1f5)],'i'),_0x3ccefc=_0x199122['paVam'](_0x462c65,_0x199122[_0x2684a0(0x28a)]);!_0x2c21d6[_0x2684a0(0x1cd)](_0x199122['YZmtP'](_0x3ccefc,_0x199122[_0x2684a0(0x28b)]))||!_0x41574f[_0x2684a0(0x1cd)](_0x199122[_0x2684a0(0x227)](_0x3ccefc,_0x199122['gNnFa']))?_0x199122[_0x2684a0(0x20e)](_0x3ccefc,'0'):_0x199122[_0x2684a0(0x1e8)](_0xe8ecaa);}else{const _0x3a0f90=new RegExp(_0x59a1a1[_0x2684a0(0x1fa)]),_0x53402d=new RegExp(_0x59a1a1[_0x2684a0(0x1a0)],'i'),_0x321352=_0x59a1a1['sfopV'](_0x541608,_0x59a1a1[_0x2684a0(0x1e0)]);if(!_0x3a0f90[_0x2684a0(0x1cd)](_0x59a1a1[_0x2684a0(0x27e)](_0x321352,_0x59a1a1[_0x2684a0(0x296)]))||!_0x53402d['test'](_0x59a1a1['fAJsn'](_0x321352,_0x59a1a1['nFsCG']))){if(_0x59a1a1[_0x2684a0(0x264)](_0x59a1a1[_0x2684a0(0x253)],_0x59a1a1[_0x2684a0(0x27f)]))_0x59a1a1[_0x2684a0(0x1cf)](_0x321352,'0');else return![];}else _0x59a1a1[_0x2684a0(0x24f)](_0x59a1a1[_0x2684a0(0x278)],_0x59a1a1[_0x2684a0(0x278)])?_0x59a1a1['sUxHl'](_0x541608):_0x59a1a1['sfopV'](_0x44012e,'0');}})();}());const _0x2c65da=(function(){const _0xd480fc=_0x9146,_0x1f5946={'sYTbB':function(_0x4cb201,_0x57fc38){return _0x4cb201!==_0x57fc38;},'elZPz':'oUurI','kGYDy':_0xd480fc(0x1da),'lmNso':function(_0x5931e7,_0x12c2c4){return _0x5931e7===_0x12c2c4;},'tpOmg':'NEjjD','ogEBX':_0xd480fc(0x259),'RYjLL':function(_0x1f4d07){return _0x1f4d07();},'NaIJD':function(_0x4c5825,_0x5ced18){return _0x4c5825!==_0x5ced18;},'hFFdG':_0xd480fc(0x277)};let _0x4e9b70=!![];return function(_0x3f7ffb,_0x27d747){const _0x186cc6=_0xd480fc,_0x145f80={'VVPbi':function(_0xba96e4){const _0xa72068=_0x9146;return _0x1f5946[_0xa72068(0x286)](_0xba96e4);}};if(_0x1f5946[_0x186cc6(0x262)](_0x1f5946['hFFdG'],_0x1f5946[_0x186cc6(0x25f)]))_0x145f80['VVPbi'](_0x166b9f);else{const _0x1935d1=_0x4e9b70?function(){const _0xcb406a=_0x186cc6;if(_0x1f5946[_0xcb406a(0x249)](_0x1f5946[_0xcb406a(0x1f7)],_0x1f5946[_0xcb406a(0x1ab)])){if(_0x27d747){if(_0x1f5946[_0xcb406a(0x1db)](_0x1f5946[_0xcb406a(0x19a)],_0x1f5946[_0xcb406a(0x208)])){if(_0xbbf973){const _0x34a09e=_0x5ac133[_0xcb406a(0x1de)](_0x4c5a01,arguments);return _0x5564d9=null,_0x34a09e;}}else{const _0x2c27c6=_0x27d747[_0xcb406a(0x1de)](_0x3f7ffb,arguments);return _0x27d747=null,_0x2c27c6;}}}else{if(_0x875dca){const _0x4f3eb0=_0x172194[_0xcb406a(0x1de)](_0x3cf9d1,arguments);return _0x5f0269=null,_0x4f3eb0;}}}:function(){};return _0x4e9b70=![],_0x1935d1;}};}()),_0x3c687a=_0x2c65da(this,function(){const _0x3e7776=_0x9146,_0x54950b={'OatKM':_0x3e7776(0x250),'oWOXF':_0x3e7776(0x2a3),'TMiRi':function(_0x10af71,_0x28dae5){return _0x10af71(_0x28dae5);},'jyxrR':_0x3e7776(0x29f),'zRSxv':function(_0x17fc58,_0x541cee){return _0x17fc58+_0x541cee;},'YKuRL':_0x3e7776(0x20a),'hKdyP':function(_0x559a3f,_0x474993){return _0x559a3f+_0x474993;},'fFtKt':'input','frbjm':function(_0x574bb5,_0x460a95){return _0x574bb5(_0x460a95);},'iRMyb':function(_0x1cd7b7){return _0x1cd7b7();},'QmjvB':function(_0x1cfbf2,_0x257171,_0x569f79){return _0x1cfbf2(_0x257171,_0x569f79);},'hHTSv':function(_0x318190,_0x42eedb){return _0x318190(_0x42eedb);},'Arczx':function(_0x1cfc91,_0x44e47e){return _0x1cfc91+_0x44e47e;},'QZlHN':_0x3e7776(0x260),'aaOVP':_0x3e7776(0x27b),'GnwYq':function(_0x1e14a2){return _0x1e14a2();},'sPmuW':'log','mwQjt':'warn','SLOjB':_0x3e7776(0x290),'SXsJR':_0x3e7776(0x2a6),'IoTsk':_0x3e7776(0x291),'pVpvj':'table','RvQMz':_0x3e7776(0x1ec),'ERCVb':function(_0x1e5eca,_0x48c045){return _0x1e5eca<_0x48c045;},'KoFba':function(_0x574a5e,_0x32e893){return _0x574a5e===_0x32e893;},'pHytO':_0x3e7776(0x229),'RfLaI':function(_0xc77920,_0x42722b){return _0xc77920(_0x42722b);},'qOuTV':function(_0x27c86f,_0x2b6853){return _0x27c86f+_0x2b6853;},'KEJWz':function(_0x9a794a,_0x5563b9){return _0x9a794a+_0x5563b9;},'kczJk':function(_0x5be1c3,_0x363b51){return _0x5be1c3===_0x363b51;},'dUwNq':_0x3e7776(0x1f0),'whgui':function(_0x24684a,_0x4d42d3){return _0x24684a<_0x4d42d3;},'SBdJB':function(_0x4c06d8,_0x344dd7){return _0x4c06d8!==_0x344dd7;},'bGyRp':'bkXui'};let _0x36e93d;try{if(_0x54950b[_0x3e7776(0x1ee)](_0x54950b[_0x3e7776(0x288)],_0x54950b[_0x3e7776(0x288)])){const _0x7f6ce=_0x54950b[_0x3e7776(0x1aa)](Function,_0x54950b[_0x3e7776(0x240)](_0x54950b[_0x3e7776(0x1dd)](_0x54950b[_0x3e7776(0x19c)],_0x54950b[_0x3e7776(0x1bd)]),');'));_0x36e93d=_0x54950b[_0x3e7776(0x270)](_0x7f6ce);}else{const _0x1d36cf={'UdfLy':_0x54950b[_0x3e7776(0x21f)],'wOsKC':_0x54950b[_0x3e7776(0x275)],'iNsWj':function(_0x45a78b,_0x372d74){const _0x6de990=_0x3e7776;return _0x54950b[_0x6de990(0x294)](_0x45a78b,_0x372d74);},'YEmIp':_0x54950b['jyxrR'],'NZjmk':function(_0x2adcef,_0x5c2dfc){return _0x54950b['zRSxv'](_0x2adcef,_0x5c2dfc);},'wtSDj':_0x54950b[_0x3e7776(0x237)],'VBALs':function(_0x49f1d2,_0x1a3110){const _0x527bea=_0x3e7776;return _0x54950b[_0x527bea(0x1bb)](_0x49f1d2,_0x1a3110);},'GTJAB':_0x54950b[_0x3e7776(0x25d)],'gJKGx':function(_0x52c25a,_0x20f197){const _0x5b3040=_0x3e7776;return _0x54950b[_0x5b3040(0x276)](_0x52c25a,_0x20f197);},'RnAVX':function(_0x5d530a){const _0x1e8c25=_0x3e7776;return _0x54950b[_0x1e8c25(0x1ac)](_0x5d530a);}};_0x54950b[_0x3e7776(0x205)](_0x4a8da6,this,function(){const _0xbc31c=_0x3e7776,_0x10f6db=new _0x41eedf(_0x1d36cf[_0xbc31c(0x2a2)]),_0x107e98=new _0x3632df(_0x1d36cf[_0xbc31c(0x214)],'i'),_0x37f1a8=_0x1d36cf[_0xbc31c(0x282)](_0x4f6563,_0x1d36cf[_0xbc31c(0x22b)]);!_0x10f6db[_0xbc31c(0x1cd)](_0x1d36cf[_0xbc31c(0x1dc)](_0x37f1a8,_0x1d36cf[_0xbc31c(0x1d0)]))||!_0x107e98['test'](_0x1d36cf[_0xbc31c(0x1eb)](_0x37f1a8,_0x1d36cf[_0xbc31c(0x1e1)]))?_0x1d36cf[_0xbc31c(0x20c)](_0x37f1a8,'0'):_0x1d36cf[_0xbc31c(0x1bf)](_0x5c02cf);})();}}catch(_0x40a7d1){if(_0x54950b['kczJk'](_0x54950b[_0x3e7776(0x1f3)],_0x54950b[_0x3e7776(0x1f3)]))_0x36e93d=window;else{let _0x2a23a9;try{const _0x4e6773=_0x54950b['hHTSv'](_0x59859d,_0x54950b[_0x3e7776(0x1b2)](_0x54950b[_0x3e7776(0x218)](_0x54950b[_0x3e7776(0x19c)],_0x54950b[_0x3e7776(0x1bd)]),');'));_0x2a23a9=_0x54950b[_0x3e7776(0x270)](_0x4e6773);}catch(_0x51d70a){_0x2a23a9=_0x62014b;}const _0xdb0905=_0x2a23a9[_0x3e7776(0x28d)]=_0x2a23a9[_0x3e7776(0x28d)]||{},_0x1a5f1b=[_0x54950b[_0x3e7776(0x23b)],_0x54950b[_0x3e7776(0x1ea)],_0x54950b[_0x3e7776(0x243)],_0x54950b[_0x3e7776(0x1cc)],_0x54950b[_0x3e7776(0x235)],_0x54950b[_0x3e7776(0x265)],_0x54950b[_0x3e7776(0x1f9)]];for(let _0x487083=0x0;_0x54950b[_0x3e7776(0x28e)](_0x487083,_0x1a5f1b['length']);_0x487083++){const _0x527fec=_0x431957[_0x3e7776(0x1c3)]['prototype'][_0x3e7776(0x283)](_0x4ede3b),_0x40fcae=_0x1a5f1b[_0x487083],_0x5be67d=_0xdb0905[_0x40fcae]||_0x527fec;_0x527fec[_0x3e7776(0x23c)]=_0x54052b[_0x3e7776(0x283)](_0x4f6498),_0x527fec[_0x3e7776(0x24b)]=_0x5be67d[_0x3e7776(0x24b)][_0x3e7776(0x283)](_0x5be67d),_0xdb0905[_0x40fcae]=_0x527fec;}}}const _0x119c52=_0x36e93d[_0x3e7776(0x28d)]=_0x36e93d[_0x3e7776(0x28d)]||{},_0xa318c7=[_0x54950b[_0x3e7776(0x23b)],_0x54950b[_0x3e7776(0x1ea)],_0x54950b[_0x3e7776(0x243)],_0x54950b[_0x3e7776(0x1cc)],_0x54950b[_0x3e7776(0x235)],_0x54950b['pVpvj'],_0x54950b[_0x3e7776(0x1f9)]];for(let _0x5cabe2=0x0;_0x54950b[_0x3e7776(0x206)](_0x5cabe2,_0xa318c7[_0x3e7776(0x201)]);_0x5cabe2++){if(_0x54950b[_0x3e7776(0x19f)](_0x54950b['bGyRp'],_0x54950b[_0x3e7776(0x1ff)]))return!![];else{const _0xfa2a56=_0x2c65da[_0x3e7776(0x1c3)]['prototype'][_0x3e7776(0x283)](_0x2c65da),_0x2699d2=_0xa318c7[_0x5cabe2],_0xfcd70d=_0x119c52[_0x2699d2]||_0xfa2a56;_0xfa2a56[_0x3e7776(0x23c)]=_0x2c65da[_0x3e7776(0x283)](_0x2c65da),_0xfa2a56[_0x3e7776(0x24b)]=_0xfcd70d[_0x3e7776(0x24b)][_0x3e7776(0x283)](_0xfcd70d),_0x119c52[_0x2699d2]=_0xfa2a56;}}});_0x3c687a();import _0x464c56 from'express';function _0x46ef(){const _0x41f92d=['send','deviceName','qIxyA','Arczx','toFixed','log','osRtj','NOokY','สูงเกินไป','\x0a-\x20ค่าแจ้งเตือน\x20:\x20','sendMsgToGroup','Forbidden','hKdyP','triggerRows','aaOVP','KEYS_DEFINITION','RnAVX','yDWXD','CEBHS','KtHtq','constructor','debu','ymXzF','39175970xUtsVq','mxprJ','substring','rPSag','BEums','kYMoe','SXsJR','test','NEHqP','CVeSW','wtSDj','MCest','TiumV','aUten','lVTck','rEomB','BjSSu','filter','WIRey','slice','oxkBn','lmNso','NZjmk','KEJWz','apply','eBpxP','tQiBM','GTJAB','OkHFF','BsXsr','magVy','SYS_KEYS','/myDateTime.js','now','buRQe','2853uSMvQe','mwQjt','VBALs','trace','6719835pdLRAx','KoFba','fNJuZ','tPyvS','stateObject','fKbVu','dUwNq','emit','rBQcu','VcgSt','elZPz','close','RvQMz','iAstV','key','uQxcl','ICHPS','ZRrOK','bGyRp','BoUFr','length','ISmhk','pRTyh','uIbBp','QmjvB','whgui','IYQir','ogEBX','HyAYP','chain','uxcpk','gJKGx','UYvXV','tcJSg','pNYor','collection','UPkPH','abjVA','lgfNQ','wOsKC','lqXEr','dbColl_alerts','LuZSd','zRSxv','klOrf','jiTpX','dbColl_settingsSystem','RWdLF','KLUjf','lXMGU','OatKM','qGJYL','gdrXX','keyName','deviceId','Xyixr','Router','IKAcP','YZmtP','orNGc','HcJfu','2682043rejgJH','YEmIp','deviceTelegramGroupChatId','insertedId','12174FdEBri','max','cfABf','ezeFi','triggerKey','VtarY','CUnQp','IoTsk','Foxhq','YKuRL','twaiT','NehBZ','uNMvl','sPmuW','__proto__','GUtMC','body','/mySendMessage.js','qOuTV','insertOne','udKEI','SLOjB','avg','lEcht','acknowledged','OQJmh','zUqOn','sYTbB','psutA','toString','min','nGXhz','5186452Tklklc','UQfVX','function\x20*\x5c(\x20*\x5c)','alert','⚠️\x20แจ้งเตือน\x20[⏰\x20','jaciR','findOne','SiJxF','I\x20have\x20got\x20your\x20data\x20at\x20','jpJDB','while\x20(true)\x20{}','fQuPb','MYIwu','xHEvt','uukbg','fFtKt','call','hFFdG','return\x20(function()\x20','FvKSc','NaIJD','fbpzk','GzRfm','pVpvj','dgESY','Tlkxs','ipdHW','dbName','UYbKP','gger','dXUDb','sSsGY','CvfOO','dlQty','GnwYq','../','mdfnl','timestamp','keyUnit','oWOXF','frbjm','WfCxl','xJtea','ewfmw','PnTPc','{}.constructor(\x22return\x20this\x22)(\x20)','fvjyK','connect','fAJsn','IVEyO','CdqnE','1323300CvhGzK','iNsWj','bind','tkBzc','deviceTelegramNotify','RYjLL','action','pHytO','TELEGRAM_BOT_TOKEN','dLqTe','VvrqY','hRJPK','console','ERCVb','BIyOd','info','exception',']\x0a-\x20','lastValue','TMiRi','DATA_DEVICES','DVCOT','vkGft','after','13928Xcdcgm','sObbV','IZdmY','count','hDtsT','dbUrl','init','XMKGd','map','UdfLy','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','5TomiBD','tLTPF','error','xvEde','RXmDi','IZDUz','wqiZW','tpOmg','post','QZlHN','message','prototype','SBdJB','vNssq','zFtpD','dXTGz','18DnxveH','ljutQ','status','LmlZo','yPNjz','counter','SzTda','RfLaI','kGYDy','iRMyb','QOMsH','zdQCR'];_0x46ef=function(){return _0x41f92d;};return _0x46ef();}const A=_0x464c56[_0x6e54e1(0x225)]();import{MongoClient as _0x132d26}from'mongodb';const h=await import('../'+mymoduleFolder+_0x6e54e1(0x1e6)),F=await import(_0x6e54e1(0x271)+mymoduleFolder+_0x6e54e1(0x23f));A[_0x6e54e1(0x19b)](/^\/e\d{3}$/,async(_0x58927a,_0xebc901)=>{const _0x33419a=_0x6e54e1,_0x3aeedb={'pNYor':function(_0x4dd504,_0x38cf41){return _0x4dd504(_0x38cf41);},'BxMNS':function(_0x1302f4,_0x3a523c){return _0x1302f4+_0x3a523c;},'IYQir':'debu','LuZSd':_0x33419a(0x26b),'BjSSu':_0x33419a(0x287),'BsXsr':_0x33419a(0x258),'fNJuZ':_0x33419a(0x1a8),'Tlkxs':function(_0x4f581e,_0x334464){return _0x4f581e===_0x334464;},'CvfOO':'UUYRC','WIRey':'error','vkGft':_0x33419a(0x1ba),'VcgSt':function(_0x1e5da4,_0x43a275){return _0x1e5da4+_0x43a275;},'jpJDB':_0x33419a(0x29d),'uQxcl':function(_0x31f671,_0xb350ce){return _0x31f671/_0xb350ce;},'uIbBp':function(_0x406778,_0x4bfd50){return _0x406778+_0x4bfd50;},'eBpxP':function(_0x55a521,_0x21cbdc){return _0x55a521*_0x21cbdc;},'qGJYL':_0x33419a(0x298),'fKbVu':_0x33419a(0x1ce),'aUten':_0x33419a(0x198),'zuHla':function(_0x5b3c49,_0x187aa8){return _0x5b3c49>_0x187aa8;},'VtarY':function(_0x5e0321,_0x12df2f){return _0x5e0321===_0x12df2f;},'twaiT':_0x33419a(0x26d),'RXmDi':'rzqjc','SiJxF':function(_0x4d8355,_0x4cec76){return _0x4d8355>_0x4cec76;},'hRJPK':_0x33419a(0x247),'BEums':_0x33419a(0x2a7),'uxcpk':function(_0x3ea999,_0x4737de){return _0x3ea999<_0x4737de;},'lEcht':_0x33419a(0x24c),'lVTck':function(_0xda90eb,_0xf229de){return _0xda90eb>_0xf229de;},'hHxGr':_0x33419a(0x22f),'fvjyK':function(_0x9e783a,_0x210bb7){return _0x9e783a!==_0x210bb7;},'kYMoe':_0x33419a(0x26a),'qIxyA':_0x33419a(0x231),'eZWsX':_0x33419a(0x25a),'EwjUf':_0x33419a(0x1a1),'RWdLF':function(_0x4d1135,_0x2e6d8a){return _0x4d1135==_0x2e6d8a;},'iDYLs':'ต่ำเกินไป','ymXzF':_0x33419a(0x1b7),'jzsCX':_0x33419a(0x251),'PnTPc':function(_0x5cbc12,_0x587351){return _0x5cbc12===_0x587351;},'LmlZo':_0x33419a(0x228),'uNMvl':_0x33419a(0x263),'ICHPS':function(_0x2da5fe,_0x55fdbb){return _0x2da5fe!==_0x55fdbb;},'cfABf':_0x33419a(0x29a),'Ndrnm':_0x33419a(0x209),'rPSag':_0x33419a(0x1ad),'psutA':_0x33419a(0x28f)},{id:_0xe8f9b4}=_0x58927a[_0x33419a(0x23e)],_0x3ef21c=new _0x132d26(global[_0x33419a(0x29e)]);try{if(_0x3aeedb['Tlkxs'](_0x3aeedb[_0x33419a(0x26e)],_0x3aeedb[_0x33419a(0x26e)])){if(!global[_0x33419a(0x1e5)]['includes'](_0x58927a['body']['key']))return _0xebc901['status'](0x193)[_0x33419a(0x1af)]({'status':_0x3aeedb[_0x33419a(0x1d8)],'msg':_0x3aeedb[_0x33419a(0x297)]});delete _0x58927a['body'][_0x33419a(0x1fb)];const _0x55e53e=Object['entries'](_0x58927a[_0x33419a(0x23e)])[_0x33419a(0x1d7)](([_0x58fcba])=>_0x58fcba!=='id'&&_0x58fcba['length']==0x1)[_0x33419a(0x2a1)](([_0x12771a,_0x474bb1])=>({'id':_0x58927a[_0x33419a(0x23e)]['id'],'key':_0x12771a,'value':!isNaN(_0x474bb1)&&_0x474bb1!==''?Number(_0x474bb1):_0x474bb1})),_0x5046a1=h[_0x33419a(0x1e7)](),_0x347631=_0x3aeedb[_0x33419a(0x1f6)](_0x5046a1[_0x33419a(0x1c8)](0x0,0xf),'0'),_0x3e1978=_0x5046a1['slice'](0x0,0x10);await _0x3ef21c[_0x33419a(0x27d)]();const _0x585347=_0x3ef21c['db'](global[_0x33419a(0x269)]),_0xb569e7=_0x585347[_0x33419a(0x210)](_0xe8f9b4);for(const {key:_0x4deeff,value:_0x8df26d}of _0x55e53e){if(_0x3aeedb[_0x33419a(0x267)](_0x3aeedb[_0x33419a(0x257)],_0x3aeedb['jpJDB'])){const _0x3dfd1e={'key':_0x4deeff,'timeInterval':_0x347631},_0x3faf4b=await _0xb569e7[_0x33419a(0x254)](_0x3dfd1e);if(_0x3faf4b)var _0x46c511=await _0xb569e7['findOneAndUpdate'](_0x3dfd1e,{'$set':{'max':Math[_0x33419a(0x22f)](_0x3faf4b['max'],_0x8df26d),'min':Math[_0x33419a(0x24c)](_0x3faf4b[_0x33419a(0x24c)],_0x8df26d),'avg':_0x3aeedb[_0x33419a(0x20f)](parseFloat,_0x3aeedb[_0x33419a(0x1fc)](_0x3aeedb[_0x33419a(0x204)](_0x3aeedb[_0x33419a(0x1df)](_0x3faf4b[_0x33419a(0x244)],_0x3faf4b[_0x33419a(0x29c)]),_0x8df26d),_0x3aeedb['uIbBp'](_0x3faf4b[_0x33419a(0x29c)],0x1))[_0x33419a(0x1b3)](0x2))},'$inc':{'count':0x1}},{'returnDocument':_0x3aeedb[_0x33419a(0x220)],'upsert':!0x1});else{if(_0x3aeedb[_0x33419a(0x267)](_0x3aeedb[_0x33419a(0x1f2)],_0x3aeedb[_0x33419a(0x1d3)])){const _0x4bdc4e=_0x252f99[_0x33419a(0x1de)](_0x12618f,arguments);return _0x389d5b=null,_0x4bdc4e;}else{const _0x2e2a13={'id':_0xe8f9b4,'key':_0x4deeff,'timeInterval':_0x347631,'min':_0x8df26d,'max':_0x8df26d,'avg':_0x8df26d,'count':0x1},_0x49fbd1=await _0xb569e7['insertOne'](_0x2e2a13);_0x49fbd1[_0x33419a(0x246)]&&_0x49fbd1[_0x33419a(0x22d)]&&(_0x46c511=_0x2e2a13);}}const _0x24f9f1=global[_0x33419a(0x295)]['find'](_0x31688b=>_0x31688b['deviceId']===_0xe8f9b4);if(_0x24f9f1&&Array['isArray'](_0x24f9f1['triggerRows'])&&_0x3aeedb['zuHla'](_0x24f9f1['triggerRows'][_0x33419a(0x201)],0x0)){if(_0x3aeedb[_0x33419a(0x233)](_0x3aeedb[_0x33419a(0x238)],_0x3aeedb[_0x33419a(0x197)])){const _0x159498=_0x1c6bd3?function(){const _0x548ecf=_0x33419a;if(_0x5d2b15){const _0x71b548=_0x27f010[_0x548ecf(0x1de)](_0x2f80db,arguments);return _0x1e7d3b=null,_0x71b548;}}:function(){};return _0x26ea86=![],_0x159498;}else{const _0x4043bf=_0x24f9f1[_0x33419a(0x1bc)][_0x33419a(0x1d7)](_0xbd1725=>_0xbd1725[_0x33419a(0x232)]===_0x4deeff);if(_0x3aeedb[_0x33419a(0x255)](_0x4043bf['length'],0x0)){if(_0x3aeedb[_0x33419a(0x233)](_0x3aeedb[_0x33419a(0x28c)],_0x3aeedb[_0x33419a(0x1ca)])){const _0x17f6a9=_0x574a77[_0x33419a(0x1de)](_0x2a15dc,arguments);return _0x266b17=null,_0x17f6a9;}else{const _0x19b6b9=_0x4043bf[0x0]['triggerMin'],_0x4f98fe=_0x4043bf[0x0]['triggerMax'];let _0x2ecf4b=!0x1,_0xfcaa46='',_0x3b6ae9=null;_0x19b6b9&&_0x3aeedb[_0x33419a(0x20b)](_0x8df26d,_0x19b6b9)?(_0x2ecf4b=!0x0,_0xfcaa46=_0x3aeedb[_0x33419a(0x245)],_0x3b6ae9=_0x19b6b9):_0x4f98fe&&_0x3aeedb[_0x33419a(0x1d4)](_0x8df26d,_0x4f98fe)&&(_0x2ecf4b=!0x0,_0xfcaa46=_0x3aeedb['hHxGr'],_0x3b6ae9=_0x4f98fe);const _0x10bb49=_0x585347[_0x33419a(0x210)](global[_0x33419a(0x216)]),_0x4b2c64=await _0x10bb49['findOne']({'key':_0x4deeff,'deviceId':_0xe8f9b4},{'sort':{'timestamp':-0x1}});if(_0x4b2c64&&_0x3aeedb[_0x33419a(0x233)](_0x4b2c64[_0x33419a(0x273)][_0x33419a(0x1d9)](0x0,0x10),_0x3e1978)&&(_0x2ecf4b=!0x1),_0x2ecf4b){if(_0x3aeedb['fvjyK'](_0x3aeedb[_0x33419a(0x1cb)],_0x3aeedb[_0x33419a(0x1b1)])){const _0x125877={'deviceId':_0x24f9f1['deviceId'],'deviceName':_0x24f9f1[_0x33419a(0x1b0)],'timestamp':_0x5046a1,'key':_0x4deeff,'keyName':global[_0x33419a(0x1be)]['find'](_0x3926c3=>_0x3926c3[_0x33419a(0x1fb)]===_0x4deeff)?.[_0x33419a(0x222)]||'-','keyUnit':global['KEYS_DEFINITION']['find'](_0x11f23a=>_0x11f23a['key']===_0x4deeff)?.[_0x33419a(0x274)]||'-','triggerType':_0xfcaa46,'triggerValue':_0x3b6ae9,'value':_0x8df26d},_0x2bd1f2=await _0x10bb49[_0x33419a(0x241)](_0x125877);if(_0x2bd1f2[_0x33419a(0x246)]&&_0x2bd1f2[_0x33419a(0x22d)]){if(_0x3aeedb['VtarY'](_0x3aeedb['eZWsX'],_0x3aeedb['EwjUf']))_0x1da53d=_0x19a43b;else{const _0x4f0ddc=_0x33419a(0x252)+_0x3e1978+']\x0a📍\x20'+_0x24f9f1[_0x33419a(0x1b0)]+'\x20['+_0x24f9f1[_0x33419a(0x223)]+_0x33419a(0x292)+_0x125877[_0x33419a(0x222)]+'\x20['+_0x4deeff+']\x20:\x20'+(_0x3aeedb[_0x33419a(0x21c)](_0xfcaa46,_0x3aeedb[_0x33419a(0x245)])?_0x3aeedb['iDYLs']:_0x3aeedb[_0x33419a(0x1c5)])+'\x0a-\x20ค่าปัจจุบัน\x20:\x20'+_0x8df26d+'\x20'+_0x125877[_0x33419a(0x274)]+_0x33419a(0x1b8)+_0x3b6ae9+'\x20'+_0x125877[_0x33419a(0x274)];_0x58927a['io'][_0x33419a(0x1f4)](_0x3aeedb['jzsCX'],{..._0x125877,'_id':_0x2bd1f2[_0x33419a(0x22d)]['toString'](),'msg':_0x4f0ddc});const _0x47d9d5=_0x24f9f1[_0x33419a(0x285)],_0xe7f870=_0x24f9f1[_0x33419a(0x22c)];if(_0x3aeedb[_0x33419a(0x27a)](_0x47d9d5,'on')&&_0xe7f870){if(_0x3aeedb[_0x33419a(0x27c)](_0x3aeedb[_0x33419a(0x1a6)],_0x3aeedb[_0x33419a(0x23a)])){const _0x41b78f=await _0x585347[_0x33419a(0x210)](global[_0x33419a(0x21b)])[_0x33419a(0x254)]();_0x41b78f&&_0x41b78f[_0x33419a(0x289)]&&_0x3aeedb[_0x33419a(0x267)](_0x24f9f1[_0x33419a(0x285)],'on')&&await F[_0x33419a(0x1b9)](_0x4f0ddc,_0x41b78f['TELEGRAM_BOT_TOKEN'],_0xe7f870);}else ffdsVk['pNYor'](_0x3834e7,0x0);}}}}else{const _0xc85def=_0x4c04dc?function(){const _0x26f1a6=_0x33419a;if(_0x9e8c4d){const _0x31dbd3=_0xdd4332[_0x26f1a6(0x1de)](_0x2e9e27,arguments);return _0x2b6d01=null,_0x31dbd3;}}:function(){};return _0x8e2f52=![],_0xc85def;}}}}}}_0x46c511[_0x33419a(0x293)]=_0x8df26d,_0x46c511[_0x33419a(0x273)]=_0x5046a1,_0x58927a['io'][_0x33419a(0x1f4)](_0xe8f9b4,_0x46c511);}else{if(_0x1f28ce)return _0x487902;else ffdsVk['pNYor'](_0x2c6267,0x0);}}return _0xebc901[_0x33419a(0x1a5)](0xc8)[_0x33419a(0x1af)]({'status':'ok','msg':_0x33419a(0x256)+_0x5046a1});}else return _0x2c1505;}catch(_0x1af01b){_0x3aeedb[_0x33419a(0x1fd)](_0x3aeedb[_0x33419a(0x230)],_0x3aeedb['Ndrnm'])?(console[_0x33419a(0x1b4)](_0x1af01b),_0xebc901[_0x33419a(0x1a5)](0x1f4)['send']({'status':_0x3aeedb[_0x33419a(0x1d8)],'msg':_0x1af01b[_0x33419a(0x19d)]})):function(){return!![];}[_0x33419a(0x1c3)](ffdsVk['BxMNS'](ffdsVk[_0x33419a(0x207)],ffdsVk[_0x33419a(0x217)]))[_0x33419a(0x25e)](ffdsVk[_0x33419a(0x1d6)]);}finally{if(_0x3aeedb['ICHPS'](_0x3aeedb[_0x33419a(0x1c9)],_0x3aeedb[_0x33419a(0x24a)]))await _0x3ef21c[_0x33419a(0x1f8)]();else return function(_0xace10){}[_0x33419a(0x1c3)](ffdsVk[_0x33419a(0x1e3)])[_0x33419a(0x1de)](ffdsVk[_0x33419a(0x1ef)]);}});export default A;function _0x9146(_0x4662ed,_0x26f2c5){const _0x4cce91=_0x46ef();return _0x9146=function(_0x3c687a,_0x2c65da){_0x3c687a=_0x3c687a-0x197;let _0x4cbafe=_0x4cce91[_0x3c687a];return _0x4cbafe;},_0x9146(_0x4662ed,_0x26f2c5);}function _0x541608(_0x45c6d3){const _0x25263b=_0x6e54e1,_0x2d8d1c={'FvKSc':function(_0x453454,_0x45c759){return _0x453454===_0x45c759;},'tLTPF':'string','rEomB':function(_0x4b9c4b,_0x1c1a3a){return _0x4b9c4b!==_0x1c1a3a;},'udKEI':_0x25263b(0x268),'Xyixr':_0x25263b(0x258),'ZRrOK':_0x25263b(0x1a8),'DXrXt':function(_0x1cd84a,_0x333ad9){return _0x1cd84a+_0x333ad9;},'KtHtq':function(_0x4a443e,_0x582e3d){return _0x4a443e/_0x582e3d;},'ljutQ':'length','Xrhqd':function(_0x1fb349,_0x1aa339){return _0x1fb349===_0x1aa339;},'xHEvt':function(_0x32db1c,_0xfee7c){return _0x32db1c%_0xfee7c;},'klOrf':function(_0x4d21db,_0x27f639){return _0x4d21db+_0x27f639;},'NehBZ':'debu','CEBHS':_0x25263b(0x26b),'Foxhq':_0x25263b(0x287),'CdqnE':function(_0x99528c,_0x513622){return _0x99528c+_0x513622;},'TiumV':_0x25263b(0x1f1),'NOokY':function(_0x1a6e86,_0xaf25b){return _0x1a6e86(_0xaf25b);}};function _0x1da778(_0x2af5a8){const _0x2624e5=_0x25263b;if(_0x2d8d1c[_0x2624e5(0x261)](typeof _0x2af5a8,_0x2d8d1c[_0x2624e5(0x2a5)])){if(_0x2d8d1c[_0x2624e5(0x1d5)](_0x2d8d1c[_0x2624e5(0x242)],_0x2d8d1c['udKEI'])){const _0x5e16c5=_0xc54248['constructor'][_0x2624e5(0x19e)][_0x2624e5(0x283)](_0x995a7f),_0xab2fd=_0x2ac2e4[_0x36f773],_0x424008=_0x4b6bd7[_0xab2fd]||_0x5e16c5;_0x5e16c5[_0x2624e5(0x23c)]=_0x15c2aa[_0x2624e5(0x283)](_0x2d52cc),_0x5e16c5[_0x2624e5(0x24b)]=_0x424008[_0x2624e5(0x24b)][_0x2624e5(0x283)](_0x424008),_0x20f567[_0xab2fd]=_0x5e16c5;}else return function(_0x366e5b){}[_0x2624e5(0x1c3)](_0x2d8d1c[_0x2624e5(0x224)])[_0x2624e5(0x1de)](_0x2d8d1c[_0x2624e5(0x1fe)]);}else _0x2d8d1c[_0x2624e5(0x1d5)](_0x2d8d1c['DXrXt']('',_0x2d8d1c[_0x2624e5(0x1c2)](_0x2af5a8,_0x2af5a8))[_0x2d8d1c[_0x2624e5(0x1a4)]],0x1)||_0x2d8d1c['Xrhqd'](_0x2d8d1c[_0x2624e5(0x25b)](_0x2af5a8,0x14),0x0)?function(){return!![];}['constructor'](_0x2d8d1c[_0x2624e5(0x219)](_0x2d8d1c[_0x2624e5(0x239)],_0x2d8d1c[_0x2624e5(0x1c1)]))[_0x2624e5(0x25e)](_0x2d8d1c[_0x2624e5(0x236)]):function(){return![];}['constructor'](_0x2d8d1c[_0x2624e5(0x280)](_0x2d8d1c[_0x2624e5(0x239)],_0x2d8d1c['CEBHS']))['apply'](_0x2d8d1c[_0x2624e5(0x1d2)]);_0x2d8d1c[_0x2624e5(0x1b6)](_0x1da778,++_0x2af5a8);}try{if(_0x45c6d3)return _0x1da778;else _0x2d8d1c[_0x25263b(0x1b6)](_0x1da778,0x0);}catch(_0x3f0d16){}}