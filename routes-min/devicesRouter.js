const _0x418503=_0x5ee9;(function(_0x1581d8,_0x8734b6){const _0x32b2c1=_0x5ee9,_0x2ad827=_0x1581d8();while(!![]){try{const _0x40ac02=parseInt(_0x32b2c1(0x27b))/0x1*(parseInt(_0x32b2c1(0x29e))/0x2)+-parseInt(_0x32b2c1(0x1b4))/0x3*(-parseInt(_0x32b2c1(0x28a))/0x4)+parseInt(_0x32b2c1(0x171))/0x5+parseInt(_0x32b2c1(0x149))/0x6*(-parseInt(_0x32b2c1(0x23d))/0x7)+parseInt(_0x32b2c1(0x263))/0x8+-parseInt(_0x32b2c1(0xf4))/0x9+parseInt(_0x32b2c1(0x127))/0xa*(-parseInt(_0x32b2c1(0x19c))/0xb);if(_0x40ac02===_0x8734b6)break;else _0x2ad827['push'](_0x2ad827['shift']());}catch(_0x1c19d8){_0x2ad827['push'](_0x2ad827['shift']());}}}(_0x4064,0x199a5));const _0x40d5ca=(function(){const _0x537fda=_0x5ee9,_0x3d3a61={'fHyhC':function(_0xb25d4a,_0x4ff051){return _0xb25d4a(_0x4ff051);},'NWCWh':function(_0x4a2910,_0x11ae63){return _0x4a2910+_0x11ae63;},'CxQRW':function(_0x4b4dec,_0x55c9cb){return _0x4b4dec+_0x55c9cb;},'IKsti':_0x537fda(0x1f8),'EXzjw':'{}.constructor(\x22return\x20this\x22)(\x20)','mYkwe':function(_0x5da6fd){return _0x5da6fd();},'ixSTE':_0x537fda(0x134),'UPnqM':_0x537fda(0x158),'gNCUa':_0x537fda(0x21f),'MIIOQ':'error','Qxabn':'exception','FPElj':'table','uRXQr':'trace','KHogP':function(_0x5b959f,_0x187cc3){return _0x5b959f<_0x187cc3;},'unCQo':function(_0x31f802,_0x22f281){return _0x31f802===_0x22f281;},'jQLJu':_0x537fda(0x18c),'JZcUN':_0x537fda(0x22c),'LjtqJ':function(_0x458382,_0x2bb5e3){return _0x458382!==_0x2bb5e3;},'ksHpS':_0x537fda(0x154),'SseOA':_0x537fda(0x144),'CgThY':function(_0x15018a,_0x68e238){return _0x15018a===_0x68e238;},'FBROR':_0x537fda(0xfa)};let _0x406c8d=!![];return function(_0x138a9b,_0x1d2043){const _0x3e1f76=_0x537fda,_0x42560e={'OHBxD':function(_0x164493,_0x49d091){const _0x330e64=_0x5ee9;return _0x3d3a61[_0x330e64(0x1da)](_0x164493,_0x49d091);},'pEnSe':function(_0x270f04,_0x2fbdfe){return _0x3d3a61['NWCWh'](_0x270f04,_0x2fbdfe);},'xmPkO':function(_0x1b5a90,_0x2b39e9){const _0x4a884c=_0x5ee9;return _0x3d3a61[_0x4a884c(0xfd)](_0x1b5a90,_0x2b39e9);},'bNUng':_0x3d3a61['IKsti'],'Zplur':_0x3d3a61[_0x3e1f76(0x1f9)],'KiLIw':function(_0xaf0504){return _0x3d3a61['mYkwe'](_0xaf0504);},'EeTbo':_0x3d3a61[_0x3e1f76(0x1d0)],'lPItH':_0x3d3a61[_0x3e1f76(0x169)],'YeYfy':_0x3d3a61['gNCUa'],'aCyCY':_0x3d3a61['MIIOQ'],'RiIAj':_0x3d3a61['Qxabn'],'OSrea':_0x3d3a61[_0x3e1f76(0x251)],'lnfay':_0x3d3a61[_0x3e1f76(0x1a1)],'LNczy':function(_0x2eabd0,_0x405121){const _0x5c2b49=_0x3e1f76;return _0x3d3a61[_0x5c2b49(0xed)](_0x2eabd0,_0x405121);},'iuwbT':function(_0x4fe23d,_0x1a2f4e){const _0x4703a2=_0x3e1f76;return _0x3d3a61[_0x4703a2(0x1b3)](_0x4fe23d,_0x1a2f4e);},'PtORv':_0x3d3a61[_0x3e1f76(0x165)],'eSYYd':_0x3d3a61[_0x3e1f76(0x16a)],'Eiqcd':function(_0x230b93,_0x3eafa0){const _0x4ef381=_0x3e1f76;return _0x3d3a61[_0x4ef381(0x1c7)](_0x230b93,_0x3eafa0);},'fObuY':_0x3d3a61['ksHpS'],'FnlaG':_0x3d3a61[_0x3e1f76(0x28c)]};if(_0x3d3a61[_0x3e1f76(0x109)](_0x3d3a61[_0x3e1f76(0x147)],_0x3d3a61['FBROR'])){const _0xa871a3=_0x406c8d?function(){const _0x4a7a8b=_0x3e1f76,_0x23db73={'ONXnB':function(_0x40032f,_0x45a688){const _0x182745=_0x5ee9;return _0x42560e[_0x182745(0x1be)](_0x40032f,_0x45a688);},'qfAuS':function(_0x3f6292,_0x583a20){const _0xc9108b=_0x5ee9;return _0x42560e[_0xc9108b(0x1b2)](_0x3f6292,_0x583a20);},'tKszC':function(_0x5df9e5,_0x3e45b3){const _0x1a668d=_0x5ee9;return _0x42560e[_0x1a668d(0x17e)](_0x5df9e5,_0x3e45b3);},'mNNpW':_0x42560e[_0x4a7a8b(0x188)],'DnczV':_0x42560e['Zplur'],'Fnkig':function(_0x548a6b){const _0x3b9f20=_0x4a7a8b;return _0x42560e[_0x3b9f20(0x257)](_0x548a6b);},'ddUkl':_0x42560e['EeTbo'],'lIzqp':_0x42560e[_0x4a7a8b(0x255)],'hHdxb':_0x42560e[_0x4a7a8b(0x23b)],'onOHg':_0x42560e[_0x4a7a8b(0x2cb)],'VGtJX':_0x42560e[_0x4a7a8b(0x196)],'xqMWL':_0x42560e[_0x4a7a8b(0x25f)],'cujqW':_0x42560e[_0x4a7a8b(0x219)],'yDuuF':function(_0x90b888,_0x346b28){const _0x2b3309=_0x4a7a8b;return _0x42560e[_0x2b3309(0x152)](_0x90b888,_0x346b28);}};if(_0x42560e['iuwbT'](_0x42560e[_0x4a7a8b(0x14c)],_0x42560e[_0x4a7a8b(0x1cf)])){const _0x521e64=_0x3fac1c?function(){const _0x5eb5cc=_0x4a7a8b;if(_0x4a7bdf){const _0x486ae9=_0x5eb000[_0x5eb5cc(0x22d)](_0x867f05,arguments);return _0x43d7b6=null,_0x486ae9;}}:function(){};return _0x44af4f=![],_0x521e64;}else{if(_0x1d2043){if(_0x42560e[_0x4a7a8b(0x1de)](_0x42560e['fObuY'],_0x42560e[_0x4a7a8b(0x20d)])){const _0x155a0=_0x1d2043[_0x4a7a8b(0x22d)](_0x138a9b,arguments);return _0x1d2043=null,_0x155a0;}else{let _0x27d33e;try{const _0x596ca5=_0x23db73['ONXnB'](_0x1f486b,_0x23db73[_0x4a7a8b(0x244)](_0x23db73[_0x4a7a8b(0x18e)](_0x23db73[_0x4a7a8b(0xf2)],_0x23db73[_0x4a7a8b(0x11f)]),');'));_0x27d33e=_0x23db73[_0x4a7a8b(0x2cd)](_0x596ca5);}catch(_0xfcfed6){_0x27d33e=_0x162e27;}const _0x178335=_0x27d33e['console']=_0x27d33e[_0x4a7a8b(0x151)]||{},_0x44b6f3=[_0x23db73[_0x4a7a8b(0x1ff)],_0x23db73[_0x4a7a8b(0x26c)],_0x23db73[_0x4a7a8b(0x189)],_0x23db73[_0x4a7a8b(0x1f2)],_0x23db73[_0x4a7a8b(0x100)],_0x23db73['xqMWL'],_0x23db73[_0x4a7a8b(0x168)]];for(let _0x4db3f0=0x0;_0x23db73[_0x4a7a8b(0x280)](_0x4db3f0,_0x44b6f3['length']);_0x4db3f0++){const _0x1eadde=_0xe35327[_0x4a7a8b(0x2be)][_0x4a7a8b(0x265)][_0x4a7a8b(0x1a4)](_0x53ee6a),_0x539ca4=_0x44b6f3[_0x4db3f0],_0x5837f9=_0x178335[_0x539ca4]||_0x1eadde;_0x1eadde['__proto__']=_0x47e493[_0x4a7a8b(0x1a4)](_0x478a19),_0x1eadde[_0x4a7a8b(0x148)]=_0x5837f9[_0x4a7a8b(0x148)][_0x4a7a8b(0x1a4)](_0x5837f9),_0x178335[_0x539ca4]=_0x1eadde;}}}}}:function(){};return _0x406c8d=![],_0xa871a3;}else _0x49e84b['close']();};}());(function(){const _0x2d79a6=_0x5ee9,_0x10f9d8={'XvUug':function(_0x500289,_0x30bbb6){return _0x500289===_0x30bbb6;},'wKmLC':_0x2d79a6(0x10f),'PusGO':_0x2d79a6(0x1d3),'cSTnf':_0x2d79a6(0x1bf),'aVilw':function(_0x5872b3,_0x569711){return _0x5872b3(_0x569711);},'ASbpQ':_0x2d79a6(0x13d),'xxTNp':function(_0x67e2d0,_0x2d5a04){return _0x67e2d0+_0x2d5a04;},'jQRhb':'chain','pQBjf':function(_0x107e6b,_0x340eab){return _0x107e6b+_0x340eab;},'ceeUI':_0x2d79a6(0x17f),'UMpLA':function(_0x3e782b,_0x160a0b){return _0x3e782b!==_0x160a0b;},'vqUqQ':'lQjDI','NQrog':function(_0x3031d6,_0x147eb1){return _0x3031d6===_0x147eb1;},'gtWqi':'nLkJZ','dVkqS':function(_0x4db882){return _0x4db882();},'vHqGp':function(_0x5da70f,_0x29ff4e,_0x1f0e93){return _0x5da70f(_0x29ff4e,_0x1f0e93);}};_0x10f9d8[_0x2d79a6(0x283)](_0x40d5ca,this,function(){const _0x2e0cca=_0x2d79a6;if(_0x10f9d8['XvUug'](_0x10f9d8[_0x2e0cca(0x115)],_0x10f9d8[_0x2e0cca(0x115)])){const _0x5c4c1b=new RegExp(_0x10f9d8[_0x2e0cca(0x1ab)]),_0x2965e3=new RegExp(_0x10f9d8[_0x2e0cca(0x176)],'i'),_0x555c96=_0x10f9d8[_0x2e0cca(0x286)](_0x459974,_0x10f9d8[_0x2e0cca(0x284)]);if(!_0x5c4c1b['test'](_0x10f9d8[_0x2e0cca(0x167)](_0x555c96,_0x10f9d8[_0x2e0cca(0x29b)]))||!_0x2965e3[_0x2e0cca(0x29a)](_0x10f9d8[_0x2e0cca(0x2ab)](_0x555c96,_0x10f9d8[_0x2e0cca(0x2ba)]))){if(_0x10f9d8[_0x2e0cca(0x1ad)](_0x10f9d8[_0x2e0cca(0x2c2)],_0x10f9d8[_0x2e0cca(0x2c2)]))return!![];else _0x10f9d8['aVilw'](_0x555c96,'0');}else{if(_0x10f9d8[_0x2e0cca(0x227)](_0x10f9d8[_0x2e0cca(0x194)],_0x10f9d8[_0x2e0cca(0x194)]))_0x10f9d8[_0x2e0cca(0x174)](_0x459974);else{if(_0x2087a2){const _0x275c9a=_0x361ae3[_0x2e0cca(0x22d)](_0xd1dd14,arguments);return _0x4acc1e=null,_0x275c9a;}}}}else _0x1e84f6[_0x2e0cca(0x289)]();})();}());const _0x38c2e2=(function(){const _0x3ab8f6=_0x5ee9,_0x4434c5={'GFORV':_0x3ab8f6(0x1aa),'AaQrz':_0x3ab8f6(0x230),'bxyUI':_0x3ab8f6(0x20a),'yenIi':function(_0x27a56a,_0xd5ce9f){return _0x27a56a===_0xd5ce9f;},'FLxpN':_0x3ab8f6(0x2bf),'ipWjw':_0x3ab8f6(0x288),'ASdHo':_0x3ab8f6(0x239),'IrOGv':function(_0x56930d,_0x2c10bd){return _0x56930d===_0x2c10bd;},'xoSdL':_0x3ab8f6(0x1fb),'MfhpR':_0x3ab8f6(0x1b5)};let _0x52a30e=!![];return function(_0x33b3e6,_0x5b75a6){const _0x3b4fd3=_0x3ab8f6,_0x721d8b={'mpeuz':_0x4434c5[_0x3b4fd3(0x2af)],'YzFeF':_0x4434c5[_0x3b4fd3(0x20e)],'rNrCE':_0x4434c5['bxyUI'],'UJiZn':function(_0x255e9e,_0x105655){return _0x4434c5['yenIi'](_0x255e9e,_0x105655);},'TZkuK':_0x4434c5[_0x3b4fd3(0x2a5)],'vXtUi':_0x4434c5[_0x3b4fd3(0x1b8)],'ItgeL':_0x4434c5[_0x3b4fd3(0xe8)]};if(_0x4434c5['IrOGv'](_0x4434c5['xoSdL'],_0x4434c5[_0x3b4fd3(0x192)]))return _0x557f6e['log'](_0x721d8b[_0x3b4fd3(0x1ca)],_0x5a33b8),_0x4233f8[_0x3b4fd3(0x223)](_0x721d8b['YzFeF'],{'class':_0x721d8b[_0x3b4fd3(0x206)],'text':_0x34c649[_0x3b4fd3(0x122)]}),_0x11b651['redirect'](_0x18a18b);else{const _0x46b902=_0x52a30e?function(){const _0x27a649=_0x3b4fd3,_0x89a7df={'THPeL':_0x721d8b[_0x27a649(0x1ca)],'xPJJn':_0x721d8b[_0x27a649(0x206)]};if(_0x721d8b[_0x27a649(0x24b)](_0x721d8b[_0x27a649(0x162)],_0x721d8b[_0x27a649(0x162)])){if(_0x5b75a6){if(_0x721d8b['UJiZn'](_0x721d8b[_0x27a649(0x2bb)],_0x721d8b[_0x27a649(0xea)])){const _0x20c5e1=_0x331201[_0x27a649(0x22d)](_0x2daea2,arguments);return _0x503abd=null,_0x20c5e1;}else{const _0x3800b6=_0x5b75a6[_0x27a649(0x22d)](_0x33b3e6,arguments);return _0x5b75a6=null,_0x3800b6;}}}else _0x153e0c['log'](_0x89a7df[_0x27a649(0x2b1)],_0x41e5eb),_0x3e2b56[_0x27a649(0x111)](_0x28934d[_0x27a649(0x2a6)]({'isPrint':!0x1,'class':_0x89a7df[_0x27a649(0x235)],'msg':_0xce22b0[_0x27a649(0x122)]}));}:function(){};return _0x52a30e=![],_0x46b902;}};}()),_0x4b3fc6=_0x38c2e2(this,function(){const _0x48a630=_0x5ee9,_0x52a608={'XPyWV':function(_0x501075,_0x7ae295){return _0x501075(_0x7ae295);},'xjPYj':function(_0x28e15a,_0x35cce4){return _0x28e15a+_0x35cce4;},'SuCVA':function(_0x2188fe,_0x407f04){return _0x2188fe+_0x407f04;},'QWXtk':_0x48a630(0x1f8),'livyo':_0x48a630(0x2c4),'DhOUn':function(_0x3f4216){return _0x3f4216();},'cFYlX':function(_0x470071,_0x3509c3){return _0x470071!==_0x3509c3;},'rygTR':'sRmBs','kiZWV':'uyasa','dFhuH':function(_0x12db1f,_0x48a3fb){return _0x12db1f(_0x48a3fb);},'Umrns':function(_0x523967,_0x33c935){return _0x523967+_0x33c935;},'dblqb':function(_0x1a96e2,_0x2768e2){return _0x1a96e2+_0x2768e2;},'qYMzs':function(_0xd48a3){return _0xd48a3();},'IqNxg':function(_0x37413c,_0x35746b){return _0x37413c===_0x35746b;},'bYYgx':_0x48a630(0x1db),'tgoMn':_0x48a630(0x1ea),'NwcXo':_0x48a630(0x134),'YVeFk':'warn','cFmEB':_0x48a630(0x21f),'difyS':'error','cXzwT':_0x48a630(0x11c),'FmvBS':_0x48a630(0x10c),'lxYsc':_0x48a630(0x231),'tiqJP':function(_0x1d51ff,_0x5bfbd9){return _0x1d51ff<_0x5bfbd9;},'gDthp':function(_0x3d35e9,_0x7bf16b){return _0x3d35e9!==_0x7bf16b;},'lSnWN':_0x48a630(0x143),'ItmsV':_0x48a630(0x1f1)};let _0x3a314e;try{if(_0x52a608[_0x48a630(0xef)](_0x52a608[_0x48a630(0x150)],_0x52a608[_0x48a630(0x26a)])){const _0x308e46=_0x52a608[_0x48a630(0x187)](Function,_0x52a608[_0x48a630(0x220)](_0x52a608[_0x48a630(0x19b)](_0x52a608[_0x48a630(0x1a9)],_0x52a608[_0x48a630(0x138)]),');'));_0x3a314e=_0x52a608[_0x48a630(0xf0)](_0x308e46);}else _0x5da8c4[_0x48a630(0x289)]();}catch(_0x54a5d4){if(_0x52a608[_0x48a630(0x14b)](_0x52a608[_0x48a630(0x14a)],_0x52a608[_0x48a630(0x1c0)])){const _0x482d64=_0x52a608['XPyWV'](_0x3bbe93,_0x52a608[_0x48a630(0x18f)](_0x52a608[_0x48a630(0x293)](_0x52a608[_0x48a630(0x1a9)],_0x52a608['livyo']),');'));_0x59eba5=_0x52a608[_0x48a630(0x285)](_0x482d64);}else _0x3a314e=window;}const _0x11db37=_0x3a314e[_0x48a630(0x151)]=_0x3a314e[_0x48a630(0x151)]||{},_0x4e52f4=[_0x52a608[_0x48a630(0x1f7)],_0x52a608[_0x48a630(0x15b)],_0x52a608['cFmEB'],_0x52a608[_0x48a630(0x13c)],_0x52a608['cXzwT'],_0x52a608[_0x48a630(0x137)],_0x52a608[_0x48a630(0x21a)]];for(let _0x2cc733=0x0;_0x52a608[_0x48a630(0x181)](_0x2cc733,_0x4e52f4[_0x48a630(0x1ac)]);_0x2cc733++){if(_0x52a608[_0x48a630(0x2c3)](_0x52a608['lSnWN'],_0x52a608[_0x48a630(0x266)])){const _0x1b7b24=_0x38c2e2[_0x48a630(0x2be)]['prototype']['bind'](_0x38c2e2),_0x4b7f69=_0x4e52f4[_0x2cc733],_0xe773bb=_0x11db37[_0x4b7f69]||_0x1b7b24;_0x1b7b24[_0x48a630(0x2cc)]=_0x38c2e2[_0x48a630(0x1a4)](_0x38c2e2),_0x1b7b24[_0x48a630(0x148)]=_0xe773bb[_0x48a630(0x148)][_0x48a630(0x1a4)](_0xe773bb),_0x11db37[_0x4b7f69]=_0x1b7b24;}else return![];}});_0x4b3fc6();import _0x55f7ce from'express';const v=_0x55f7ce[_0x418503(0x22a)]();import{MongoClient as _0x3f6691,ObjectId as _0x253d93}from'mongodb';import _0x1a1f41 from'ejs';import _0x123f39 from'path';import _0x23ce47 from'fs';import _0x53037f from'../middleware/mainAuth.js';const C=await import(_0x418503(0x1d5)+mymoduleFolder+_0x418503(0x2d3)),D=await import(_0x418503(0x1d5)+mymoduleFolder+'/myDateTime.js'),T=await import(_0x418503(0x1d5)+mymoduleFolder+_0x418503(0x249)),L=await import(_0x418503(0x1d5)+mymoduleFolder+_0x418503(0x1cd)),b=_0x418503(0x1d8),M=b+_0x418503(0x110),P=b+_0x418503(0x104),R=b+_0x418503(0x241),F=b+'/print',H=b+_0x418503(0x146),U=b+_0x418503(0x214),j=b+_0x418503(0x2a8),G=b[_0x418503(0x1a0)](/\//g,'_');v[_0x418503(0x275)](b,_0x53037f['isOA'],async(_0xc0a74a,_0xd7ff8c)=>{const _0x178e3c=_0x418503,_0x4a2d91={'GmSZT':'function\x20*\x5c(\x20*\x5c)','Mcspm':_0x178e3c(0x1bf),'GItuu':function(_0x428439,_0x36691b){return _0x428439(_0x36691b);},'tWHLy':_0x178e3c(0x13d),'jfuiC':function(_0x2150cf,_0x793055){return _0x2150cf+_0x793055;},'Hrmya':'chain','DkTiL':function(_0x49d85b,_0xf8d5bb){return _0x49d85b+_0xf8d5bb;},'EwoDp':_0x178e3c(0x17f),'dqfYD':function(_0x140e2c){return _0x140e2c();},'fFhTF':_0x178e3c(0x29f),'pfnNH':_0x178e3c(0x237),'JMnRK':_0x178e3c(0x27c),'bCoqu':function(_0x2533f6,_0x21e3c4){return _0x2533f6!==_0x21e3c4;},'avhfc':function(_0x30c869,_0x24f8a9){return _0x30c869==_0x24f8a9;},'pzrQX':function(_0x46e3ca,_0x1c922e){return _0x46e3ca!==_0x1c922e;},'qOmgI':function(_0x4b7b0c,_0x27d77b){return _0x4b7b0c===_0x27d77b;},'nUIJv':_0x178e3c(0x2b9),'paHPU':_0x178e3c(0x26e),'IoIXK':function(_0xfc0ddf,_0x5020fa){return _0xfc0ddf!==_0x5020fa;},'ZxDQG':function(_0x55d8a1,_0x1b6c2b){return _0x55d8a1==_0x1b6c2b;},'jKBpH':function(_0x4bb499,_0x39aab9){return _0x4bb499*_0x39aab9;},'wuoWp':function(_0x5e8ca2,_0x23e7cc){return _0x5e8ca2-_0x23e7cc;},'TFpgf':function(_0x5d8700,_0xbe7c17){return _0x5d8700!==_0xbe7c17;},'cmQHD':'ANWub','hRvtL':function(_0x5cf5ef,_0x46bf1d){return _0x5cf5ef!==_0x46bf1d;},'zigzR':_0x178e3c(0x2c6),'AblfP':function(_0x3c5749,_0x5b3283){return _0x3c5749/_0x5b3283;},'ZXNhS':function(_0x20cf33,_0x20435b){return _0x20cf33<_0x20435b;},'qyVyk':function(_0x5a23e3,_0x949771){return _0x5a23e3-_0x949771;},'RHMqT':function(_0x188a54,_0x3de85b){return _0x188a54(_0x3de85b);},'Gfonf':function(_0x569fa8,_0x17a4fe){return _0x569fa8-_0x17a4fe;},'sfKmu':function(_0x52930a,_0x9e1ae7){return _0x52930a(_0x9e1ae7);},'mIVzt':function(_0x6a934c,_0x544345){return _0x6a934c>_0x544345;},'nyiJd':function(_0x25f077,_0x3c8e14){return _0x25f077+_0x3c8e14;},'HscmZ':function(_0x346f8f,_0x149164){return _0x346f8f+_0x149164;},'xDqjc':function(_0xe40c6d,_0x4faf2a){return _0xe40c6d(_0x4faf2a);},'AvwmS':_0x178e3c(0xf9),'NWIcj':_0x178e3c(0x201),'RIszG':_0x178e3c(0x114),'UGHQy':function(_0x1d90b0,_0x1eafa4){return _0x1d90b0===_0x1eafa4;},'OGSgr':'YDVSN','mnLRO':_0x178e3c(0x25a),'WxJpn':'eqCfX','TzMnS':_0x178e3c(0x16f),'SzmHs':_0x178e3c(0x24d),'kdekT':'msg','rtZNr':_0x178e3c(0x210),'ZgMVG':_0x178e3c(0x1bd),'HeKCR':function(_0x83296a,_0x214347){return _0x83296a!==_0x214347;},'JHqke':_0x178e3c(0x1c3),'INUcu':'aYjJf'};let _0x19322a=_0xc0a74a[_0x178e3c(0x186)][_0x178e3c(0x2cf)];_0x19322a=_0x19322a?_0x19322a[_0x178e3c(0x1a0)](/[.*+?^${}()|[\]\\]/g,''):'';const _0x39d07f=_0x4a2d91['GItuu'](Number,_0xc0a74a[_0x178e3c(0x186)][_0x178e3c(0xf6)])||0x14,_0x4b1b38=_0x4a2d91[_0x178e3c(0x1ed)](Number,_0xc0a74a[_0x178e3c(0x186)][_0x178e3c(0x142)])||0x1,_0xd891a7=_0xc0a74a[_0x178e3c(0x186)][_0x178e3c(0x22b)]||'',_0x35ac79=_0x4a2d91['GItuu'](Number,_0x4a2d91[_0x178e3c(0x215)](_0x4a2d91['wuoWp'](_0x4b1b38,0x1),_0x39d07f)),_0x49817a=D[_0x178e3c(0x129)](0x0),_0x3d8fc1=new _0x3f6691(dbUrl);try{if(_0x4a2d91[_0x178e3c(0x1a7)](_0x4a2d91[_0x178e3c(0x1d4)],_0x4a2d91[_0x178e3c(0x1d4)])){const _0x29b3c8=new _0x495db5(JIPggu['GmSZT']),_0x4a2d45=new _0x2dc6a9(JIPggu[_0x178e3c(0x17b)],'i'),_0xb75f24=JIPggu[_0x178e3c(0x1ed)](_0x1a1f62,JIPggu[_0x178e3c(0x166)]);!_0x29b3c8[_0x178e3c(0x29a)](JIPggu[_0x178e3c(0x24e)](_0xb75f24,JIPggu['Hrmya']))||!_0x4a2d45[_0x178e3c(0x29a)](JIPggu['DkTiL'](_0xb75f24,JIPggu[_0x178e3c(0x1fc)]))?JIPggu[_0x178e3c(0x1ed)](_0xb75f24,'0'):JIPggu['dqfYD'](_0x1b8626);}else{await _0x3d8fc1[_0x178e3c(0x233)]();const _0x2ba0c8=_0x3d8fc1['db'](global[_0x178e3c(0x19d)])[_0x178e3c(0x10b)](global['dbColl_devices']);if(_0x19322a){if(_0x4a2d91['hRvtL'](_0x4a2d91[_0x178e3c(0x1f6)],_0x4a2d91[_0x178e3c(0x1f6)]))(function(){return![];}['constructor'](JIPggu['jfuiC'](JIPggu[_0x178e3c(0x2ce)],JIPggu[_0x178e3c(0xf1)]))[_0x178e3c(0x22d)](JIPggu[_0x178e3c(0xeb)]));else{const _0x18444f=new RegExp(_0x19322a,'i');var _0x1fce5e=await _0x2ba0c8['countDocuments']({'$or':[{'deviceId':{'$regex':_0x18444f}},{'deviceName':{'$regex':_0x18444f}},{'userFirstname':{'$regex':_0x18444f}}]});}}else var _0x1fce5e=await _0x2ba0c8[_0x178e3c(0xfe)]({});const _0x4da918=Math[_0x178e3c(0x1fe)](_0x4a2d91[_0x178e3c(0x28d)](_0x1fce5e,_0x39d07f)),_0x112cc1=_0x4a2d91[_0x178e3c(0x242)](_0x4a2d91[_0x178e3c(0x102)](_0x4a2d91['RHMqT'](Number,_0x4b1b38),0x1),0x1)?'-':_0x4a2d91[_0x178e3c(0x216)](_0x4a2d91['sfKmu'](Number,_0x4b1b38),0x1),_0xa79813=_0x4a2d91[_0x178e3c(0x1ed)](Number,_0x4b1b38),_0x30a121=_0x4a2d91[_0x178e3c(0x1f3)](_0x4a2d91[_0x178e3c(0x25c)](_0x4a2d91[_0x178e3c(0x17a)](Number,_0x4b1b38),0x1),_0x4da918)?'-':_0x4a2d91[_0x178e3c(0x23f)](_0x4a2d91[_0x178e3c(0x124)](Number,_0x4b1b38),0x1),_0x3f914d=[{'$project':{'_id':0x1,'deviceId':0x1,'deviceStatus':0x1,'deviceName':0x1,'triggerRows':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x4a2d91[_0x178e3c(0x15e)],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x49817a},'endDate':{'$toDate':_0x4a2d91[_0x178e3c(0x24f)]},'unit':_0x4a2d91[_0x178e3c(0x11b)]}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'deviceId':-0x1}},{'$skip':_0x35ac79},{'$limit':_0x39d07f}];if(_0x19322a){if(_0x4a2d91['UGHQy'](_0x4a2d91['OGSgr'],_0x4a2d91[_0x178e3c(0x1a8)]))JIPggu[_0x178e3c(0x1ed)](_0x5e7cfa,0x0);else{const _0x35e680=_0x19322a?new RegExp(''+_0x19322a,'i'):new RegExp('.*');_0x3f914d[_0x178e3c(0x253)]({'$match':{'$or':[{'deviceId':{'$regex':_0x35e680}},{'deviceName':{'$regex':_0x35e680}}]}});}}const _0x1ac7df=T[_0x178e3c(0x177)](_0xc0a74a),_0x165997=_0x1ac7df[_0x178e3c(0xf7)];let _0x303d17=await _0x2ba0c8[_0x178e3c(0x119)](_0x3f914d)['toArray']();if(['A']['includes'](_0x165997)){if(_0x4a2d91[_0x178e3c(0x28e)](_0x4a2d91[_0x178e3c(0x24a)],_0x4a2d91[_0x178e3c(0x2d1)])){const _0xee91e6=_0x1ac7df['deviceId'];_0x303d17=_0x303d17[_0x178e3c(0x1b9)](_0x1ecb30=>{const _0x1c6806=_0x178e3c;if(_0x4a2d91[_0x1c6806(0x234)](_0x4a2d91[_0x1c6806(0x14e)],_0x4a2d91[_0x1c6806(0x1c2)])){const _0x5857a6=_0x4a2d91[_0x1c6806(0x28e)](_0x3060b1[_0x1c6806(0xf7)],'A')||_0x4a2d91['avhfc'](_0x4caae7[_0x1c6806(0x2a9)],_0x3fb676);return _0x4a2d91[_0x1c6806(0x1ae)](_0x508770['userAuthority'],'O')&&_0x5857a6;}else{const _0x56fd82=_0x4a2d91['IoIXK'](_0x1ecb30[_0x1c6806(0xf7)],'A')||_0x4a2d91[_0x1c6806(0x23c)](_0x1ecb30[_0x1c6806(0x2a9)],_0xee91e6);return _0x4a2d91[_0x1c6806(0x28e)](_0x1ecb30[_0x1c6806(0xf7)],'O')&&_0x56fd82;}});}else return _0x3b518d;}if(_0xd891a7)var _0x285291=await _0x2ba0c8[_0x178e3c(0x10d)]({'_id':new _0x253d93(_0xd891a7)},{'projection':{'userPassword':0x0}});else var _0x285291={};const _0x45e668=await C['renderView'](_0x4a2d91[_0x178e3c(0x21d)],_0xd7ff8c,{'title':PAGE_DEVICES,'time':D[_0x178e3c(0x22e)](),'msg':_0xc0a74a[_0x178e3c(0x223)](_0x4a2d91[_0x178e3c(0x15d)]),'user':T['getSessionData'](_0xc0a74a),'settings':await C[_0x178e3c(0x269)](),'load_id':_0xd891a7,'sip':_0x19322a,'rpp':_0x39d07f,'page':_0x4b1b38,'pagePre':_0x112cc1,'pageAct':_0xa79813,'pageNxt':_0x30a121,'pageLst':_0x4da918,'pageRedirect':b,'data':_0x303d17,'PATH_MAIN':b,'PATH_PRINT':F,'PATH_SAVE':M,'PATH_LOAD':P,'PATH_DELETE':R,'PATH_FETCH':H,'PATH_CHANGES':U,'PATH_ADD_TRIGGER':j,'PREFIX':G,'item':_0x285291});return _0xd7ff8c[_0x178e3c(0x111)](_0x45e668);}}catch(_0x2bf7f8){if(_0x4a2d91[_0x178e3c(0x1a7)](_0x4a2d91[_0x178e3c(0x213)],_0x4a2d91[_0x178e3c(0x2ac)]))console['log'](_0x2bf7f8['message']),_0xd7ff8c[_0x178e3c(0x246)](0x194)[_0x178e3c(0x254)](file404);else{if(_0x6febc6){const _0x6915e1=_0x58b123[_0x178e3c(0x22d)](_0x749aa8,arguments);return _0x46d35f=null,_0x6915e1;}}}finally{_0x4a2d91['HeKCR'](_0x4a2d91[_0x178e3c(0x1c4)],_0x4a2d91[_0x178e3c(0x258)])?_0x3d8fc1['close']():(_0x422611[_0x178e3c(0x134)](_0x55f875[_0x178e3c(0x122)]),_0x3b593b[_0x178e3c(0x246)](0x194)[_0x178e3c(0x254)](_0x5e1927));}}),v[_0x418503(0x204)](M,_0x53037f['isOA'],async(_0x2f47eb,_0x413731)=>{const _0x3ae8d7=_0x418503,_0x47a1cc={'rxpBu':function(_0x5c6f0c,_0x41604b){return _0x5c6f0c(_0x41604b);},'bFqoE':_0x3ae8d7(0x1aa),'bTSzq':_0x3ae8d7(0x20a),'ZSkKh':_0x3ae8d7(0x15f),'LxjFX':_0x3ae8d7(0x218),'HXzJO':function(_0x53e4a2,_0x3e1081){return _0x53e4a2(_0x3e1081);},'hWEgM':_0x3ae8d7(0x230),'aUIYQ':function(_0x4c588a,_0x38b2a0){return _0x4c588a==_0x38b2a0;},'kDrGt':_0x3ae8d7(0x2b5),'CvfLO':_0x3ae8d7(0x25e),'mfsOl':function(_0x5c572a,_0x15d562){return _0x5c572a>_0x15d562;},'qjoPR':function(_0x2c6617,_0x49799e){return _0x2c6617===_0x49799e;},'faxaO':_0x3ae8d7(0x2a1),'Yhxdq':_0x3ae8d7(0x108),'KwgmN':function(_0x448ec8,_0x4254ee){return _0x448ec8<_0x4254ee;},'PRlWt':_0x3ae8d7(0x15a),'rxvoD':function(_0x111a6c,_0x2a9b18){return _0x111a6c<=_0x2a9b18;},'XaRam':function(_0x1005ea,_0x4e0136){return _0x1005ea-_0x4e0136;},'urqZf':function(_0x2e72e5,_0x533be1){return _0x2e72e5(_0x533be1);},'PrIgj':function(_0x4ab7fd,_0x5a7a78){return _0x4ab7fd(_0x5a7a78);},'YwkUw':function(_0xc76201,_0x5c67c3){return _0xc76201(_0x5c67c3);},'MZvuP':function(_0x24252b,_0x125163){return _0x24252b===_0x125163;},'KYiQR':function(_0x4db66d,_0x4de8b0){return _0x4db66d!==_0x4de8b0;},'nHEyV':function(_0x5ba87f,_0x56a744){return _0x5ba87f>=_0x56a744;},'mPmFz':_0x3ae8d7(0x16d),'ZKaBE':_0x3ae8d7(0x1a3),'Ablyl':_0x3ae8d7(0x1df),'NHNne':function(_0x40f910,_0x2c8d2a){return _0x40f910!==_0x2c8d2a;},'EMEWW':'dynUZ','evDUr':function(_0xb72f81,_0x2311a2){return _0xb72f81>_0x2311a2;},'Hsfhl':function(_0x39f547,_0x45494a){return _0x39f547===_0x45494a;},'WSMJc':_0x3ae8d7(0x1fa),'zRfsb':_0x3ae8d7(0x1e1),'wzkHA':_0x3ae8d7(0x27d),'dFQJU':_0x3ae8d7(0x2b4),'YOSuv':function(_0x4da109,_0xb1764b){return _0x4da109<_0xb1764b;},'Gctyn':function(_0x5549ad,_0x4bbb66){return _0x5549ad<_0x4bbb66;},'xNwnz':'yellow','gLkFk':_0x3ae8d7(0x26b),'zERRM':_0x3ae8d7(0x12c),'mDBeT':'ชื่ออุปกรณ์{{sep}}มีอยู่ในระบบแล้ว','BdUYJ':'hlDTA','PQhnC':_0x3ae8d7(0x156),'QzpOj':function(_0xecd07d,_0x470bd2){return _0xecd07d===_0x470bd2;},'hHpQv':_0x3ae8d7(0x1d7),'VfnTz':_0x3ae8d7(0x18a)},_0x308e25=_0x2f47eb[_0x3ae8d7(0x2a3)]['_id'];delete _0x2f47eb[_0x3ae8d7(0x2a3)]['_id'];const _0x92ded1=_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x2cf)],_0x575e48=_0x47a1cc['HXzJO'](Number,_0x2f47eb['body'][_0x3ae8d7(0xf6)])||0x14,_0x381a29=_0x47a1cc[_0x3ae8d7(0x11d)](Number,_0x2f47eb[_0x3ae8d7(0x2a3)]['page'])||0x1;delete _0x2f47eb[_0x3ae8d7(0x2a3)]['rpp'],delete _0x2f47eb['body'][_0x3ae8d7(0x2cf)],delete _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x142)];const _0x56d36a=_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x12f)]?.[_0x3ae8d7(0x247)](),_0x4909b4=_0x2f47eb['body'][_0x3ae8d7(0x2a9)],_0x5d662c=''+b,_0x5a0464=b+_0x3ae8d7(0x12e)+_0x92ded1+_0x3ae8d7(0x271)+_0x575e48+_0x3ae8d7(0x27f)+_0x381a29+_0x3ae8d7(0x159)+_0x308e25;if(!new RegExp(global['DEVICE_PATTERN'])[_0x3ae8d7(0x29a)](_0x4909b4))return _0x2f47eb['flash'](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc['bTSzq'],'text':global[_0x3ae8d7(0x262)]}),_0x413731['redirect'](_0x5a0464);let _0x49d51a=0x0;_0x47a1cc[_0x3ae8d7(0x10a)](typeof _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)],_0x47a1cc[_0x3ae8d7(0x2ca)])?_0x49d51a=0x1:_0x47a1cc[_0x3ae8d7(0x10a)](typeof _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)],_0x47a1cc[_0x3ae8d7(0x12d)])&&(_0x49d51a=_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)][_0x3ae8d7(0x1ac)]);const _0x3dc0a5=[];if(_0x47a1cc[_0x3ae8d7(0x20f)](_0x49d51a,0x1)){if(_0x47a1cc['qjoPR'](_0x47a1cc[_0x3ae8d7(0x1e8)],_0x47a1cc[_0x3ae8d7(0x1b7)])){const _0x32782d=_0x206b15?new _0x2c8768(''+_0x19dc74,'i'):new _0x1c0d26('.*');_0xa2caae[_0x3ae8d7(0x253)]({'$match':{'$or':[{'deviceId':{'$regex':_0x32782d}},{'deviceName':{'$regex':_0x32782d}}]}});}else{const _0x2b4f62=_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)],_0x230577=_0x2f47eb[_0x3ae8d7(0x2a3)]['triggerKey'],_0x26d685=_0x2f47eb['body'][_0x3ae8d7(0x139)],_0x3e3f52=_0x2f47eb[_0x3ae8d7(0x2a3)]['triggerMax'];if(_0x47a1cc[_0x3ae8d7(0x268)](new Set(_0x230577)['size'],_0x230577[_0x3ae8d7(0x1ac)]))return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc['hWEgM'],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':_0x47a1cc[_0x3ae8d7(0x13f)]}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464);for(let _0x3b3516=0x0;_0x47a1cc[_0x3ae8d7(0x20b)](_0x3b3516,_0x47a1cc[_0x3ae8d7(0x1a6)](_0x49d51a,0x1));_0x3b3516++)_0x3dc0a5['push']({'triggerStatus':_0x2b4f62[_0x3b3516],'triggerKey':_0x230577[_0x3b3516],'triggerMin':_0x26d685[_0x3b3516]?_0x47a1cc[_0x3ae8d7(0x212)](Number,_0x26d685[_0x3b3516]):null,'triggerMax':_0x3e3f52[_0x3b3516]?_0x47a1cc[_0x3ae8d7(0x11d)](Number,_0x3e3f52[_0x3b3516]):null});}}else _0x47a1cc[_0x3ae8d7(0x10a)](_0x49d51a,0x1)&&_0x3dc0a5[_0x3ae8d7(0x105)]({'triggerStatus':_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)],'triggerKey':_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x28f)],'triggerMin':_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x139)]?_0x47a1cc[_0x3ae8d7(0x1f5)](Number,_0x2f47eb[_0x3ae8d7(0x2a3)]['triggerMin']):null,'triggerMax':_0x2f47eb['body'][_0x3ae8d7(0x16e)]?_0x47a1cc[_0x3ae8d7(0x21e)](Number,_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x16e)]):null});delete _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x13a)],delete _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x28f)],delete _0x2f47eb['body'][_0x3ae8d7(0x139)],delete _0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x16e)],_0x2f47eb[_0x3ae8d7(0x2a3)]['triggerRows']=[..._0x3dc0a5];for(const _0x2ddc85 of _0x3dc0a5)if(_0x47a1cc[_0x3ae8d7(0x2c9)](_0x2ddc85[_0x3ae8d7(0x139)],null)&&_0x47a1cc[_0x3ae8d7(0x2c9)](_0x2ddc85[_0x3ae8d7(0x16e)],null))return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':'กรุณาระบุค่า\x20Min\x20หรือ\x20Max\x20สำหรับคีย์\x20\x22'+_0x2ddc85[_0x3ae8d7(0x28f)]+'\x22'}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464);for(const _0x41e83b of _0x3dc0a5)if(_0x47a1cc[_0x3ae8d7(0x1d2)](_0x41e83b[_0x3ae8d7(0x139)],null)&&_0x47a1cc[_0x3ae8d7(0x1d2)](_0x41e83b[_0x3ae8d7(0x16e)],null)&&_0x47a1cc[_0x3ae8d7(0x273)](_0x41e83b['triggerMin'],_0x41e83b['triggerMax']))return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':_0x3ae8d7(0x240)+_0x41e83b[_0x3ae8d7(0x28f)]+'\x22'}),_0x413731['redirect'](_0x5a0464);const _0x2a9f6d=new _0x3f6691(global[_0x3ae8d7(0x1e0)]);try{if(_0x47a1cc[_0x3ae8d7(0x2c9)](_0x47a1cc[_0x3ae8d7(0x277)],_0x47a1cc[_0x3ae8d7(0x277)])){await _0x2a9f6d['connect']();const _0x19c883=_0x2a9f6d['db'](global[_0x3ae8d7(0x19d)])['collection'](global[_0x3ae8d7(0xf8)]);if(_0x308e25){if(_0x47a1cc[_0x3ae8d7(0x2c9)](_0x47a1cc[_0x3ae8d7(0x281)],_0x47a1cc[_0x3ae8d7(0x281)])){var _0x578d88=await _0x19c883['findOne']({'_id':{'$ne':new _0x253d93(_0x308e25)},'$or':[{'deviceName':{'$regex':new RegExp('^'+_0x56d36a+'$','i')}},{'deviceId':_0x4909b4}]});if(_0x578d88)return _0x2f47eb['flash'](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':_0x47a1cc['Ablyl']}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464);const _0x378eb0=await _0x19c883[_0x3ae8d7(0x10d)]({'_id':new _0x253d93(_0x308e25)}),_0x48f1f4={'$set':_0x2f47eb[_0x3ae8d7(0x2a3)]},_0x5d5651=await _0x19c883[_0x3ae8d7(0x2b0)]({'_id':new _0x253d93(_0x308e25)},_0x48f1f4,{'upsert':!0x1});if(_0x5d5651[_0x3ae8d7(0x132)]&&_0x47a1cc['aUIYQ'](_0x5d5651['modifiedCount'],0x1)){if(_0x47a1cc[_0x3ae8d7(0x28b)](_0x47a1cc[_0x3ae8d7(0x1cb)],_0x47a1cc[_0x3ae8d7(0x1cb)]))_0x559398[_0x3ae8d7(0x289)]();else{const _0x38e782=T[_0x3ae8d7(0x177)](_0x2f47eb);let _0x45805b=_0x3ae8d7(0x1af)+_0x4909b4+'\x22\x20เรียบร้อยแล้ว';const _0x2fa5f2=L[_0x3ae8d7(0x113)](_0x378eb0,_0x2f47eb[_0x3ae8d7(0x2a3)]);if(_0x2fa5f2&&_0x47a1cc['evDUr'](_0x2fa5f2[_0x3ae8d7(0x1ac)],0x0)){if(_0x47a1cc['Hsfhl'](_0x47a1cc[_0x3ae8d7(0x1e2)],_0x47a1cc[_0x3ae8d7(0x170)])){if(_0xb55ef1)return _0x2e2178;else XvqbkB[_0x3ae8d7(0x1ec)](_0x9a1462,0x0);}else{const _0x54bcee={'dateTime':D[_0x3ae8d7(0x129)](),'userId':_0x38e782['userId'],'userFullname':_0x38e782['userFullname'],'changes':_0x2fa5f2};await _0x19c883[_0x3ae8d7(0x2b0)]({'deviceId':_0x4909b4},{'$push':{'changesHistory':{'$each':[_0x54bcee],'$position':0x0}}}),_0x45805b+=_0x47a1cc[_0x3ae8d7(0x1ba)];}}return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x23a)],'text':_0x45805b}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464);}}else return _0x5d5651[_0x3ae8d7(0x132)]&&(_0x47a1cc[_0x3ae8d7(0x1bc)](_0x5d5651[_0x3ae8d7(0x2b3)],0x1)||_0x47a1cc[_0x3ae8d7(0x24c)](_0x5d5651['upsertedCount'],0x1))?(_0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc['hWEgM'],{'class':_0x47a1cc[_0x3ae8d7(0x1ef)],'text':'\x22'+_0x4909b4+'\x22\x20ไม่มีอะไรเปลี่ยนแปลง'}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464)):(_0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc['bTSzq'],'text':new Error(_0x47a1cc[_0x3ae8d7(0x131)])+'{{sep}}\x22'+_0x4909b4+'\x22'}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464));}else{const _0x3efa7f=_0xfbcac6?function(){const _0x3414da=_0x3ae8d7;if(_0x14306b){const _0x1e458f=_0x2bd17b[_0x3414da(0x22d)](_0x4d4101,arguments);return _0x1f83af=null,_0x1e458f;}}:function(){};return _0x9eedf4=![],_0x3efa7f;}}else{if(_0x47a1cc[_0x3ae8d7(0x229)](_0x47a1cc[_0x3ae8d7(0x20c)],_0x47a1cc['zERRM'])){if(await _0x19c883[_0x3ae8d7(0x10d)]({'$or':[{'deviceName':{'$regex':new RegExp('^'+_0x56d36a+'$','i')}},{'deviceId':_0x4909b4}]}))return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':_0x47a1cc[_0x3ae8d7(0x11a)]}),_0x413731[_0x3ae8d7(0x245)](_0x5a0464);_0x2f47eb[_0x3ae8d7(0x2a3)][_0x3ae8d7(0x256)]=D[_0x3ae8d7(0x129)](0x5a0);const _0x2c81d8=await _0x19c883[_0x3ae8d7(0xfb)](_0x2f47eb[_0x3ae8d7(0x2a3)]);if(_0x2c81d8[_0x3ae8d7(0x132)]&&_0x2c81d8[_0x3ae8d7(0x2a7)]){if(_0x47a1cc[_0x3ae8d7(0x1d2)](_0x47a1cc[_0x3ae8d7(0x27e)],_0x47a1cc[_0x3ae8d7(0x27e)]))_0x4a66bd[_0x3ae8d7(0x289)]();else{const _0x408cb6=b+_0x3ae8d7(0x12e)+_0x92ded1+'&rpp='+_0x575e48+'&page='+_0x381a29+'&load_id='+_0x2c81d8[_0x3ae8d7(0x2a7)];return _0x2f47eb[_0x3ae8d7(0x223)](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x23a)],'text':_0x3ae8d7(0x224)+_0x4909b4+_0x3ae8d7(0x279)}),_0x413731['redirect'](_0x408cb6);}}else _0x2f47eb['flash'](_0x47a1cc[_0x3ae8d7(0x221)],{'class':_0x47a1cc[_0x3ae8d7(0x295)],'text':'เกิดข้อผิดพลาดขณะเพิ่มอุปกรณ์\x20\x22'+_0x4909b4+'\x22'}),_0x413731[_0x3ae8d7(0x245)](_0x5d662c);}else _0xce0cd2['log'](_0x47a1cc[_0x3ae8d7(0x12a)],_0x5a1610[_0x3ae8d7(0x122)]),_0xf1182f[_0x3ae8d7(0x111)](_0xa6eb8['stringify']({'isPrint':!0x1,'class':_0x47a1cc[_0x3ae8d7(0x295)],'msg':_0x3ac00a[_0x3ae8d7(0x122)]}));}}else{const _0x139bf9=_0x245cc1['apply'](_0x279fea,arguments);return _0x2b2891=null,_0x139bf9;}}catch(_0x12a57e){_0x47a1cc[_0x3ae8d7(0x229)](_0x47a1cc['PQhnC'],_0x47a1cc[_0x3ae8d7(0x200)])?(console['log'](_0x47a1cc[_0x3ae8d7(0x12a)],_0x12a57e),_0x413731[_0x3ae8d7(0x246)](0x194)[_0x3ae8d7(0x254)](file404)):_0x365e2a[_0x3ae8d7(0x289)]();}finally{if(_0x47a1cc[_0x3ae8d7(0xe9)](_0x47a1cc[_0x3ae8d7(0x2a2)],_0x47a1cc[_0x3ae8d7(0x202)]))return function(_0x2fa1eb){}[_0x3ae8d7(0x2be)](XvqbkB[_0x3ae8d7(0x294)])[_0x3ae8d7(0x22d)](XvqbkB[_0x3ae8d7(0x228)]);else _0x2a9f6d[_0x3ae8d7(0x289)]();}}),v['post'](P,_0x53037f['isOA'],async(_0x2ffbf2,_0x5afe21)=>{const _0x216baa=_0x418503,_0x4876f9={'AVPwJ':function(_0x3d12a1,_0x364ac8){return _0x3d12a1<_0x364ac8;},'ACLIN':_0x216baa(0x230),'QGVDJ':_0x216baa(0x20a),'kxuiO':_0x216baa(0x15a),'AboOQ':function(_0x2ed0d6,_0x26602f){return _0x2ed0d6<=_0x26602f;},'gNfrD':function(_0x51dfb5,_0xf4534a){return _0x51dfb5-_0xf4534a;},'QVakd':function(_0x55b265,_0xab4662){return _0x55b265(_0xab4662);},'ybTev':function(_0x41cf92,_0x5e785b){return _0x41cf92(_0x5e785b);},'CXXkh':function(_0x2d3d91,_0x4a4052){return _0x2d3d91===_0x4a4052;},'BVUlb':_0x216baa(0xee),'PMvoJ':_0x216baa(0x107),'Kxcha':_0x216baa(0x26b),'XEGMQ':function(_0x35575f,_0x77e687){return _0x35575f!==_0x77e687;},'iAZJN':_0x216baa(0x261),'CLcAY':function(_0x2d620a,_0x32edaa){return _0x2d620a!==_0x32edaa;},'KYtrw':_0x216baa(0x2c0)},_0x40b1e7=_0x2ffbf2[_0x216baa(0x2a3)][_0x216baa(0x22b)],_0x228891=_0x2ffbf2[_0x216baa(0x2a3)]['sip'],_0x369613=_0x4876f9[_0x216baa(0x278)](Number,_0x2ffbf2['body'][_0x216baa(0xf6)])||0x14,_0x87c633=_0x4876f9['QVakd'](Number,_0x2ffbf2['body']['page'])||0x1,_0x2d515e=b+'?sip='+_0x228891+_0x216baa(0x271)+_0x369613+_0x216baa(0x27f)+_0x87c633+'&load_id='+_0x40b1e7,_0x56a6fa=new _0x3f6691(dbUrl);try{if(_0x4876f9[_0x216baa(0x183)](_0x4876f9[_0x216baa(0x2c5)],_0x4876f9[_0x216baa(0x16c)]))_0x11b1b5['close']();else return await _0x56a6fa['db'](global[_0x216baa(0x19d)])['collection'](global[_0x216baa(0xf8)])['findOne']({'_id':new _0x253d93(_0x40b1e7)},{'projection':{'changesHistory':0x0}})?_0x2ffbf2[_0x216baa(0x223)](_0x4876f9[_0x216baa(0x2bd)],null):_0x2ffbf2[_0x216baa(0x223)](_0x4876f9['ACLIN'],{'class':_0x4876f9['QGVDJ'],'text':new Error(_0x4876f9[_0x216baa(0x290)])+_0x216baa(0x153)+_0x40b1e7+'\x22'}),_0x5afe21['redirect'](_0x2d515e);}catch(_0x3fc15d){if(_0x4876f9[_0x216baa(0xff)](_0x4876f9[_0x216baa(0x26f)],_0x4876f9[_0x216baa(0x26f)])){const _0x4b115f=_0xe63bb1[_0x216baa(0x2a3)]['triggerStatus'],_0x2d150d=_0xcb4691['body']['triggerKey'],_0x39dab4=_0x4a9e6a[_0x216baa(0x2a3)][_0x216baa(0x139)],_0x246070=_0x58bad2[_0x216baa(0x2a3)][_0x216baa(0x16e)];if(_0x4876f9['AVPwJ'](new _0x51b961(_0x2d150d)[_0x216baa(0x1b0)],_0x2d150d[_0x216baa(0x1ac)]))return _0x1adfef[_0x216baa(0x223)](_0x4876f9[_0x216baa(0x2bd)],{'class':_0x4876f9['QGVDJ'],'text':_0x4876f9['kxuiO']}),_0x4d144b[_0x216baa(0x245)](_0x560423);for(let _0x11e7ed=0x0;_0x4876f9[_0x216baa(0x205)](_0x11e7ed,_0x4876f9[_0x216baa(0x270)](_0xf42ee3,0x1));_0x11e7ed++)_0x926cc9[_0x216baa(0x105)]({'triggerStatus':_0x4b115f[_0x11e7ed],'triggerKey':_0x2d150d[_0x11e7ed],'triggerMin':_0x39dab4[_0x11e7ed]?_0x4876f9['QVakd'](_0x5e7e71,_0x39dab4[_0x11e7ed]):null,'triggerMax':_0x246070[_0x11e7ed]?_0x4876f9[_0x216baa(0x291)](_0x35e3b7,_0x246070[_0x11e7ed]):null});}else return console[_0x216baa(0x134)](_0x3fc15d[_0x216baa(0x122)]),_0x2ffbf2[_0x216baa(0x223)](_0x4876f9['ACLIN'],{'class':_0x4876f9[_0x216baa(0x17c)],'text':''+_0x3fc15d[_0x216baa(0x122)]}),_0x5afe21[_0x216baa(0x245)](_0x2d515e);}finally{_0x4876f9[_0x216baa(0x287)](_0x4876f9[_0x216baa(0x2b6)],_0x4876f9[_0x216baa(0x2b6)])?_0x35f754=_0x52c840:_0x56a6fa['close']();}}),v[_0x418503(0x204)](R,_0x53037f[_0x418503(0x179)],async(_0x316c50,_0xd9de21)=>{const _0x42cb42=_0x418503,_0x477599={'lkfsl':'red','ALsXY':_0x42cb42(0x164),'bofkm':_0x42cb42(0x230),'pqdjl':_0x42cb42(0x2b4),'ZarBJ':'error\x20===>\x20','lKEaG':function(_0x63c94c,_0x47ff47){return _0x63c94c(_0x47ff47);},'MtizY':function(_0x198b1c,_0xba69ef){return _0x198b1c(_0xba69ef);},'noepE':function(_0xdde868,_0x181f08){return _0xdde868!=_0x181f08;},'GZYgw':function(_0x1e76d1,_0x744398){return _0x1e76d1===_0x744398;},'hJTpM':_0x42cb42(0x116),'AWCLd':_0x42cb42(0x2a9),'noVlt':function(_0x36e2fd,_0x3fff08){return _0x36e2fd!==_0x3fff08;},'zyTdr':_0x42cb42(0x1c8),'LVodO':_0x42cb42(0xf3),'KZqVW':function(_0x354777,_0x4abdc4){return _0x354777===_0x4abdc4;},'NheBP':_0x42cb42(0x17d),'aslbc':_0x42cb42(0x1f4),'Nsrlh':function(_0x1ffc69,_0x5b3ad9){return _0x1ffc69>_0x5b3ad9;},'AbjIA':_0x42cb42(0x185),'ThYCB':_0x42cb42(0x199),'kNDlE':'NHWFN','ppvBH':_0x42cb42(0x136),'TOhti':_0x42cb42(0x276)};let {_id_toDelete:_0x4b549e,load_id:_0x764776,sip:_0xde3548,Id_toDelete:_0xe818a0}=_0x316c50['body'];const _0x876c2a=_0x477599[_0x42cb42(0x19e)](Number,_0x316c50['body']['rpp'])||0x14,_0x42900=_0x477599['MtizY'](Number,_0x316c50[_0x42cb42(0x2a3)][_0x42cb42(0x142)])||0x1;_0xe818a0=_0x477599[_0x42cb42(0x198)](Number,_0xe818a0);const _0x46f6f2=_0x4b549e&&_0x477599[_0x42cb42(0x2b7)](_0x4b549e,_0x764776)?_0x42cb42(0x159)+_0x4b549e:'',_0x775b6f=b+'?sip='+_0xde3548+'&rpp='+_0x876c2a+_0x42cb42(0x27f)+_0x42900+_0x46f6f2,_0xdf778c=new _0x3f6691(global[_0x42cb42(0x1e0)]);try{if(_0x477599[_0x42cb42(0x197)](_0x477599['hJTpM'],_0x477599[_0x42cb42(0x1f0)])){await _0xdf778c[_0x42cb42(0x233)]();const _0x2f8950=_0xdf778c['db'](global[_0x42cb42(0x19d)]),_0x548abe=_0x2f8950[_0x42cb42(0x10b)](global[_0x42cb42(0xf8)]),_0x4f4f78=[{'coll':_0x2f8950[_0x42cb42(0x10b)](global[_0x42cb42(0x161)]),'name':global[_0x42cb42(0x161)],'key':_0x477599[_0x42cb42(0x175)]}];for(const {coll:_0x59bce2,name:_0x28ba04,key:_0xdcc256}of _0x4f4f78){if(_0x477599[_0x42cb42(0x16b)](_0x477599[_0x42cb42(0x282)],_0x477599[_0x42cb42(0x13e)])){const _0x4b2b3a={};if(_0x4b2b3a[_0xdcc256]=_0xe818a0,await _0x59bce2[_0x42cb42(0x10d)](_0x4b2b3a))return await _0x548abe[_0x42cb42(0x2b0)]({'deviceId':_0xe818a0},{'$set':{'canDelete':!0x1}}),_0x316c50[_0x42cb42(0x223)](_0x477599[_0x42cb42(0x232)],{'class':_0x477599[_0x42cb42(0x1cc)],'text':'ยูสเซอร์\x20\x22'+_0xe818a0+_0x42cb42(0x2bc)+_0x28ba04+_0x42cb42(0x217)}),_0xd9de21[_0x42cb42(0x245)](_0x775b6f);}else _0x10dfb2['close']();}if(_0x477599[_0x42cb42(0x243)]((await _0x548abe['deleteOne']({'_id':new _0x253d93(_0x4b549e)}))[_0x42cb42(0x15c)],0x1)){if(_0x477599[_0x42cb42(0x16b)](_0x477599[_0x42cb42(0x203)],_0x477599['aslbc'])){const _0x2bc97f=await _0x2f8950[_0x42cb42(0x10b)](global[_0x42cb42(0x120)])[_0x42cb42(0x274)]({'session.user_id':_0x4b549e});if(_0x2bc97f[_0x42cb42(0x132)]&&_0x477599[_0x42cb42(0x222)](_0x2bc97f[_0x42cb42(0x15c)],0x0))var _0x56f3ef=_0x42cb42(0x27a)+_0x2bc97f[_0x42cb42(0x15c)]+_0x42cb42(0x145);else var _0x56f3ef=_0x477599[_0x42cb42(0x2ae)];_0x316c50['flash'](_0x477599['bofkm'],{'class':_0x477599[_0x42cb42(0x2b2)],'text':_0x42cb42(0xfc)+_0xe818a0+'\x22\x20เรียบร้อยแล้ว'+_0x56f3ef});}else _0x142a42[_0x42cb42(0x134)](_0x22e957),_0x420428[_0x42cb42(0x111)](_0x27a416[_0x42cb42(0x2a6)]({'isFetch':!0x1,'msg':_0x57a9bb['message'],'class':_0x477599['lkfsl'],'data':[],'msg':_0x477599[_0x42cb42(0x2ad)]}));}else _0x316c50[_0x42cb42(0x223)](_0x477599[_0x42cb42(0x232)],{'class':_0x477599[_0x42cb42(0x1cc)],'text':'ไม่พบ\x20\x22'+_0xe818a0+_0x42cb42(0x14f)});return _0xd9de21[_0x42cb42(0x245)](_0x775b6f);}else{const _0x1d61e1=_0x3b570c+_0x42cb42(0x12e)+_0x93eb88+_0x42cb42(0x271)+_0x751ade+_0x42cb42(0x27f)+_0x2af20c+_0x42cb42(0x159)+_0x468f82[_0x42cb42(0x2a7)];return _0x4d742b['flash'](_0x477599[_0x42cb42(0x232)],{'class':_0x477599[_0x42cb42(0x2b2)],'text':_0x42cb42(0x224)+_0xee047f+_0x42cb42(0x279)}),_0x306c74['redirect'](_0x1d61e1);}}catch(_0x311a83){if(_0x477599[_0x42cb42(0x197)](_0x477599[_0x42cb42(0x106)],_0x477599[_0x42cb42(0x193)]))_0x44efc6[_0x42cb42(0x134)](_0x477599[_0x42cb42(0x2aa)],_0x1df240),_0x1da998[_0x42cb42(0x246)](0x194)['sendFile'](_0x2f3b82);else return console[_0x42cb42(0x134)](_0x477599[_0x42cb42(0x2aa)],_0x311a83),_0x316c50[_0x42cb42(0x223)](_0x477599[_0x42cb42(0x232)],{'class':_0x477599[_0x42cb42(0x1cc)],'text':_0x311a83[_0x42cb42(0x122)]}),_0xd9de21[_0x42cb42(0x245)](_0x775b6f);}finally{_0x477599[_0x42cb42(0x16b)](_0x477599[_0x42cb42(0x1ee)],_0x477599[_0x42cb42(0x207)])?_0xdf778c[_0x42cb42(0x289)]():wqYWgm['lKEaG'](_0x1d4f08,'0');}}),v[_0x418503(0x204)](F,_0x53037f['isOA'],async(_0x35aa76,_0x1277b9)=>{const _0x294881=_0x418503,_0x480ab8={'WitbN':function(_0x8d4881,_0x1a5870){return _0x8d4881!==_0x1a5870;},'NtDLQ':function(_0x1b0beb,_0x3c5999){return _0x1b0beb==_0x3c5999;},'xJfsq':_0x294881(0x20a),'NUVAv':function(_0x404326,_0x324716){return _0x404326+_0x324716;},'oSTcp':'debu','odRAh':_0x294881(0x237),'lxqOC':_0x294881(0x178),'dyCbl':function(_0xa6296f,_0x28a4b7){return _0xa6296f===_0x28a4b7;},'YRYtS':'HcFIQ','NMLiT':'BZTuM','QLuGB':function(_0x555323,_0x3965f1){return _0x555323==_0x3965f1;},'NlZfw':_0x294881(0x260),'QLMWQ':_0x294881(0x1eb),'wOnes':_0x294881(0x2c1),'HCYzq':_0x294881(0x2b4),'eUFaw':_0x294881(0x126),'XWJIt':_0x294881(0x18d),'mgMhR':_0x294881(0x1aa),'oWiUM':_0x294881(0x173)},{_idArr:_0xcc0281}=_0x35aa76['body'],_0x404c4f=new _0x3f6691(dbUrl);try{if(_0x480ab8[_0x294881(0x2d2)](_0x480ab8[_0x294881(0x160)],_0x480ab8[_0x294881(0x133)])){const _0x18386d=_0x5ba021[_0x294881(0x2a9)];_0x3ff6fe=_0x62a473['filter'](_0x12cfc5=>{const _0x4f520c=_0x294881,_0x35b66a=_0x480ab8[_0x4f520c(0x163)](_0x12cfc5['userAuthority'],'A')||_0x480ab8[_0x4f520c(0x1dd)](_0x12cfc5[_0x4f520c(0x2a9)],_0x18386d);return _0x480ab8[_0x4f520c(0x163)](_0x12cfc5[_0x4f520c(0xf7)],'O')&&_0x35b66a;});}else{await _0x404c4f[_0x294881(0x233)]();const _0xbb3c83=await _0x404c4f['db'](global[_0x294881(0x19d)])[_0x294881(0x10b)](global['dbColl_devices'])[_0x294881(0x119)]([{'$match':{'_id':{'$in':_0xcc0281[_0x294881(0x1d9)](_0x13c130=>new _0x253d93(_0x13c130))}}}])['toArray']();if(_0x480ab8[_0x294881(0x1e4)](_0xbb3c83[_0x294881(0x1ac)],0x0))return _0x1277b9['send'](JSON[_0x294881(0x2a6)]({'isPrint':!0x1,'class':_0x480ab8[_0x294881(0x25d)],'msg':_0x480ab8[_0x294881(0x2b8)]}));const _0x5f0624=_0x123f39[_0x294881(0x248)](global[_0x294881(0x2c8)],_0x480ab8[_0x294881(0x1e9)]),_0x172de6=_0x23ce47[_0x294881(0x19a)](_0x5f0624,_0x480ab8[_0x294881(0x208)]),_0x91c43a=_0x1a1f41[_0x294881(0x23e)](_0x172de6,{'time':D[_0x294881(0x22e)](),'title':'จำนวน\x20('+_0xbb3c83[_0x294881(0x1ac)]+')','dateTime':D[_0x294881(0x129)](),'devicesFind':_0xbb3c83});_0x1277b9[_0x294881(0x111)](JSON[_0x294881(0x2a6)]({'isPrint':!0x0,'class':_0x480ab8['HCYzq'],'msg':_0x294881(0x117)+_0xbb3c83[_0x294881(0x1ac)]+_0x294881(0xec),'htmlPage':_0x91c43a}));}}catch(_0x3dc1f5){_0x480ab8[_0x294881(0x2d2)](_0x480ab8[_0x294881(0x1a5)],_0x480ab8[_0x294881(0x14d)])?_0xc08547[_0x294881(0x111)](_0x142218[_0x294881(0x2a6)]({'isAddTrigger':!0x1,'class':_0x480ab8[_0x294881(0x25d)],'msg':_0x51c7cc[_0x294881(0x122)]})):(console['log'](_0x480ab8[_0x294881(0x1c6)],_0x3dc1f5['message']),_0x1277b9[_0x294881(0x111)](JSON[_0x294881(0x2a6)]({'isPrint':!0x1,'class':_0x480ab8[_0x294881(0x25d)],'msg':_0x3dc1f5['message']})));}finally{_0x480ab8[_0x294881(0x163)](_0x480ab8['oWiUM'],_0x480ab8[_0x294881(0x128)])?function(){return!![];}[_0x294881(0x2be)](kuCCLv[_0x294881(0x140)](kuCCLv['oSTcp'],kuCCLv[_0x294881(0x29c)]))[_0x294881(0x1a2)](kuCCLv[_0x294881(0x19f)]):_0x404c4f['close']();}}),v['post'](U,_0x53037f[_0x418503(0x179)],async(_0x738538,_0x5645ac)=>{const _0x4eb2b8=_0x418503,_0x56f100={'jTVGJ':_0x4eb2b8(0x230),'eCIaE':_0x4eb2b8(0x20a),'SPQGH':_0x4eb2b8(0x1d3),'NRYlc':_0x4eb2b8(0x1bf),'URgpg':function(_0xb2b3b6,_0x14a881){return _0xb2b3b6(_0x14a881);},'XAwem':_0x4eb2b8(0x13d),'imurZ':function(_0x3c79b8,_0xa20fdd){return _0x3c79b8+_0xa20fdd;},'EPkXf':_0x4eb2b8(0x225),'twJBT':function(_0x24645f,_0x1a8992){return _0x24645f+_0x1a8992;},'KVuXI':'input','kMiyc':function(_0x4c93f4,_0x3690f4){return _0x4c93f4(_0x3690f4);},'rOBgl':function(_0x3dde52){return _0x3dde52();},'mFfWC':function(_0xecf9e8,_0x191832,_0x548098){return _0xecf9e8(_0x191832,_0x548098);},'GUuJY':function(_0x2f944a,_0x227aea){return _0x2f944a!==_0x227aea;},'LlXCL':_0x4eb2b8(0x296),'hbgYw':_0x4eb2b8(0x211),'hynCK':function(_0x56aec7,_0x5b96f6){return _0x56aec7<_0x5b96f6;},'sXAze':_0x4eb2b8(0x184),'JTxDN':_0x4eb2b8(0x157),'vFDWE':_0x4eb2b8(0x1ce),'jeVXE':_0x4eb2b8(0x2b4),'behwj':function(_0x52c428,_0x3e8475){return _0x52c428!==_0x3e8475;},'gbKZy':'JSCUN','gZwlC':_0x4eb2b8(0x1aa),'WNBcI':'voIUg','NNLww':_0x4eb2b8(0x180)};let {deviceId:_0x272b71}=_0x738538['body'];const _0x450f39=new _0x3f6691(global[_0x4eb2b8(0x1e0)]);try{if(_0x56f100['GUuJY'](_0x56f100[_0x4eb2b8(0x299)],_0x56f100[_0x4eb2b8(0x1b1)])){await _0x450f39['connect']();var _0x5ed481=await _0x450f39['db'](global[_0x4eb2b8(0x19d)])[_0x4eb2b8(0x10b)](global[_0x4eb2b8(0xf8)])[_0x4eb2b8(0x10d)]({'deviceId':_0x272b71});if(!_0x5ed481)return _0x5645ac['send'](JSON[_0x4eb2b8(0x2a6)]({'isPrint':!0x1,'class':_0x56f100[_0x4eb2b8(0x238)],'msg':_0x4eb2b8(0x22f)+_0x272b71+'\x22'}));const _0x2cdc78=_0x5ed481[_0x4eb2b8(0x155)]||[];if(_0x56f100[_0x4eb2b8(0x209)](_0x2cdc78[_0x4eb2b8(0x1ac)],0x1))return _0x5645ac[_0x4eb2b8(0x111)](JSON['stringify']({'isPrint':!0x1,'class':_0x56f100[_0x4eb2b8(0x1c1)],'msg':_0x56f100[_0x4eb2b8(0x13b)]}));const _0x231ce2=_0x123f39['join'](folderForms,_0x56f100['vFDWE']),_0x454426=await C[_0x4eb2b8(0x1e3)](_0x231ce2,_0x5645ac,{'title':'ประวัติการแก้ไข\x20:\x20['+_0x5ed481[_0x4eb2b8(0x2a9)]+']\x20'+_0x5ed481['deviceName'],'time':D['getDateTime'](),'changesHistory':_0x2cdc78});_0x5645ac['send'](JSON['stringify']({'isPrint':!0x0,'class':_0x56f100['jeVXE'],'htmlPage':_0x454426}));}else return _0x382e96[_0x4eb2b8(0x134)](_0x397e16[_0x4eb2b8(0x122)]),_0x26f00b[_0x4eb2b8(0x223)](_0x56f100[_0x4eb2b8(0x1dc)],{'class':_0x56f100['eCIaE'],'text':''+_0x32f64e[_0x4eb2b8(0x122)]}),_0x1cfdaf[_0x4eb2b8(0x245)](_0xfeccea);}catch(_0x275afb){_0x56f100['behwj'](_0x56f100[_0x4eb2b8(0x118)],_0x56f100[_0x4eb2b8(0x118)])?QlMqTE[_0x4eb2b8(0x1d6)](_0x2f935f,this,function(){const _0x4a4858=_0x4eb2b8,_0x21f7e3=new _0x5c40df(QlMqTE['SPQGH']),_0x33e12b=new _0x333944(QlMqTE['NRYlc'],'i'),_0x2a8534=QlMqTE[_0x4a4858(0x21c)](_0x54f878,QlMqTE['XAwem']);!_0x21f7e3['test'](QlMqTE[_0x4a4858(0x121)](_0x2a8534,QlMqTE[_0x4a4858(0x195)]))||!_0x33e12b['test'](QlMqTE['twJBT'](_0x2a8534,QlMqTE[_0x4a4858(0x135)]))?QlMqTE[_0x4a4858(0x112)](_0x2a8534,'0'):QlMqTE[_0x4a4858(0x252)](_0x5eddd9);})():(console[_0x4eb2b8(0x134)](_0x56f100['gZwlC'],_0x275afb),_0x5645ac[_0x4eb2b8(0x111)](JSON[_0x4eb2b8(0x2a6)]({'isPrint':!0x1,'class':_0x56f100[_0x4eb2b8(0x238)],'msg':_0x275afb[_0x4eb2b8(0x122)]})));}finally{_0x56f100[_0x4eb2b8(0x125)](_0x56f100[_0x4eb2b8(0x26d)],_0x56f100[_0x4eb2b8(0x10e)])?_0x450f39[_0x4eb2b8(0x289)]():QlMqTE[_0x4eb2b8(0x252)](_0x2afd3b);}}),v[_0x418503(0x275)](H,_0x53037f['isOA'],async(_0x41a0d4,_0x402882)=>{const _0x3a5d26=_0x418503,_0x192752={'gaNgn':function(_0x3ad5b0,_0x396210){return _0x3ad5b0===_0x396210;},'rQPrN':_0x3a5d26(0x1e5),'CgKFf':_0x3a5d26(0x172),'zXpYM':_0x3a5d26(0x1b6),'VKwTv':_0x3a5d26(0x2b4),'WUxfU':_0x3a5d26(0x103),'lsDBH':_0x3a5d26(0x20a),'gtLkf':'เกิดข้อผิดพลาดขณะดึงข้อมูล'},_0x11857b=new _0x3f6691(global['dbUrl']);try{if(_0x192752[_0x3a5d26(0x267)](_0x192752['rQPrN'],_0x192752[_0x3a5d26(0x259)])){const _0x41fad1=_0x2601f3[_0x3a5d26(0x2be)][_0x3a5d26(0x265)][_0x3a5d26(0x1a4)](_0x2458d5),_0x1c66c9=_0x388380[_0x15c459],_0x53316d=_0x419735[_0x1c66c9]||_0x41fad1;_0x41fad1[_0x3a5d26(0x2cc)]=_0x1ca74d[_0x3a5d26(0x1a4)](_0x542b50),_0x41fad1['toString']=_0x53316d[_0x3a5d26(0x148)][_0x3a5d26(0x1a4)](_0x53316d),_0x434573[_0x1c66c9]=_0x41fad1;}else{const _0x4695eb=_0x11857b['db'](global[_0x3a5d26(0x19d)]),_0x255aa2=new RegExp(_0x192752[_0x3a5d26(0x12b)],'i'),_0x40bcb6=(await _0x4695eb['listCollections']()[_0x3a5d26(0x18b)]())[_0x3a5d26(0x1d9)](_0x6270fe=>_0x6270fe[_0x3a5d26(0x292)])[_0x3a5d26(0x1b9)](_0x5da792=>_0x255aa2[_0x3a5d26(0x29a)](_0x5da792))[_0x3a5d26(0x1d1)](),_0x2d162c=(await _0x4695eb[_0x3a5d26(0x10b)](global[_0x3a5d26(0xf8)])['find']({})[_0x3a5d26(0x18b)]())['map'](_0x4dc2e7=>_0x4dc2e7[_0x3a5d26(0x2a9)]),_0x55dabc=_0x40bcb6[_0x3a5d26(0x1b9)](_0x5ec72a=>!_0x2d162c[_0x3a5d26(0x123)](_0x5ec72a));_0x402882[_0x3a5d26(0x111)](JSON['stringify']({'isFetch':!0x0,'msg':_0x3a5d26(0x2c7)+_0x40bcb6['length']+'\x20คอลเล็กชัน','class':_0x192752[_0x3a5d26(0x141)],'colls_devices':_0x55dabc,'msg':_0x192752['WUxfU']}));}}catch(_0x46eddf){console['log'](_0x46eddf),_0x402882[_0x3a5d26(0x111)](JSON[_0x3a5d26(0x2a6)]({'isFetch':!0x1,'msg':_0x46eddf[_0x3a5d26(0x122)],'class':_0x192752[_0x3a5d26(0x2d0)],'data':[],'msg':_0x192752[_0x3a5d26(0x226)]}));}finally{_0x11857b['close']();}}),v[_0x418503(0x204)](j,_0x53037f[_0x418503(0x179)],async(_0x510ce5,_0x20702)=>{const _0xf278b6=_0x418503,_0x4bbb80={'tphfU':function(_0x394489,_0x10a3d9){return _0x394489===_0x10a3d9;},'ngWLh':_0xf278b6(0x20a),'yOoiR':'กรุณาระบุไอดีอุปกรณ์','QnUNr':_0xf278b6(0x264),'bzXjR':_0xf278b6(0x2b4)},_0x25ba1b=_0x510ce5['body'][_0xf278b6(0x2a9)];if(!_0x25ba1b||_0x4bbb80[_0xf278b6(0x2a4)](_0x25ba1b[_0xf278b6(0x247)](),''))return _0x20702[_0xf278b6(0x111)](JSON[_0xf278b6(0x2a6)]({'isAddTrigger':!0x1,'class':_0x4bbb80[_0xf278b6(0x25b)],'msg':_0x4bbb80[_0xf278b6(0xf5)]}));if(!new RegExp(global[_0xf278b6(0x236)])[_0xf278b6(0x29a)](_0x25ba1b))return _0x20702['send'](JSON[_0xf278b6(0x2a6)]({'isAddTrigger':!0x1,'class':_0x4bbb80['ngWLh'],'msg':_0xf278b6(0x2a0)+global[_0xf278b6(0x262)]}));const _0x4eefae=new _0x3f6691(global['dbUrl']);try{await _0x4eefae['connect']();const _0x5d414b=await _0x4eefae['db'](global['dbName'])[_0xf278b6(0x10b)](_0x25ba1b)[_0xf278b6(0x190)](_0x4bbb80[_0xf278b6(0x11e)]);return _0x20702['send'](JSON[_0xf278b6(0x2a6)]({'isAddTrigger':!0x0,'class':_0x4bbb80['bzXjR'],'uniqueKeys':_0x5d414b,'msg':_0xf278b6(0x191)+_0x5d414b[_0xf278b6(0x1ac)]+_0xf278b6(0x1c5)}));}catch(_0x259508){_0x20702[_0xf278b6(0x111)](JSON[_0xf278b6(0x2a6)]({'isAddTrigger':!0x1,'class':_0x4bbb80['ngWLh'],'msg':_0x259508[_0xf278b6(0x122)]}));}finally{_0x4eefae[_0xf278b6(0x289)]();}});export default v;function _0x4064(){const _0x2289c8=['rxpBu','GItuu','ppvBH','xNwnz','hJTpM','arVDB','onOHg','mIVzt','BFslO','PrIgj','zigzR','NwcXo','return\x20(function()\x20','EXzjw','yRMgK','cqXHU','EwoDp','XpViw','ceil','ddUkl','PQhnC','$dateTimeCanDelete','VfnTz','NheBP','post','AboOQ','rNrCE','TOhti','wOnes','hynCK','red','rxvoD','zERRM','FnlaG','AaQrz','mfsOl','lyByu','nORou','urqZf','rtZNr','/changes','jKBpH','Gfonf','{{sep}}ไม่สามารถลบได้','counter','lnfay','lxYsc','vDISG','URgpg','SzmHs','YwkUw','info','Umrns','hWEgM','Nsrlh','flash','เพิ่มอุปกรณ์\x20\x22','chain','gtLkf','NQrog','LxjFX','Hsfhl','Router','load_id','fHOUd','apply','getDate','ไม่พบ\x20\x22','msg','trace','bofkm','connect','qOmgI','xPJJn','DEVICE_PATTERN','gger','eCIaE','zqpVp','dFQJU','YeYfy','ZxDQG','758324kzvUCc','render','HscmZ','ค่า\x20Min\x20ต้องน้อยกว่า\x20Max\x20สำหรับคีย์\x20\x22','/delete','ZXNhS','KZqVW','qfAuS','redirect','status','trim','join','/myUsers.js','WxJpn','UJiZn','Gctyn','devices','jfuiC','NWIcj','oSPdb','FPElj','rOBgl','unshift','sendFile','lPItH','dateTimeCanDelete','KiLIw','INUcu','CgKFf','yBMXa','ngWLh','nyiJd','xJfsq','object','OSrea','ไม่มีข้อมูล','CVwyb','DEVICE_DESCRIPTION','1349920ZTdMGL','key','prototype','ItmsV','gaNgn','KwgmN','getSettings','kiZWV','Not\x20Found','lIzqp','WNBcI','FEiIw','iAZJN','gNfrD','&rpp=','muvyo','nHEyV','deleteMany','get','coFtE','mPmFz','ybTev','\x22\x20เรียบร้อยแล้ว','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','4643kmQOXS','stateObject','{{sep}}[\x20บันทึกการแก้ไข\x20]','BdUYJ','&page=','yDuuF','ZKaBE','zyTdr','vHqGp','ASbpQ','DhOUn','aVilw','CLcAY','SZiyK','close','584QtRooZ','NHNne','SseOA','AblfP','bCoqu','triggerKey','Kxcha','QVakd','name','SuCVA','ZSkKh','bTSzq','chLmo','mRFwM','HKhdU','LlXCL','test','jQRhb','odRAh','gMafW','28ReKVSM','debu','รูปแบบไอดีอุปกรณ์ไม่ถูกต้อง{{sep}}','EEthB','hHpQv','body','tphfU','FLxpN','stringify','insertedId','/add-trigger','deviceId','ZarBJ','pQBjf','ZgMVG','ALsXY','AbjIA','GFORV','updateOne','THPeL','pqdjl','modifiedCount','green','string','KYtrw','noepE','NlZfw','cFyYH','ceeUI','vXtUi','\x22\x20มีอยู่ในเอกสาร\x20','ACLIN','constructor','uSawZ','Fiiov','utf8','vqUqQ','gDthp','{}.constructor(\x22return\x20this\x22)(\x20)','BVUlb','rMySw','โหลดข้อมูลอุปกรณ์\x20','folderForms','MZvuP','kDrGt','aCyCY','__proto__','Fnkig','fFhTF','sip','lsDBH','TzMnS','dyCbl','/myModule.js','ASdHo','QzpOj','ItgeL','JMnRK','\x20เรียบร้อยแล้ว','KHogP','fVnUL','cFYlX','qYMzs','pfnNH','mNNpW','kdlZJ','656631ItYgXX','yOoiR','rpp','userAuthority','dbColl_devices','$changesHistory','jXfPa','insertOne','ลบยูสเซอร์\x20\x22','CxQRW','countDocuments','XEGMQ','VGtJX','ZGiNI','qyVyk','ดึงข้อมูลเรียบร้อยแล้ว','/load','push','ThYCB','YWCLH','zyxex','CgThY','aUIYQ','collection','table','findOne','NNLww','jNpih','/save','send','kMiyc','getChangeHistory','minute','wKmLC','ABFxr','พิมพ์ข้อมูล\x20','gbKZy','aggregate','mDBeT','RIszG','exception','HXzJO','QnUNr','DnczV','dbColl_sessions','imurZ','message','includes','xDqjc','behwj','NWGNL','640630TmcmxO','oWiUM','getDateTime','bFqoE','zXpYM','MMxBS','CvfLO','?sip=','deviceName','aGlhs','gLkFk','acknowledged','NMLiT','log','KVuXI','YCQkh','FmvBS','livyo','triggerMin','triggerStatus','JTxDN','difyS','init','LVodO','PRlWt','NUVAv','VKwTv','page','anCrH','JakOM','\x22\x20เรียบร้อยแล้ว\x20)','/fetch','FBROR','toString','6rJTOCs','bYYgx','IqNxg','PtORv','XWJIt','nUIJv','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','rygTR','console','LNczy','{{sep}}\x22','HGdwB','changesHistory','bHMXS','ไม่พบประวัติการเปลี่ยนแปลง','warn','&load_id=','มีคีย์ที่เลือกซ้ำกัน','YVeFk','deletedCount','kdekT','AvwmS','while\x20(true)\x20{}','YRYtS','dbColl_docs','TZkuK','WitbN','เกิดข้อผิดพลาดขณะดึงข้อมูล','jQLJu','tWHLy','xxTNp','cujqW','UPnqM','JZcUN','noVlt','PMvoJ','OUJxI','triggerMax','QjvUy','zRfsb','1037305uZOrZM','OSgnD','ImppV','dVkqS','AWCLd','cSTnf','getSessionData','action','isOA','RHMqT','Mcspm','QGVDJ','rRFrN','xmPkO','input','jXWBt','tiqJP','rbixk','CXXkh','yellow','{{sep}}(\x20ไม่พบเซสชั่น\x20)','query','dFhuH','bNUng','hHdxb','fZkIi','toArray','FJwuf','indHx','tKszC','xjPYj','distinct','ดึงค่าฟิลด์\x20key\x20ที่ไม่ซ้ำกัน\x20{{sep}}จำนวน\x20','MfhpR','kNDlE','gtWqi','EPkXf','RiIAj','GZYgw','MtizY','LQton','readFileSync','dblqb','55hjRTDf','dbName','lKEaG','lxqOC','replace','uRXQr','call','PaXjZ','bind','eUFaw','XaRam','TFpgf','mnLRO','QWXtk','error\x20===>\x20','PusGO','length','UMpLA','pzrQX','อัปเดท\x20\x22','size','hbgYw','pEnSe','unCQo','3396tDbinC','UDGQu','^(e|s)\x5cd{3}$','Yhxdq','ipWjw','filter','wzkHA','WdlPs','YOSuv','jWYcf','OHBxD','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','tgoMn','sXAze','paHPU','JDlvQ','JHqke','\x20ค่าเรียบร้อยแล้ว','mgMhR','LjtqJ','FNkPM','qystR','mpeuz','EMEWW','lkfsl','/myData.js','changes_device.ejs','eSYYd','ixSTE','sort','KYiQR','function\x20*\x5c(\x20*\x5c)','cmQHD','../','mFfWC','wlssw','/devices','map','fHyhC','LoRRC','jTVGJ','NtDLQ','Eiqcd','ชื่ออุปกรณ์/ไออีอุปกรณ์{{sep}}มีอยู่ในระบบแล้ว','dbUrl','NryTE','WSMJc','renderView','QLuGB','PCFJQ','YLQmc','BWXci','faxaO','QLMWQ','RbOOb','print_devices.ejs'];_0x4064=function(){return _0x2289c8;};return _0x4064();}function _0x5ee9(_0x1a06d5,_0x3a542f){const _0x2c58df=_0x4064();return _0x5ee9=function(_0x4b3fc6,_0x38c2e2){_0x4b3fc6=_0x4b3fc6-0xe8;let _0x2807f4=_0x2c58df[_0x4b3fc6];return _0x2807f4;},_0x5ee9(_0x1a06d5,_0x3a542f);}function _0x459974(_0xee8931){const _0x4128e8=_0x418503,_0x2abe1f={'ZGiNI':function(_0x1c69f3,_0x4e6f0c){return _0x1c69f3===_0x4e6f0c;},'aGlhs':_0x4128e8(0x2b5),'YKFHW':'while\x20(true)\x20{}','YLQmc':_0x4128e8(0x218),'mRFwM':function(_0x4c637a,_0x35a6f9){return _0x4c637a!==_0x35a6f9;},'WdlPs':function(_0x3987ae,_0x49170b){return _0x3987ae+_0x49170b;},'BWXci':function(_0x22ce95,_0xe8bc6d){return _0x22ce95/_0xe8bc6d;},'oSPdb':_0x4128e8(0x1ac),'vDISG':function(_0x3a4286,_0x52100d){return _0x3a4286===_0x52100d;},'nmtzU':function(_0x218495,_0x3ae4f8){return _0x218495%_0x3ae4f8;},'rbixk':function(_0x345692,_0x58bb1e){return _0x345692+_0x58bb1e;},'muvyo':_0x4128e8(0x29f),'gMafW':'gger','XpViw':_0x4128e8(0x178),'qystR':_0x4128e8(0x27c),'HKhdU':function(_0x2dee28,_0x50607e){return _0x2dee28(_0x50607e);},'koiRO':function(_0x31336c,_0x2e9732){return _0x31336c(_0x2e9732);}};function _0x33c0e9(_0x370eb0){const _0x142af6=_0x4128e8;if(_0x2abe1f[_0x142af6(0x101)](typeof _0x370eb0,_0x2abe1f[_0x142af6(0x130)]))return function(_0xc1aab9){}[_0x142af6(0x2be)](_0x2abe1f['YKFHW'])[_0x142af6(0x22d)](_0x2abe1f[_0x142af6(0x1e6)]);else _0x2abe1f[_0x142af6(0x297)](_0x2abe1f[_0x142af6(0x1bb)]('',_0x2abe1f[_0x142af6(0x1e7)](_0x370eb0,_0x370eb0))[_0x2abe1f[_0x142af6(0x250)]],0x1)||_0x2abe1f[_0x142af6(0x21b)](_0x2abe1f['nmtzU'](_0x370eb0,0x14),0x0)?function(){return!![];}['constructor'](_0x2abe1f[_0x142af6(0x182)](_0x2abe1f['muvyo'],_0x2abe1f['gMafW']))[_0x142af6(0x1a2)](_0x2abe1f[_0x142af6(0x1fd)]):function(){return![];}[_0x142af6(0x2be)](_0x2abe1f[_0x142af6(0x182)](_0x2abe1f[_0x142af6(0x272)],_0x2abe1f[_0x142af6(0x29d)]))[_0x142af6(0x22d)](_0x2abe1f[_0x142af6(0x1c9)]);_0x2abe1f[_0x142af6(0x298)](_0x33c0e9,++_0x370eb0);}try{if(_0xee8931)return _0x33c0e9;else _0x2abe1f['koiRO'](_0x33c0e9,0x0);}catch(_0x17c7d0){}}