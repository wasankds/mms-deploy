const _0x102844=_0x559a;(function(_0x39ea1,_0x3f576c){const _0x49fef5=_0x559a,_0x25767a=_0x39ea1();while(!![]){try{const _0x3a0b06=parseInt(_0x49fef5(0x1fd))/0x1+parseInt(_0x49fef5(0x1cb))/0x2+parseInt(_0x49fef5(0x250))/0x3*(-parseInt(_0x49fef5(0x22b))/0x4)+-parseInt(_0x49fef5(0x248))/0x5+parseInt(_0x49fef5(0x269))/0x6+-parseInt(_0x49fef5(0x2bb))/0x7+-parseInt(_0x49fef5(0x2f7))/0x8;if(_0x3a0b06===_0x3f576c)break;else _0x25767a['push'](_0x25767a['shift']());}catch(_0x2db20d){_0x25767a['push'](_0x25767a['shift']());}}}(_0x4bae,0xc0982));function _0x559a(_0x1e6cc6,_0x48f6eb){const _0x9eaed3=_0x4bae();return _0x559a=function(_0x363bca,_0x4ecb7d){_0x363bca=_0x363bca-0x1bc;let _0x16d035=_0x9eaed3[_0x363bca];return _0x16d035;},_0x559a(_0x1e6cc6,_0x48f6eb);}const _0xddd0c2=(function(){const _0x19eb04=_0x559a,_0x532a31={'oznZv':function(_0x27e10e,_0x136367){return _0x27e10e!==_0x136367;},'aDnpV':'rupLv','oKgZf':_0x19eb04(0x2ee),'xaNVu':_0x19eb04(0x236),'SiOwO':function(_0xc05792,_0x3bcdeb){return _0xc05792(_0x3bcdeb);},'KOsbw':function(_0x317e6c,_0x4169d4){return _0x317e6c+_0x4169d4;},'tuNne':function(_0x299ac3,_0x2b13fb){return _0x299ac3+_0x2b13fb;},'KodiQ':'return\x20(function()\x20','pwpYY':_0x19eb04(0x273),'mDcoG':function(_0x1a57ea){return _0x1a57ea();},'fHMKR':'log','vbXDw':'warn','LISUD':_0x19eb04(0x1cf),'HYnue':_0x19eb04(0x27e),'reLko':_0x19eb04(0x2cb),'JhYMD':'table','ffqku':_0x19eb04(0x2d9),'kUrLx':function(_0x2a06e2,_0x25a891){return _0x2a06e2<_0x25a891;},'RdSGC':function(_0x4b2cd8,_0x4a7726){return _0x4b2cd8===_0x4a7726;},'vVPua':_0x19eb04(0x2ce)};let _0x2fe481=!![];return function(_0x230277,_0x3d85b5){const _0x532542=_0x19eb04;if(_0x532a31[_0x532542(0x1d3)](_0x532a31['vVPua'],_0x532a31['vVPua'])){const _0x422fa3=_0x2fe481?function(){const _0x152416=_0x532542;if(_0x532a31[_0x152416(0x226)](_0x532a31['aDnpV'],_0x532a31[_0x152416(0x2d1)]))return _0x222efb;else{if(_0x3d85b5){if(_0x532a31[_0x152416(0x226)](_0x532a31[_0x152416(0x1f9)],_0x532a31[_0x152416(0x228)])){const _0x1c6d86=_0x3d85b5[_0x152416(0x305)](_0x230277,arguments);return _0x3d85b5=null,_0x1c6d86;}else return!![];}}}:function(){};return _0x2fe481=![],_0x422fa3;}else{let _0x3f9a7c;try{const _0x19a6b1=_0x532a31['SiOwO'](_0x20b369,_0x532a31[_0x532542(0x235)](_0x532a31[_0x532542(0x204)](_0x532a31['KodiQ'],_0x532a31[_0x532542(0x2bd)]),');'));_0x3f9a7c=_0x532a31[_0x532542(0x287)](_0x19a6b1);}catch(_0x1a72c1){_0x3f9a7c=_0x56368a;}const _0x32db22=_0x3f9a7c[_0x532542(0x264)]=_0x3f9a7c[_0x532542(0x264)]||{},_0x42a0e5=[_0x532a31[_0x532542(0x2b2)],_0x532a31[_0x532542(0x1f2)],_0x532a31[_0x532542(0x22c)],_0x532a31[_0x532542(0x309)],_0x532a31[_0x532542(0x212)],_0x532a31[_0x532542(0x284)],_0x532a31[_0x532542(0x2ad)]];for(let _0x1cfe50=0x0;_0x532a31[_0x532542(0x1cc)](_0x1cfe50,_0x42a0e5[_0x532542(0x2fc)]);_0x1cfe50++){const _0x1be0c2=_0x32ce97['constructor'][_0x532542(0x2e2)][_0x532542(0x1c2)](_0x148bd6),_0x4bdfaa=_0x42a0e5[_0x1cfe50],_0x5c5e04=_0x32db22[_0x4bdfaa]||_0x1be0c2;_0x1be0c2[_0x532542(0x262)]=_0x5d0d25[_0x532542(0x1c2)](_0x36a9b2),_0x1be0c2['toString']=_0x5c5e04[_0x532542(0x20d)][_0x532542(0x1c2)](_0x5c5e04),_0x32db22[_0x4bdfaa]=_0x1be0c2;}}};}());(function(){const _0x26a7d3=_0x559a,_0x39785f={'EWmUL':'function\x20*\x5c(\x20*\x5c)','HvRuF':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','tztXK':function(_0x14089c,_0x255d70){return _0x14089c(_0x255d70);},'ICgqt':_0x26a7d3(0x2b3),'chxCI':function(_0x10e047,_0x3efb80){return _0x10e047+_0x3efb80;},'fqiUU':_0x26a7d3(0x2fd),'eVUwZ':'input','QLNii':function(_0x2efda8,_0x1f45a9){return _0x2efda8(_0x1f45a9);},'zHsYD':function(_0x35ad65){return _0x35ad65();},'KfIQl':'Error\x20reading\x20image:','jYEzs':_0x26a7d3(0x268),'TYEBv':_0x26a7d3(0x276),'nVDJB':'ไม่พบไฟล์รูปภาพ','gdXev':'image/jpeg','hMucB':function(_0x187375,_0x1939d9){return _0x187375===_0x1939d9;},'qVmoY':_0x26a7d3(0x266),'hXtCg':function(_0x5db7fb,_0x56c6c8){return _0x5db7fb(_0x56c6c8);},'hLXFb':function(_0xc2a3bf,_0x31ed8b){return _0xc2a3bf+_0x31ed8b;},'WWpoW':function(_0xc7b067,_0x97c01c){return _0xc7b067===_0x97c01c;},'JKVLo':_0x26a7d3(0x201),'mhCUP':_0x26a7d3(0x253),'TOlPP':_0x26a7d3(0x267),'ZJmmp':function(_0x3d6b30){return _0x3d6b30();},'eLqux':function(_0x4dcf90,_0x4003b0,_0x25c023){return _0x4dcf90(_0x4003b0,_0x25c023);}};_0x39785f['eLqux'](_0xddd0c2,this,function(){const _0x641cd1=_0x26a7d3,_0x40d0a1={'CbRYZ':_0x39785f[_0x641cd1(0x244)],'xEKnW':_0x39785f[_0x641cd1(0x1bd)],'WuKdZ':function(_0x2cf82c,_0x8d6def){return _0x39785f['tztXK'](_0x2cf82c,_0x8d6def);},'QWMfJ':_0x39785f[_0x641cd1(0x2ff)],'UQWAU':function(_0x1d1e4d,_0x5be96c){const _0x5050da=_0x641cd1;return _0x39785f[_0x5050da(0x2a7)](_0x1d1e4d,_0x5be96c);},'LAJCK':_0x39785f[_0x641cd1(0x2ed)],'UFFrY':_0x39785f['eVUwZ'],'cFgji':function(_0x4c38d5,_0x2fd239){const _0x7ad20a=_0x641cd1;return _0x39785f[_0x7ad20a(0x1ec)](_0x4c38d5,_0x2fd239);},'KYzvg':function(_0x5d8131){const _0x1a6c57=_0x641cd1;return _0x39785f[_0x1a6c57(0x1d4)](_0x5d8131);},'AQHtr':_0x39785f[_0x641cd1(0x2b7)],'UTWFL':_0x39785f[_0x641cd1(0x2c7)],'ZbTcN':_0x39785f['TYEBv'],'eiDCV':_0x39785f[_0x641cd1(0x222)],'FHszZ':_0x39785f[_0x641cd1(0x1f1)]};if(_0x39785f[_0x641cd1(0x271)](_0x39785f['qVmoY'],_0x39785f[_0x641cd1(0x2f6)])){const _0x8ea96b=new RegExp(_0x39785f[_0x641cd1(0x244)]),_0xcb6f5c=new RegExp(_0x39785f[_0x641cd1(0x1bd)],'i'),_0x38bf6d=_0x39785f['hXtCg'](_0x1c7e03,_0x39785f[_0x641cd1(0x2ff)]);if(!_0x8ea96b[_0x641cd1(0x300)](_0x39785f[_0x641cd1(0x2a7)](_0x38bf6d,_0x39785f[_0x641cd1(0x2ed)]))||!_0xcb6f5c['test'](_0x39785f[_0x641cd1(0x275)](_0x38bf6d,_0x39785f[_0x641cd1(0x1de)]))){if(_0x39785f[_0x641cd1(0x1c8)](_0x39785f[_0x641cd1(0x2de)],_0x39785f[_0x641cd1(0x2de)]))_0x39785f[_0x641cd1(0x1ec)](_0x38bf6d,'0');else{const _0x2434fa=_0x2e9f12['apply'](_0xffab68,arguments);return _0x1a50e0=null,_0x2434fa;}}else{if(_0x39785f[_0x641cd1(0x271)](_0x39785f['mhCUP'],_0x39785f[_0x641cd1(0x2f0)])){const _0x4f4116=new _0x508c81(_0x40d0a1[_0x641cd1(0x2aa)]),_0x588840=new _0x17a4f0(_0x40d0a1[_0x641cd1(0x24c)],'i'),_0x5a36a3=_0x40d0a1[_0x641cd1(0x213)](_0x737ebd,_0x40d0a1[_0x641cd1(0x2be)]);!_0x4f4116[_0x641cd1(0x300)](_0x40d0a1[_0x641cd1(0x22a)](_0x5a36a3,_0x40d0a1[_0x641cd1(0x2e9)]))||!_0x588840[_0x641cd1(0x300)](_0x40d0a1[_0x641cd1(0x22a)](_0x5a36a3,_0x40d0a1[_0x641cd1(0x2e3)]))?_0x40d0a1['cFgji'](_0x5a36a3,'0'):_0x40d0a1[_0x641cd1(0x308)](_0x1cb5f0);}else _0x39785f[_0x641cd1(0x249)](_0x1c7e03);}}else{const {filename:_0x89ea50}=_0x104332[_0x641cd1(0x1e2)];if(!_0x89ea50)return _0xe123a2['status'](0x190)[_0x641cd1(0x30f)](_0x40d0a1['eiDCV']);const {folderName:_0x111470}=_0x273f87[_0x641cd1(0x28a)](_0x13c319[_0x641cd1(0x225)]),_0x181f40=_0x1976fc[_0x641cd1(0x251)](_0x111470,_0x89ea50),_0x57e3f5=_0x553de6[_0x641cd1(0x223)](_0x89ea50)['toLowerCase'](),_0x89dddf={'.jpg':_0x40d0a1[_0x641cd1(0x292)],'.jpeg':_0x40d0a1[_0x641cd1(0x292)]};_0x52dd1b[_0x641cd1(0x24a)](_0x181f40,(_0x56851a,_0x3411ff)=>{const _0x133ffe=_0x641cd1;if(_0x56851a)return _0x59ca5d['error'](_0x40d0a1[_0x133ffe(0x294)],_0x56851a),_0x25e33d[_0x133ffe(0x206)](0x1f4)['send'](_0x40d0a1[_0x133ffe(0x237)]);const _0x4e276e=_0x89dddf[_0x57e3f5]||_0x40d0a1[_0x133ffe(0x220)];_0x5b1d3b[_0x133ffe(0x265)](0xc8,{'Content-Type':_0x4e276e}),_0x3d6cb3[_0x133ffe(0x2a1)](_0x3411ff);});}})();}());const _0x4ecb7d=(function(){const _0x28798f=_0x559a,_0x24eb0f={'BpSRS':function(_0x4cbfb8,_0x557083){return _0x4cbfb8+_0x557083;},'Lqqyn':_0x28798f(0x2c6),'LAHEY':_0x28798f(0x25a),'YNMWN':_0x28798f(0x27b),'wXAyf':_0x28798f(0x21e),'dhOIn':_0x28798f(0x229),'waGNT':function(_0x26f1e7,_0x8bd313){return _0x26f1e7!==_0x8bd313;},'sUuir':_0x28798f(0x1f4),'WeMLD':_0x28798f(0x2bc),'CFPBz':function(_0x5371bd,_0x223972){return _0x5371bd===_0x223972;},'lOSVB':_0x28798f(0x2d2),'ZHReO':function(_0x53c8b3,_0x671bbb){return _0x53c8b3!==_0x671bbb;},'gwQas':_0x28798f(0x1d6)};let _0x1076ef=!![];return function(_0x3b24a0,_0x32a454){const _0x5718e1=_0x28798f;if(_0x24eb0f['ZHReO'](_0x24eb0f['gwQas'],_0x24eb0f[_0x5718e1(0x1e9)])){var _0x5673d7=_0x16be8d['body']['refImageBase64']?_0x36b7c1['body']['refImageBase64']:null;delete _0x4f5588[_0x5718e1(0x1e2)][_0x5718e1(0x234)];}else{const _0x1b2155=_0x1076ef?function(){const _0xa1c1de=_0x5718e1,_0x380a93={'pNFDT':function(_0x537876,_0x1056db){return _0x24eb0f['BpSRS'](_0x537876,_0x1056db);},'PjWWH':_0x24eb0f[_0xa1c1de(0x27f)],'KNMFh':_0x24eb0f[_0xa1c1de(0x1e8)],'MDyvv':_0x24eb0f[_0xa1c1de(0x242)],'KMKyD':_0x24eb0f[_0xa1c1de(0x23b)],'meeNj':_0x24eb0f[_0xa1c1de(0x2b8)]};if(_0x24eb0f[_0xa1c1de(0x279)](_0x24eb0f[_0xa1c1de(0x2f3)],_0x24eb0f[_0xa1c1de(0x286)])){if(_0x32a454){if(_0x24eb0f[_0xa1c1de(0x26c)](_0x24eb0f[_0xa1c1de(0x240)],_0x24eb0f['lOSVB'])){const _0x5bd828=_0x32a454['apply'](_0x3b24a0,arguments);return _0x32a454=null,_0x5bd828;}else(function(){return![];}[_0xa1c1de(0x215)](_0x380a93['pNFDT'](_0x380a93[_0xa1c1de(0x245)],_0x380a93[_0xa1c1de(0x232)]))[_0xa1c1de(0x305)](_0x380a93[_0xa1c1de(0x224)]));}}else return function(_0x15cecc){}[_0xa1c1de(0x215)](_0x380a93['KMKyD'])[_0xa1c1de(0x305)](_0x380a93['meeNj']);}:function(){};return _0x1076ef=![],_0x1b2155;}};}()),_0x363bca=_0x4ecb7d(this,function(){const _0x3d9b8d=_0x559a,_0x4bad26={'oCWrb':function(_0x25cfe3,_0x365f17){return _0x25cfe3===_0x365f17;},'OxMPB':_0x3d9b8d(0x2ec),'tIhZx':function(_0x15fddd,_0x546329){return _0x15fddd(_0x546329);},'CrPbg':function(_0x400ea3,_0x484a06){return _0x400ea3+_0x484a06;},'jKbvP':function(_0x3d81fb,_0x25d86b){return _0x3d81fb+_0x25d86b;},'YudAS':_0x3d9b8d(0x298),'zXstA':_0x3d9b8d(0x273),'axzNq':function(_0xca6a42){return _0xca6a42();},'NegHF':_0x3d9b8d(0x28c),'dhJSH':'dZdDg','vmvsc':'log','NbJVt':_0x3d9b8d(0x26a),'cjNZz':'info','vmRKP':_0x3d9b8d(0x27e),'qmMyy':_0x3d9b8d(0x2cb),'pnfmc':_0x3d9b8d(0x211),'HQDNz':_0x3d9b8d(0x2d9),'bIFSx':function(_0x568ae2,_0x3ab2aa){return _0x568ae2<_0x3ab2aa;},'lhpEi':'JtVlW'};let _0x375ad9;try{if(_0x4bad26[_0x3d9b8d(0x20c)](_0x4bad26['OxMPB'],_0x4bad26[_0x3d9b8d(0x200)])){const _0x42cc9b=_0x4bad26[_0x3d9b8d(0x28d)](Function,_0x4bad26['CrPbg'](_0x4bad26[_0x3d9b8d(0x29e)](_0x4bad26[_0x3d9b8d(0x26b)],_0x4bad26[_0x3d9b8d(0x1f6)]),');'));_0x375ad9=_0x4bad26[_0x3d9b8d(0x2fa)](_0x42cc9b);}else{if(_0xc323d2){const _0x2440f3=_0x2c306b[_0x3d9b8d(0x305)](_0x4ebbb7,arguments);return _0x323c9a=null,_0x2440f3;}}}catch(_0x2884b6){if(_0x4bad26[_0x3d9b8d(0x20c)](_0x4bad26[_0x3d9b8d(0x1f7)],_0x4bad26['dhJSH']))return![];else _0x375ad9=window;}const _0x209f3d=_0x375ad9[_0x3d9b8d(0x264)]=_0x375ad9['console']||{},_0x2618d1=[_0x4bad26[_0x3d9b8d(0x2b9)],_0x4bad26[_0x3d9b8d(0x2c0)],_0x4bad26[_0x3d9b8d(0x2cf)],_0x4bad26['vmRKP'],_0x4bad26[_0x3d9b8d(0x1d7)],_0x4bad26[_0x3d9b8d(0x1c6)],_0x4bad26['HQDNz']];for(let _0x57ecb1=0x0;_0x4bad26[_0x3d9b8d(0x2b6)](_0x57ecb1,_0x2618d1[_0x3d9b8d(0x2fc)]);_0x57ecb1++){if(_0x4bad26[_0x3d9b8d(0x20c)](_0x4bad26[_0x3d9b8d(0x2fb)],_0x4bad26[_0x3d9b8d(0x2fb)])){const _0x371cb8=_0x4ecb7d['constructor'][_0x3d9b8d(0x2e2)][_0x3d9b8d(0x1c2)](_0x4ecb7d),_0x1f7864=_0x2618d1[_0x57ecb1],_0x234ad2=_0x209f3d[_0x1f7864]||_0x371cb8;_0x371cb8[_0x3d9b8d(0x262)]=_0x4ecb7d['bind'](_0x4ecb7d),_0x371cb8[_0x3d9b8d(0x20d)]=_0x234ad2['toString'][_0x3d9b8d(0x1c2)](_0x234ad2),_0x209f3d[_0x1f7864]=_0x371cb8;}else _0x365a9a[_0x3d9b8d(0x274)]();}});_0x363bca();import _0x448653 from'path';import _0x14aab2 from'fs';import _0x353c60 from'sharp';import _0x3f7433 from'express';const I=_0x3f7433[_0x102844(0x2a2)]();import{MongoClient as _0x496993}from'mongodb';import*as _0x38cfc4 from'../mymodule/myDateTime.js';import*as _0x32dff3 from'../mymodule/myUsers.js';import*as _0x4a64f6 from'../mymodule/myModule.js';import*as _0x41dbf7 from'../mymodule/myData.js';import*as _0x46c264 from'../mymodule/myDocMain.js';import _0x52ab9d from'../middleware/mainAuth.js';import{DateTime as _0x25fead}from'luxon';const N=global[_0x102844(0x246)],O=global['PATH_WAREHOUSE_OUT'],v=global[_0x102844(0x1ce)],k=[N,O,v],F=[N+_0x102844(0x2e7),O+_0x102844(0x2e7),v+_0x102844(0x2e7)],B=[N+'/view-image',O+_0x102844(0x302)];I[_0x102844(0x21a)](k,_0x52ab9d[_0x102844(0x2ea)],async(_0x5c9ae6,_0x2f5113)=>{const _0x45edfb=_0x102844,_0x107c94={'vYDHF':function(_0x58eeff,_0x3f195b){return _0x58eeff(_0x3f195b);},'KyhdF':function(_0x1167a5,_0x2d7731){return _0x1167a5===_0x2d7731;},'pRkRi':'SoYYC','ShCTA':_0x45edfb(0x21c),'xwhPp':'Asia/Bangkok','aKraQ':_0x45edfb(0x1db),'MRtgY':_0x45edfb(0x26f),'GUwOH':function(_0x46f005,_0x3aa910){return _0x46f005!==_0x3aa910;},'ZiTye':'zOhWg'},{docId:_0x4e93a8,sip:_0x4e390c}=_0x5c9ae6[_0x45edfb(0x2c9)];try{if(_0x107c94[_0x45edfb(0x233)](_0x107c94[_0x45edfb(0x2e0)],_0x107c94['pRkRi'])){const _0x296452=await _0x32dff3['getUserData'](_0x5c9ae6),_0x112c4b=await _0x46c264[_0x45edfb(0x219)](_0x5c9ae6,_0x2f5113,_0x296452[_0x45edfb(0x1e1)]),_0x536dd7=await _0x4a64f6['renderView'](_0x107c94[_0x45edfb(0x1ee)],_0x2f5113,{'title':_0x112c4b[_0x45edfb(0x1e7)],'time':_0x25fead['now']()[_0x45edfb(0x2a8)](_0x107c94[_0x45edfb(0x2e1)])[_0x45edfb(0x202)](_0x107c94[_0x45edfb(0x25b)]),'msg':_0x5c9ae6[_0x45edfb(0x261)](_0x107c94['MRtgY']),'user':_0x296452,...await _0x4a64f6[_0x45edfb(0x25d)](),..._0x112c4b,'DOC_STATUS_TITLE':global[_0x45edfb(0x22d)],'DOC_ID':_0x4e93a8,'SIP':_0x4e390c});_0x2f5113[_0x45edfb(0x30f)](_0x536dd7);}else _0x2e0486[_0x45edfb(0x210)](_0x4baf12[_0x45edfb(0x1c7)]),_0x492f13[_0x45edfb(0x206)](0x194)[_0x45edfb(0x2e8)](_0x10f454);}catch(_0x32a7a2){if(_0x107c94[_0x45edfb(0x30a)](_0x107c94['ZiTye'],_0x107c94['ZiTye'])){if(_0x2c75fc)return _0xfd403c;else OExAEk[_0x45edfb(0x2a5)](_0x10ede3,0x0);}else console[_0x45edfb(0x210)](_0x32a7a2[_0x45edfb(0x1c7)]),_0x2f5113[_0x45edfb(0x206)](0x194)[_0x45edfb(0x2e8)](file404);}}),I[_0x102844(0x24d)](F,_0x52ab9d[_0x102844(0x2ea)],async(_0x1d71b9,_0x3bd822)=>{const _0x2e4e2b=_0x102844,_0x15a959={'Zriuu':_0x2e4e2b(0x283),'uHIMm':'เกิดข้อผิดพลาดในการดึงรูปภาพ','jPEWj':_0x2e4e2b(0x276),'cKgim':function(_0x12addd,_0x562fd0){return _0x12addd(_0x562fd0);},'SzdHp':function(_0x520ca0,_0x3d3d9b){return _0x520ca0+_0x3d3d9b;},'iZBWZ':_0x2e4e2b(0x2f1),'SdlYR':_0x2e4e2b(0x2e4),'VLBmq':'init','CiZQH':_0x2e4e2b(0x2fd),'ONztC':_0x2e4e2b(0x29f),'QHsgj':function(_0x263551){return _0x263551();},'zMrgM':function(_0x4f9c6d,_0x30928b,_0x20f7cb){return _0x4f9c6d(_0x30928b,_0x20f7cb);},'igxCi':function(_0x2a8fa0,_0x2a2cf0){return _0x2a8fa0(_0x2a2cf0);},'hQoqd':function(_0x5b357c,_0x45a41d){return _0x5b357c(_0x45a41d);},'RNhJk':function(_0x513812){return _0x513812();},'kzBjG':function(_0x368626,_0x1afc52){return _0x368626+_0x1afc52;},'pZbYG':'debu','MwLzx':_0x2e4e2b(0x25a),'XcJxE':_0x2e4e2b(0x231),'FvvFH':function(_0x2e0108,_0x247b4a){return _0x2e0108===_0x247b4a;},'HUoCJ':_0x2e4e2b(0x1d1),'wSBqV':_0x2e4e2b(0x239),'qBUQM':function(_0x206686,_0x13feeb){return _0x206686!==_0x13feeb;},'qBAvO':_0x2e4e2b(0x27c),'DhDhE':function(_0x2ef9ed,_0x452d51){return _0x2ef9ed&&_0x452d51;},'QyCeE':function(_0x221821,_0x55a460){return _0x221821!==_0x55a460;},'PprSl':_0x2e4e2b(0x1df),'pvjuw':'FhkGA','oOYEk':function(_0x1d6283,_0x248802){return _0x1d6283+_0x248802;},'tUjzP':function(_0x303a6d,_0x55e726){return _0x303a6d==_0x55e726;},'AOWlo':_0x2e4e2b(0x1fb),'EKEzJ':function(_0x5d34a1,_0x4c9849){return _0x5d34a1==_0x4c9849;},'yZWKv':_0x2e4e2b(0x307),'OYdRQ':function(_0x4552ab,_0x4f255b){return _0x4552ab==_0x4f255b;},'jTaUC':_0x2e4e2b(0x2e5),'EIpYP':function(_0x3196ca,_0x105b6d){return _0x3196ca>_0x105b6d;},'VBAcs':'fZKxu','nIWPx':function(_0x4afac0,_0x1ebde2){return _0x4afac0(_0x1ebde2);},'bMVNl':_0x2e4e2b(0x26e),'TYsmw':_0x2e4e2b(0x209),'EbzjD':_0x2e4e2b(0x1d2),'btHkc':'NRhji','cExXX':'base64','tSCcT':function(_0x1ab2d0,_0x59911a){return _0x1ab2d0*_0x59911a;},'vAkWM':function(_0x14159f,_0x2f0108){return _0x14159f*_0x2f0108;},'zsbZb':_0x2e4e2b(0x23a),'htKbF':function(_0x4e43c9,_0x1da1a7){return _0x4e43c9==_0x1da1a7;},'bSWrH':'deaFk','NEEna':_0x2e4e2b(0x30d),'yBKaK':function(_0xb7f028,_0x52fa32){return _0xb7f028==_0x52fa32;},'PKtMU':'red','OKQei':_0x2e4e2b(0x1d8),'tILVj':_0x2e4e2b(0x1c1),'nxeNN':function(_0x422b9e,_0x470f61){return _0x422b9e!=_0x470f61;},'CMFDA':_0x2e4e2b(0x259),'wNogI':function(_0x414d12,_0x45d529){return _0x414d12==_0x45d529;},'gYbvt':'kECvn','QOEyG':function(_0x3f0211,_0x9c697c){return _0x3f0211==_0x9c697c;},'Vsqns':_0x2e4e2b(0x29a),'cczqT':function(_0x1b7d58,_0x5973f1){return _0x1b7d58==_0x5973f1;},'EyCKT':function(_0x359bd5,_0x18b9ba){return _0x359bd5==_0x18b9ba;},'rWRVV':'ZrrHD','FMQyS':'ไม่สามารถบันทึกเอกสารได้{{sep}}เนื่องจากเลยกำหนดยกเลิกเอกสารแล้ว','PAONy':_0x2e4e2b(0x247),'XByRv':_0x2e4e2b(0x28f),'wspcL':function(_0x15efd1,_0x2d0970){return _0x15efd1(_0x2d0970);},'QETUT':function(_0x37bc8e,_0x26ed88){return _0x37bc8e>_0x26ed88;},'wLqNW':function(_0x4da130,_0x378616){return _0x4da130===_0x378616;},'dSRgM':_0x2e4e2b(0x1c9),'ESrWv':'poAsm','xJujx':function(_0x3b7c96,_0x587eef){return _0x3b7c96>_0x587eef;},'QwPIw':_0x2e4e2b(0x20f),'HLKBc':_0x2e4e2b(0x1f0),'QSiWq':function(_0x451a6f,_0x108e72){return _0x451a6f<_0x108e72;},'ewwhX':_0x2e4e2b(0x203),'rbxBl':function(_0x18cf6f,_0x4abbb5){return _0x18cf6f==_0x4abbb5;},'XSeMc':_0x2e4e2b(0x2da),'VaVWn':function(_0x9f6d29,_0x1cdd8d){return _0x9f6d29!==_0x1cdd8d;},'bXKTz':_0x2e4e2b(0x1cd),'uaQLO':function(_0x1c2610,_0x340342){return _0x1c2610===_0x340342;},'iVxvh':_0x2e4e2b(0x2d4),'IsFaT':'noVhc'};await _0x46c264[_0x2e4e2b(0x219)](_0x1d71b9,_0x3bd822);const _0x3542ea=new _0x496993(global[_0x2e4e2b(0x227)]);await _0x3542ea[_0x2e4e2b(0x1fc)]();try{if(_0x15a959[_0x2e4e2b(0x205)](_0x15a959[_0x2e4e2b(0x252)],_0x15a959[_0x2e4e2b(0x20a)])){if(_0x2236ae)return _0x128ab8[_0x2e4e2b(0x27e)](_0x15a959[_0x2e4e2b(0x1e3)],_0xd3ca85),_0x20f1f1[_0x2e4e2b(0x206)](0x1f4)['send'](_0x15a959[_0x2e4e2b(0x27a)]);const _0x4e300d=_0x5264cb[_0xd54e04]||_0x15a959['jPEWj'];_0x56a0c0['writeHead'](0xc8,{'Content-Type':_0x4e300d}),_0x2df150[_0x2e4e2b(0x2a1)](_0x40c6d1);}else{const _0x1985cc=await _0x32dff3[_0x2e4e2b(0x216)](_0x1d71b9);if(_0x1d71b9[_0x2e4e2b(0x1e2)]=_0x41dbf7['convert_DataType'](_0x1d71b9[_0x2e4e2b(0x1e2)]),_0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x234)]){if(_0x15a959['qBUQM'](_0x15a959[_0x2e4e2b(0x23f)],_0x15a959['qBAvO'])){const _0x451607=_0x2bb347[0x0][_0x2e4e2b(0x303)],_0x50d9eb=_0x15a959[_0x2e4e2b(0x2ae)](_0x22b3a5,_0x451607[_0x2e4e2b(0x255)]('-')[0x1]);_0x2afc72=_0x3214b2+'-'+_0x15a959[_0x2e4e2b(0x2ae)](_0x482909,_0x15a959[_0x2e4e2b(0x2db)](_0x50d9eb,0x1))['padStart'](0x5,'0');}else{var _0x1c71a7=_0x1d71b9['body']['refImageBase64']?_0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x234)]:null;delete _0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x234)];}}const _0xd73681=_0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x2f4)]?_0x15a959['cKgim'](Number,_0x1d71b9['body']['docStatusNumber']):_0x1d71b9['body'][_0x2e4e2b(0x2f4)],_0x2ed2e0=_0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x303)],{collectionName:_0x4ee82c,docType:_0xdde5ad,hoursCanEdit:_0x48cfce,hoursCanCancel:_0x165fa9}=_0x41dbf7['get_Info_ByUrl'](_0x1d71b9[_0x2e4e2b(0x225)]),_0x5905e1=_0x3542ea['db'](global['dbName'])['collection'](_0x4ee82c);if(_0x15a959[_0x2e4e2b(0x2ef)](!_0xd73681,!_0x2ed2e0)){if(_0x15a959[_0x2e4e2b(0x293)](_0x15a959['PprSl'],_0x15a959[_0x2e4e2b(0x1d0)])){const _0x155299=await _0x5905e1[_0x2e4e2b(0x1ff)]()['sort']({'_id':-0x1})[_0x2e4e2b(0x2cc)](0x1)['toArray'](),_0x3df5df=new Date()[_0x2e4e2b(0x2ba)]()[_0x2e4e2b(0x20d)]()[_0x2e4e2b(0x21b)](-0x2),_0x3bc6cf=_0x15a959['oOYEk'](new Date()['getMonth'](),0x1)[_0x2e4e2b(0x20d)]()[_0x2e4e2b(0x218)](0x2,'0');if(_0x15a959[_0x2e4e2b(0x258)](_0xdde5ad,_0x15a959[_0x2e4e2b(0x2a0)]))var _0x3d963b='WI'+_0x3df5df+_0x3bc6cf;else{if(_0x15a959[_0x2e4e2b(0x221)](_0xdde5ad,_0x15a959[_0x2e4e2b(0x1ef)]))var _0x3d963b='WO'+_0x3df5df+_0x3bc6cf;else{if(_0x15a959[_0x2e4e2b(0x270)](_0xdde5ad,_0x15a959[_0x2e4e2b(0x2b1)]))var _0x3d963b='S'+_0x3df5df+_0x3bc6cf;}}let _0x18446e=_0x3d963b+'-00001';if(_0x15a959['EIpYP'](_0x155299[_0x2e4e2b(0x2fc)],0x0)){if(_0x15a959[_0x2e4e2b(0x205)](_0x15a959[_0x2e4e2b(0x2fe)],_0x15a959[_0x2e4e2b(0x2fe)])){const _0x5b0d9e=_0x155299[0x0][_0x2e4e2b(0x303)],_0x2ffed6=_0x15a959[_0x2e4e2b(0x2dd)](Number,_0x5b0d9e[_0x2e4e2b(0x255)]('-')[0x1]);_0x18446e=_0x3d963b+'-'+_0x15a959[_0x2e4e2b(0x2ab)](String,_0x15a959[_0x2e4e2b(0x2db)](_0x2ffed6,0x1))[_0x2e4e2b(0x218)](0x5,'0');}else _0x467122=_0x517faa;}_0x1d71b9[_0x2e4e2b(0x1e2)]['docId']=_0x18446e,_0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x2f4)]=0x1;const _0x5de865=_0x25fead[_0x2e4e2b(0x28b)]()[_0x2e4e2b(0x2a8)](_0x15a959[_0x2e4e2b(0x2af)])[_0x2e4e2b(0x202)](_0x15a959[_0x2e4e2b(0x1dc)]);if(_0x1d71b9['body'][_0x2e4e2b(0x263)]=_0x5de865,_0x1c71a7){if(_0x15a959['QyCeE'](_0x15a959[_0x2e4e2b(0x288)],_0x15a959['btHkc'])){const _0x5a4345=_0x1c71a7['replace'](/^data:image\/\w+;base64,/,''),_0x3d9ffd=Buffer['from'](_0x5a4345,_0x15a959[_0x2e4e2b(0x2c4)]),_0x5a12c2=_0x18446e+_0x2e4e2b(0x23d),{folderName:_0x59a543}=_0x41dbf7['get_Info_ByUrl'](_0x1d71b9[_0x2e4e2b(0x225)]),_0x435541=_0x448653['join'](_0x59a543,_0x5a12c2);await _0x15a959[_0x2e4e2b(0x2dd)](_0x353c60,_0x3d9ffd)[_0x2e4e2b(0x2b0)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x2e4e2b(0x289)]({'quality':0x5a})[_0x2e4e2b(0x2f8)](_0x435541),_0x1d71b9[_0x2e4e2b(0x1e2)]['refImage']=_0x5a12c2;}else{const _0x536b9e=_0xe8e686['apply'](_0x13a701,arguments);return _0x48094b=null,_0x536b9e;}}return _0x1d71b9[_0x2e4e2b(0x1e2)][_0x2e4e2b(0x2a6)]=_0x38cfc4[_0x2e4e2b(0x21d)](_0x15a959[_0x2e4e2b(0x299)](_0x48cfce,0x3c)),_0x1d71b9['body'][_0x2e4e2b(0x29c)]=_0x38cfc4[_0x2e4e2b(0x21d)](_0x15a959[_0x2e4e2b(0x285)](_0x165fa9,0x3c)),await _0x5905e1['insertOne'](_0x1d71b9[_0x2e4e2b(0x1e2)]),_0x3bd822[_0x2e4e2b(0x30f)](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x0,'class':_0x15a959['zsbZb'],'msg':_0x2e4e2b(0x2a4)+_0x18446e+_0x2e4e2b(0x217),'doc':_0x1d71b9['body']}));}else{const _0xaae902={'FcEhj':wMFJBB[_0x2e4e2b(0x30e)],'UChyV':wMFJBB['SdlYR'],'Bnoqc':function(_0x2f50ac,_0x81f3b6){return wMFJBB['cKgim'](_0x2f50ac,_0x81f3b6);},'sneqS':wMFJBB[_0x2e4e2b(0x1eb)],'MHLDK':function(_0x4f41fc,_0x3256e9){const _0x40dbb6=_0x2e4e2b;return wMFJBB[_0x40dbb6(0x2db)](_0x4f41fc,_0x3256e9);},'WqXef':wMFJBB[_0x2e4e2b(0x24f)],'SDLMa':wMFJBB[_0x2e4e2b(0x230)],'TtDdB':function(_0x2ae96a){return wMFJBB['QHsgj'](_0x2ae96a);}};wMFJBB['zMrgM'](_0x5da897,this,function(){const _0x53fdbb=_0x2e4e2b,_0x26027d=new _0x49e982(_0xaae902['FcEhj']),_0x2c417e=new _0x233808(_0xaae902['UChyV'],'i'),_0x3d6932=_0xaae902[_0x53fdbb(0x260)](_0x22e6ae,_0xaae902[_0x53fdbb(0x256)]);!_0x26027d[_0x53fdbb(0x300)](_0xaae902['MHLDK'](_0x3d6932,_0xaae902['WqXef']))||!_0x2c417e['test'](_0xaae902[_0x53fdbb(0x208)](_0x3d6932,_0xaae902[_0x53fdbb(0x290)]))?_0xaae902[_0x53fdbb(0x260)](_0x3d6932,'0'):_0xaae902[_0x53fdbb(0x1c5)](_0x19463b);})();}}else{if(_0x15a959['htKbF'](_0xd73681,0x1)&&_0x2ed2e0){if(_0x15a959[_0x2e4e2b(0x207)](_0x15a959['bSWrH'],_0x15a959[_0x2e4e2b(0x2b4)])){if(_0x15a959[_0x2e4e2b(0x23c)](_0x1985cc['userAuthority'],'U'))return _0x3bd822['send'](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'class':_0x15a959[_0x2e4e2b(0x1ca)],'msg':_0x15a959[_0x2e4e2b(0x28e)]}));const _0x2c6e0c=await _0x5905e1['findOne']({'docId':_0x2ed2e0,'userId':_0x1985cc['userId']});if(!_0x2c6e0c)return _0x3bd822[_0x2e4e2b(0x30f)](JSON['stringify']({'isSave':!0x1,'class':_0x15a959['PKtMU'],'msg':_0x15a959[_0x2e4e2b(0x2f5)]}));if(_0x15a959[_0x2e4e2b(0x281)](_0x2c6e0c['docStatusNumber'],0x1))return _0x3bd822[_0x2e4e2b(0x30f)](JSON['stringify']({'isSave':!0x1,'class':_0x15a959['PKtMU'],'msg':_0x15a959[_0x2e4e2b(0x1fa)]}));if(_0x15a959['wNogI'](_0x2c6e0c[_0x2e4e2b(0x2f4)],0x1)&&_0x2c6e0c['dateTimeCanEdit']){if(_0x15a959['qBUQM'](_0x15a959[_0x2e4e2b(0x2c5)],_0x15a959[_0x2e4e2b(0x2c5)])){const _0x150eb7=_0x4e38e0?function(){const _0xa6eddb=_0x2e4e2b;if(_0x334f5d){const _0x25ecd7=_0xda64ef[_0xa6eddb(0x305)](_0x6400d0,arguments);return _0x732474=null,_0x25ecd7;}}:function(){};return _0x2f13e5=![],_0x150eb7;}else{let _0x2d47ff=await _0x41dbf7['check_DocDateTime_CanEdit'](_0x2c6e0c,_0x4ee82c,_0x1985cc[_0x2e4e2b(0x272)]);if(_0x2c6e0c[_0x2e4e2b(0x2df)]=_0x2d47ff[_0x2e4e2b(0x2df)],_0x15a959[_0x2e4e2b(0x26d)](_0x2d47ff[_0x2e4e2b(0x1da)],!0x1))return _0x2c6e0c[_0x2e4e2b(0x2f4)]=_0x2d47ff['docStatusNumber'],_0x3bd822[_0x2e4e2b(0x30f)](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'doc':_0x2c6e0c,'class':_0x15a959[_0x2e4e2b(0x1ca)],'msg':_0x15a959[_0x2e4e2b(0x2f9)]}));}}if((_0x15a959[_0x2e4e2b(0x25c)](_0x2c6e0c['docStatusNumber'],0x1)||_0x15a959[_0x2e4e2b(0x2d3)](_0x2c6e0c['docStatusNumber'],0x2))&&_0x2c6e0c[_0x2e4e2b(0x29c)]){if(_0x15a959[_0x2e4e2b(0x293)](_0x15a959[_0x2e4e2b(0x1f5)],_0x15a959[_0x2e4e2b(0x1f5)])){const _0x51ca69=_0x1fe239?function(){const _0x3b9cab=_0x2e4e2b;if(_0x42adc6){const _0x204631=_0x12c627[_0x3b9cab(0x305)](_0x426281,arguments);return _0x28467e=null,_0x204631;}}:function(){};return _0x3c49e1=![],_0x51ca69;}else{const _0x488004=await _0x41dbf7[_0x2e4e2b(0x1dd)](_0x2c6e0c,_0x4ee82c,_0x1985cc['userId']);if(_0x2c6e0c[_0x2e4e2b(0x2d8)]=_0x488004[_0x2e4e2b(0x2d8)],_0x15a959['tUjzP'](_0x488004[_0x2e4e2b(0x2c3)],!0x1))return _0x3bd822['send'](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'doc':_0x2c6e0c,'class':_0x15a959[_0x2e4e2b(0x1ca)],'msg':_0x15a959[_0x2e4e2b(0x1c3)]}));}}if(_0x1c71a7){if(_0x15a959[_0x2e4e2b(0x205)](_0x15a959[_0x2e4e2b(0x29d)],_0x15a959['XByRv']))wMFJBB[_0x2e4e2b(0x2dd)](_0x114e4e,'0');else{const _0x1b5d2d=_0x1c71a7[_0x2e4e2b(0x2b5)](/^data:image\/\w+;base64,/,''),_0x2d9d0c=Buffer[_0x2e4e2b(0x21f)](_0x1b5d2d,_0x15a959['cExXX']),_0x527c23=_0x2c6e0c[_0x2e4e2b(0x303)]+'.jpg',{folderName:_0x1fc2be}=_0x41dbf7[_0x2e4e2b(0x28a)](_0x1d71b9[_0x2e4e2b(0x225)]),_0x2c04f6=_0x448653[_0x2e4e2b(0x251)](_0x1fc2be,_0x527c23);await _0x15a959[_0x2e4e2b(0x27d)](_0x353c60,_0x2d9d0c)[_0x2e4e2b(0x2b0)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x2e4e2b(0x289)]({'quality':0x5a})[_0x2e4e2b(0x2f8)](_0x2c04f6),_0x1d71b9['body'][_0x2e4e2b(0x2c2)]=_0x527c23;}}const _0x142c83=await _0x5905e1[_0x2e4e2b(0x2cd)]({'docId':_0x2ed2e0,'userId':_0x1985cc[_0x2e4e2b(0x272)]},{'$set':_0x1d71b9[_0x2e4e2b(0x1e2)]});if(_0x15a959[_0x2e4e2b(0x277)](_0x142c83[_0x2e4e2b(0x23e)],0x0)){if(_0x15a959[_0x2e4e2b(0x241)](_0x15a959['dSRgM'],_0x15a959['ESrWv'])){const _0x165c67=_0x13645d[_0x2e4e2b(0x215)]['prototype']['bind'](_0x14c29a),_0x3e9c4a=_0x39407a[_0x2cf687],_0x48d052=_0x595664[_0x3e9c4a]||_0x165c67;_0x165c67[_0x2e4e2b(0x262)]=_0x1811e8[_0x2e4e2b(0x1c2)](_0x20f02c),_0x165c67['toString']=_0x48d052[_0x2e4e2b(0x20d)]['bind'](_0x48d052),_0x3ece2a[_0x3e9c4a]=_0x165c67;}else{const _0x24c594=_0x41dbf7[_0x2e4e2b(0x1f8)](_0x2c6e0c,_0x1d71b9['body']);if(_0x15a959[_0x2e4e2b(0x2f2)](_0x24c594['length'],0x0)){if(_0x15a959[_0x2e4e2b(0x205)](_0x15a959[_0x2e4e2b(0x25e)],_0x15a959[_0x2e4e2b(0x1e4)]))wMFJBB[_0x2e4e2b(0x295)](_0x11d6c3,0x0);else{const _0x2df31f={'dateTime':_0x25fead[_0x2e4e2b(0x28b)]()[_0x2e4e2b(0x2a8)](_0x15a959[_0x2e4e2b(0x2af)])[_0x2e4e2b(0x202)](_0x15a959[_0x2e4e2b(0x1dc)]),'userId':_0x1985cc[_0x2e4e2b(0x272)],'userFullname':_0x1985cc[_0x2e4e2b(0x29b)],'changes':_0x24c594};return await _0x5905e1[_0x2e4e2b(0x2cd)]({'docId':_0x2ed2e0},{'$push':{'changesHistory':{'$each':[_0x2df31f],'$position':0x0}}}),_0x3bd822[_0x2e4e2b(0x30f)](JSON[_0x2e4e2b(0x1c0)]({'doc':_0x1d71b9[_0x2e4e2b(0x1e2)],'isSave':!0x0,'class':_0x15a959['zsbZb'],'msg':_0x2e4e2b(0x296)+_0x2ed2e0+_0x2e4e2b(0x1fe)}));}}else return _0x3bd822[_0x2e4e2b(0x30f)](JSON['stringify']({'doc':_0x1d71b9[_0x2e4e2b(0x1e2)],'isSave':!0x0,'class':_0x15a959[_0x2e4e2b(0x2dc)],'msg':'อัปเดท\x20'+_0x2ed2e0+_0x2e4e2b(0x2a3)}));}}else{if(_0x142c83['acknowledged']&&_0x15a959[_0x2e4e2b(0x254)](_0x142c83['modifiedCount'],0x1))return _0x3bd822[_0x2e4e2b(0x30f)](JSON['stringify']({'doc':_0x1d71b9[_0x2e4e2b(0x1e2)],'isSave':!0x1,'class':_0x15a959[_0x2e4e2b(0x2d6)],'msg':'\x22'+_0x2ed2e0+'\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล'}));}}else{if(_0x22ae7b){const _0x5cdc37=_0x142f75['apply'](_0x1e7702,arguments);return _0x2ffbef=null,_0x5cdc37;}}}else return(_0x15a959['wNogI'](_0xd73681,0x2)||_0x15a959['rbxBl'](_0xd73681,0xa))&&_0x2ed2e0?_0x3bd822[_0x2e4e2b(0x30f)](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'class':_0x15a959['PKtMU'],'msg':_0x2e4e2b(0x20e)+_0xd73681+_0x2e4e2b(0x24e)})):_0x3bd822['send'](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'class':_0x15a959[_0x2e4e2b(0x1ca)],'msg':_0x15a959['XSeMc']}));}}}catch(_0x365bf2){_0x15a959['VaVWn'](_0x15a959[_0x2e4e2b(0x30b)],_0x15a959[_0x2e4e2b(0x30b)])?wMFJBB[_0x2e4e2b(0x2d0)](_0x187588):(console[_0x2e4e2b(0x210)](_0x365bf2),_0x3bd822[_0x2e4e2b(0x30f)](JSON[_0x2e4e2b(0x1c0)]({'isSave':!0x1,'class':_0x15a959['PKtMU'],'msg':_0x365bf2[_0x2e4e2b(0x1c7)]})));}finally{_0x15a959[_0x2e4e2b(0x1f3)](_0x15a959[_0x2e4e2b(0x291)],_0x15a959[_0x2e4e2b(0x257)])?function(){return!![];}[_0x2e4e2b(0x215)](wMFJBB[_0x2e4e2b(0x24b)](wMFJBB[_0x2e4e2b(0x25f)],wMFJBB[_0x2e4e2b(0x1c4)]))[_0x2e4e2b(0x2c8)](wMFJBB[_0x2e4e2b(0x2a9)]):_0x3542ea[_0x2e4e2b(0x274)]();}}),I[_0x102844(0x24d)](B,_0x52ab9d[_0x102844(0x2ea)],async(_0x4a663e,_0x3d9f6d)=>{const _0x20a5bc=_0x102844,_0x1e7654={'sifnM':_0x20a5bc(0x238),'QaKiF':function(_0x19e0ac,_0x4ae697){return _0x19e0ac!==_0x4ae697;},'mDeVR':_0x20a5bc(0x1e5),'SRCqN':'Error\x20reading\x20image:','dCLdP':_0x20a5bc(0x268),'pTULl':_0x20a5bc(0x276),'tSXAe':_0x20a5bc(0x1bc),'ARhAI':_0x20a5bc(0x278)},{filename:_0x17611d}=_0x4a663e[_0x20a5bc(0x1e2)];if(!_0x17611d)return _0x3d9f6d[_0x20a5bc(0x206)](0x190)[_0x20a5bc(0x30f)](_0x1e7654[_0x20a5bc(0x20b)]);const {folderName:_0x1db27d}=_0x41dbf7['get_Info_ByUrl'](_0x4a663e[_0x20a5bc(0x225)]),_0x188bca=_0x448653[_0x20a5bc(0x251)](_0x1db27d,_0x17611d),_0x1992a6=_0x448653[_0x20a5bc(0x223)](_0x17611d)['toLowerCase'](),_0x4d7092={'.jpg':_0x1e7654['ARhAI'],'.jpeg':_0x1e7654[_0x20a5bc(0x2bf)]};_0x14aab2[_0x20a5bc(0x24a)](_0x188bca,(_0x4d211f,_0xfe82ac)=>{const _0x4e1372=_0x20a5bc,_0x51f962={'TNiyt':_0x1e7654['sifnM']};if(_0x1e7654[_0x4e1372(0x301)](_0x1e7654[_0x4e1372(0x280)],_0x1e7654[_0x4e1372(0x280)]))_0x5b9006['log'](_0x174afa),_0x1de1b9[_0x4e1372(0x30f)](_0xd8868f[_0x4e1372(0x1c0)]({'isSave':!0x1,'class':_0x51f962[_0x4e1372(0x282)],'msg':_0x36f947[_0x4e1372(0x1c7)]}));else{if(_0x4d211f)return console[_0x4e1372(0x27e)](_0x1e7654[_0x4e1372(0x2d7)],_0x4d211f),_0x3d9f6d[_0x4e1372(0x206)](0x1f4)[_0x4e1372(0x30f)](_0x1e7654[_0x4e1372(0x214)]);const _0xff4217=_0x4d7092[_0x1992a6]||_0x1e7654['pTULl'];_0x3d9f6d['writeHead'](0xc8,{'Content-Type':_0xff4217}),_0x3d9f6d[_0x4e1372(0x2a1)](_0xfe82ac);}});});function _0x4bae(){const _0x492554=['tuNne','FvvFH','status','qBUQM','MHLDK','yyyy-MM-dd\x20HH:mm','wSBqV','tSXAe','oCWrb','toString','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','xOXhM','log','table','reLko','WuKdZ','dCLdP','constructor','getUserData','{{sep}}เรียบร้อยแล้ว','padStart','getMainDocPathObj','get','slice','docMain','getDateTime','while\x20(true)\x20{}','from','ZbTcN','EKEzJ','nVDJB','extname','MDyvv','originalUrl','oznZv','dbUrl','xaNVu','counter','UQWAU','32pkaCLG','LISUD','DOC_STATUS_TITLE','bYbCB','EVqae','ONztC','action','KNMFh','KyhdF','refImageBase64','KOsbw','FPKtV','UTWFL','red','vAhAY','green','wXAyf','yBKaK','.jpg','modifiedCount','qBAvO','lOSVB','wLqNW','YNMWN','fQkig','EWmUL','PjWWH','PATH_WAREHOUSE_IN','rJPiA','7050nefJic','ZJmmp','readFile','kzBjG','xEKnW','post','\x20ได้','CiZQH','9111AGtNPQ','join','HUoCJ','VPGFI','QSiWq','split','sneqS','IsFaT','tUjzP','ไม่สามารถอัปเดทเอกสารได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20แล้ว','gger','aKraQ','cczqT','getSettings','QwPIw','pZbYG','Bnoqc','flash','__proto__','docDateTime','console','writeHead','hqyND','zYxjk','เกิดข้อผิดพลาดในการดึงรูปภาพ','2636058ksqSkR','warn','YudAS','CFPBz','QOEyG','Asia/Bangkok','msg','OYdRQ','hMucB','userId','{}.constructor(\x22return\x20this\x22)(\x20)','close','hLXFb','application/octet-stream','QETUT','image/jpeg','waGNT','uHIMm','stateObject','BGnee','wspcL','error','Lqqyn','mDeVR','nxeNN','TNiyt','Error\x20reading\x20image:','JhYMD','vAkWM','WeMLD','mDcoG','EbzjD','jpeg','get_Info_ByUrl','now','scJwi','tIhZx','OKQei','JPDLW','SDLMa','iVxvh','FHszZ','QyCeE','AQHtr','hQoqd','อัปเดท\x20','sQNEV','return\x20(function()\x20','tSCcT','เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ','userFullname','dateTimeCanCancel','PAONy','jKbvP','input','AOWlo','end','Router','\x20เรียบร้อยแล้ว','สร้างเอกสารใหม่\x20','vYDHF','dateTimeCanEdit','chxCI','setZone','XcJxE','CbRYZ','nIWPx','ZQUHl','ffqku','cKgim','bMVNl','resize','jTaUC','fHMKR','init','NEEna','replace','bIFSx','KfIQl','dhOIn','vmvsc','getFullYear','7516404VRdZKU','TAERU','pwpYY','QWMfJ','ARhAI','NbJVt','string','refImage','canCancel','cExXX','gYbvt','debu','jYEzs','call','query','cCpAb','exception','limit','updateOne','bcaUj','cjNZz','RNhJk','aDnpV','sKnnf','EyCKT','PAHIR','MNSyb','ewwhX','SRCqN','dateTimeCancelRemain','trace','สถานะเอกสารผิดผลาด','SzdHp','zsbZb','igxCi','JKVLo','dateTimeEditRemain','pRkRi','xwhPp','prototype','UFFrY','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','sales','seaXS','/save','sendFile','LAJCK','isAuth','zPOpq','mMxnx','fqiUU','JVdyZ','DhDhE','TOlPP','function\x20*\x5c(\x20*\x5c)','xJujx','sUuir','docStatusNumber','tILVj','qVmoY','1663224zIcgqX','toFile','Vsqns','axzNq','lhpEi','length','chain','VBAcs','ICgqt','test','QaKiF','/view-image','docId','KZdfn','apply','ZPEWn','warehouseOut','KYzvg','HYnue','GUwOH','bXKTz','Ylyof','OGlbf','iZBWZ','send','ไม่พบไฟล์รูปภาพ','HvRuF','jRdIB','gMlVC','stringify','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','bind','FMQyS','MwLzx','TtDdB','pnfmc','message','WWpoW','tSNpX','PKtMU','1114940UmoBpg','kUrLx','PLnRl','PATH_SALES','info','pvjuw','GgbKv','BPxrg','RdSGC','zHsYD','bxQXO','QcKce','qmMyy','ไม่สามารถแก้ไขเอกสารนี้ได้{{sep}}หากต้องการแก้ไข{{sep}}กรุณายกเลิกเอกสารนี้แล้วสร้างใหม่','hCdSR','canEdit','yyyy-MM-dd','TYsmw','check_DocDateTime_CanCancel','eVUwZ','FJgTY','WZGRQ','userAuthority','body','Zriuu','HLKBc','JoXTF','hmGHO','PAGE','LAHEY','gwQas','nJsvh','VLBmq','QLNii','YKilH','ShCTA','yZWKv','tCZjM','gdXev','vbXDw','uaQLO','AJAUM','rWRVV','zXstA','NegHF','getChangeHistory','oKgZf','CMFDA','warehouseIn','connect','1099434fejSXx','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','find','OxMPB','ibqOD','toFormat','yellow'];_0x4bae=function(){return _0x492554;};return _0x4bae();}export default I;function _0x1c7e03(_0x888f35){const _0x24be14=_0x102844,_0x19cf9f={'hCdSR':function(_0x42cb4d,_0x400530){return _0x42cb4d(_0x400530);},'nJsvh':function(_0x3584fb,_0xf5f644){return _0x3584fb+_0xf5f644;},'ZPEWn':_0x24be14(0x298),'yumOz':_0x24be14(0x273),'EVqae':function(_0x4a7ca1){return _0x4a7ca1();},'ZQUHl':function(_0x38741e,_0x74eccf){return _0x38741e===_0x74eccf;},'bxQXO':_0x24be14(0x2c1),'gMlVC':function(_0x5c9233,_0x4108b8){return _0x5c9233===_0x4108b8;},'WZGRQ':_0x24be14(0x22e),'jRdIB':'while\x20(true)\x20{}','sQNEV':_0x24be14(0x229),'cCpAb':function(_0x2c8e5b,_0x3e9173){return _0x2c8e5b!==_0x3e9173;},'MNSyb':function(_0x5a1641,_0x126b2c){return _0x5a1641+_0x126b2c;},'YeCWP':function(_0x26e229,_0x2a155d){return _0x26e229/_0x2a155d;},'OtRnD':'length','KZdfn':function(_0x202507,_0xc23072){return _0x202507===_0xc23072;},'vgvVO':function(_0x5047d6,_0x2e2c58){return _0x5047d6%_0x2e2c58;},'seaXS':_0x24be14(0x2c6),'hmGHO':_0x24be14(0x25a),'UVUey':_0x24be14(0x231),'fQkig':function(_0x5186da,_0x2138d5){return _0x5186da+_0x2138d5;},'zPOpq':'stateObject','YKilH':function(_0x5afabc,_0x40cb8c){return _0x5afabc(_0x40cb8c);},'Ylyof':function(_0x33e0e4,_0x4b3728){return _0x33e0e4(_0x4b3728);}};function _0x297120(_0x48fb11){const _0x2b2c40=_0x24be14;if(_0x19cf9f[_0x2b2c40(0x2ac)](typeof _0x48fb11,_0x19cf9f[_0x2b2c40(0x1d5)])){if(_0x19cf9f[_0x2b2c40(0x1bf)](_0x19cf9f[_0x2b2c40(0x1e0)],_0x19cf9f[_0x2b2c40(0x1e0)]))return function(_0x321c85){}[_0x2b2c40(0x215)](_0x19cf9f[_0x2b2c40(0x1be)])[_0x2b2c40(0x305)](_0x19cf9f[_0x2b2c40(0x297)]);else{const _0x5b2b53=_0x19cf9f[_0x2b2c40(0x1d9)](_0x4a2206,_0x19cf9f[_0x2b2c40(0x1ea)](_0x19cf9f[_0x2b2c40(0x1ea)](_0x19cf9f[_0x2b2c40(0x306)],_0x19cf9f['yumOz']),');'));_0x480936=_0x19cf9f[_0x2b2c40(0x22f)](_0x5b2b53);}}else _0x19cf9f[_0x2b2c40(0x2ca)](_0x19cf9f['MNSyb']('',_0x19cf9f['YeCWP'](_0x48fb11,_0x48fb11))[_0x19cf9f['OtRnD']],0x1)||_0x19cf9f[_0x2b2c40(0x304)](_0x19cf9f['vgvVO'](_0x48fb11,0x14),0x0)?function(){return!![];}[_0x2b2c40(0x215)](_0x19cf9f[_0x2b2c40(0x2d5)](_0x19cf9f[_0x2b2c40(0x2e6)],_0x19cf9f[_0x2b2c40(0x1e6)]))[_0x2b2c40(0x2c8)](_0x19cf9f['UVUey']):function(){return![];}[_0x2b2c40(0x215)](_0x19cf9f[_0x2b2c40(0x243)](_0x19cf9f[_0x2b2c40(0x2e6)],_0x19cf9f[_0x2b2c40(0x1e6)]))[_0x2b2c40(0x305)](_0x19cf9f[_0x2b2c40(0x2eb)]);_0x19cf9f[_0x2b2c40(0x1ed)](_0x297120,++_0x48fb11);}try{if(_0x888f35)return _0x297120;else _0x19cf9f[_0x24be14(0x30c)](_0x297120,0x0);}catch(_0x1e8a56){}}